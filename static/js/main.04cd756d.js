/*! For license information please see main.04cd756d.js.LICENSE.txt */
!function(){var e={1694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},8559:function(e,t){!function(e){"use strict";var t="1.9.3";function n(e){var t,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(t in i=arguments[n])e[t]=i[t];return e}var r=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function i(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var r=n.call(arguments,2);return function(){return e.apply(t,r.length?r.concat(n.call(arguments)):arguments)}}var o=0;function a(e){return"_leaflet_id"in e||(e._leaflet_id=++o),e._leaflet_id}function s(e,t,n){var r,i,o,a;return a=function(){r=!1,i&&(o.apply(n,i),i=!1)},o=function(){r?i=arguments:(e.apply(n,arguments),setTimeout(a,t),r=!0)},o}function u(e,t,n){var r=t[1],i=t[0],o=r-i;return e===r&&n?e:((e-i)%o+o)%o+i}function c(){return!1}function l(e,t){if(!1===t)return e;var n=Math.pow(10,void 0===t?6:t);return Math.round(e*n)/n}function f(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function h(e){return f(e).split(/\s+/)}function d(e,t){for(var n in Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?r(e.options):{}),t)e.options[n]=t[n];return e.options}function p(e,t,n){var r=[];for(var i in e)r.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(e[i]));return(t&&-1!==t.indexOf("?")?"&":"?")+r.join("&")}var v=/\{ *([\w_ -]+) *\}/g;function m(e,t){return e.replace(v,(function(e,n){var r=t[n];if(void 0===r)throw new Error("No value provided for variable "+e);return"function"===typeof r&&(r=r(t)),r}))}var g=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function y(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var b="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function _(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var w=0;function k(e){var t=+new Date,n=Math.max(0,16-(t-w));return w=t+n,window.setTimeout(e,n)}var x=window.requestAnimationFrame||_("RequestAnimationFrame")||k,E=window.cancelAnimationFrame||_("CancelAnimationFrame")||_("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function S(e,t,n){if(!n||x!==k)return x.call(window,i(e,t));e.call(t)}function T(e){e&&E.call(window,e)}var C={__proto__:null,extend:n,create:r,bind:i,get lastId(){return o},stamp:a,throttle:s,wrapNum:u,falseFn:c,formatNum:l,trim:f,splitWords:h,setOptions:d,getParamString:p,template:m,isArray:g,indexOf:y,emptyImageUrl:b,requestFn:x,cancelFn:E,requestAnimFrame:S,cancelAnimFrame:T};function I(){}function P(e){if("undefined"!==typeof L&&L&&L.Mixin){e=g(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}I.extend=function(e){var t=function(){d(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=t.__super__=this.prototype,o=r(i);for(var a in o.constructor=t,t.prototype=o,this)Object.prototype.hasOwnProperty.call(this,a)&&"prototype"!==a&&"__super__"!==a&&(t[a]=this[a]);return e.statics&&n(t,e.statics),e.includes&&(P(e.includes),n.apply(null,[o].concat(e.includes))),n(o,e),delete o.statics,delete o.includes,o.options&&(o.options=i.options?r(i.options):{},n(o.options,e.options)),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=o._initHooks.length;e<t;e++)o._initHooks[e].call(this)}},t},I.include=function(e){var t=this.prototype.options;return n(this.prototype,e),e.options&&(this.prototype.options=t,this.mergeOptions(e.options)),this},I.mergeOptions=function(e){return n(this.prototype.options,e),this},I.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n="function"===typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var A={on:function(e,t,n){if("object"===typeof e)for(var r in e)this._on(r,e[r],t);else for(var i=0,o=(e=h(e)).length;i<o;i++)this._on(e[i],t,n);return this},off:function(e,t,n){if(arguments.length)if("object"===typeof e)for(var r in e)this._off(r,e[r],t);else{e=h(e);for(var i=1===arguments.length,o=0,a=e.length;o<a;o++)i?this._off(e[o]):this._off(e[o],t,n)}else delete this._events;return this},_on:function(e,t,n,r){if("function"===typeof t){if(!1===this._listens(e,t,n)){n===this&&(n=void 0);var i={fn:t,ctx:n};r&&(i.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(i)}}else console.warn("wrong listener type: "+typeof t)},_off:function(e,t,n){var r,i,o;if(this._events&&(r=this._events[e]))if(1!==arguments.length)if("function"===typeof t){var a=this._listens(e,t,n);if(!1!==a){var s=r[a];this._firingCount&&(s.fn=c,this._events[e]=r=r.slice()),r.splice(a,1)}}else console.warn("wrong listener type: "+typeof t);else{if(this._firingCount)for(i=0,o=r.length;i<o;i++)r[i].fn=c;delete this._events[e]}},fire:function(e,t,r){if(!this.listens(e,r))return this;var i=n({},t,{type:e,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var o=this._events[e];if(o){this._firingCount=this._firingCount+1||1;for(var a=0,s=o.length;a<s;a++){var u=o[a],c=u.fn;u.once&&this.off(e,c,u.ctx),c.call(u.ctx||this,i)}this._firingCount--}}return r&&this._propagateEvent(i),this},listens:function(e,t,n,r){"string"!==typeof e&&console.warn('"string" type argument expected');var i=t;"function"!==typeof t&&(r=!!t,i=void 0,n=void 0);var o=this._events&&this._events[e];if(o&&o.length&&!1!==this._listens(e,i,n))return!0;if(r)for(var a in this._eventParents)if(this._eventParents[a].listens(e,t,n,r))return!0;return!1},_listens:function(e,t,n){if(!this._events)return!1;var r=this._events[e]||[];if(!t)return!!r.length;n===this&&(n=void 0);for(var i=0,o=r.length;i<o;i++)if(r[i].fn===t&&r[i].ctx===n)return i;return!1},once:function(e,t,n){if("object"===typeof e)for(var r in e)this._on(r,e[r],t,!0);else for(var i=0,o=(e=h(e)).length;i<o;i++)this._on(e[i],t,n,!0);return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[a(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[a(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,n({layer:e.target,propagatedFrom:e.target},e),!0)}};A.addEventListener=A.on,A.removeEventListener=A.clearAllEventListeners=A.off,A.addOneTimeEventListener=A.once,A.fireEvent=A.fire,A.hasEventListeners=A.listens;var N=I.extend(A);function R(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}var O=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};function M(e,t,n){return e instanceof R?e:g(e)?new R(e[0],e[1]):void 0===e||null===e?e:"object"===typeof e&&"x"in e&&"y"in e?new R(e.x,e.y):new R(e,t,n)}function D(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}function F(e,t){return!e||e instanceof D?e:new D(e,t)}function j(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}function z(e,t){return e instanceof j?e:new j(e,t)}function B(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==n&&(this.alt=+n)}function V(e,t,n){return e instanceof B?e:g(e)&&"object"!==typeof e[0]?3===e.length?new B(e[0],e[1],e[2]):2===e.length?new B(e[0],e[1]):null:void 0===e||null===e?e:"object"===typeof e&&"lat"in e?new B(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new B(e,t,n)}R.prototype={clone:function(){return new R(this.x,this.y)},add:function(e){return this.clone()._add(M(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(M(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new R(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new R(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=O(this.x),this.y=O(this.y),this},distanceTo:function(e){var t=(e=M(e)).x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return(e=M(e)).x===this.x&&e.y===this.y},contains:function(e){return e=M(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+l(this.x)+", "+l(this.y)+")"}},D.prototype={extend:function(e){var t,n;if(!e)return this;if(e instanceof R||"number"===typeof e[0]||"x"in e)t=n=M(e);else if(t=(e=F(e)).min,n=e.max,!t||!n)return this;return this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)):(this.min=t.clone(),this.max=n.clone()),this},getCenter:function(e){return M((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return M(this.min.x,this.max.y)},getTopRight:function(){return M(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return(e="number"===typeof e[0]||e instanceof R?M(e):F(e))instanceof D?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=F(e);var t=this.min,n=this.max,r=e.min,i=e.max,o=i.x>=t.x&&r.x<=n.x,a=i.y>=t.y&&r.y<=n.y;return o&&a},overlaps:function(e){e=F(e);var t=this.min,n=this.max,r=e.min,i=e.max,o=i.x>t.x&&r.x<n.x,a=i.y>t.y&&r.y<n.y;return o&&a},isValid:function(){return!(!this.min||!this.max)},pad:function(e){var t=this.min,n=this.max,r=Math.abs(t.x-n.x)*e,i=Math.abs(t.y-n.y)*e;return F(M(t.x-r,t.y-i),M(n.x+r,n.y+i))},equals:function(e){return!!e&&(e=F(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight()))}},j.prototype={extend:function(e){var t,n,r=this._southWest,i=this._northEast;if(e instanceof B)t=e,n=e;else{if(!(e instanceof j))return e?this.extend(V(e)||z(e)):this;if(t=e._southWest,n=e._northEast,!t||!n)return this}return r||i?(r.lat=Math.min(t.lat,r.lat),r.lng=Math.min(t.lng,r.lng),i.lat=Math.max(n.lat,i.lat),i.lng=Math.max(n.lng,i.lng)):(this._southWest=new B(t.lat,t.lng),this._northEast=new B(n.lat,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,r=Math.abs(t.lat-n.lat)*e,i=Math.abs(t.lng-n.lng)*e;return new j(new B(t.lat-r,t.lng-i),new B(n.lat+r,n.lng+i))},getCenter:function(){return new B((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new B(this.getNorth(),this.getWest())},getSouthEast:function(){return new B(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"===typeof e[0]||e instanceof B||"lat"in e?V(e):z(e);var t,n,r=this._southWest,i=this._northEast;return e instanceof j?(t=e.getSouthWest(),n=e.getNorthEast()):t=n=e,t.lat>=r.lat&&n.lat<=i.lat&&t.lng>=r.lng&&n.lng<=i.lng},intersects:function(e){e=z(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),o=i.lat>=t.lat&&r.lat<=n.lat,a=i.lng>=t.lng&&r.lng<=n.lng;return o&&a},overlaps:function(e){e=z(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),o=i.lat>t.lat&&r.lat<n.lat,a=i.lng>t.lng&&r.lng<n.lng;return o&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=z(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}},B.prototype={equals:function(e,t){return!!e&&(e=V(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+l(this.lat,e)+", "+l(this.lng,e)+")"},distanceTo:function(e){return H.distance(this,V(e))},wrap:function(){return H.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return z([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new B(this.lat,this.lng,this.alt)}};var U={latLngToPoint:function(e,t){var n=this.projection.project(e),r=this.scale(t);return this.transformation._transform(n,r)},pointToLatLng:function(e,t){var n=this.scale(t),r=this.transformation.untransform(e,n);return this.projection.unproject(r)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e);return new D(this.transformation.transform(t.min,n),this.transformation.transform(t.max,n))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?u(e.lng,this.wrapLng,!0):e.lng;return new B(this.wrapLat?u(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),r=t.lat-n.lat,i=t.lng-n.lng;if(0===r&&0===i)return e;var o=e.getSouthWest(),a=e.getNorthEast();return new j(new B(o.lat-r,o.lng-i),new B(a.lat-r,a.lng-i))}},H=n({},U,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,r=e.lat*n,i=t.lat*n,o=Math.sin((t.lat-e.lat)*n/2),a=Math.sin((t.lng-e.lng)*n/2),s=o*o+Math.cos(r)*Math.cos(i)*a*a,u=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*u}}),q=6378137,W={R:q,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,e.lat),-n),i=Math.sin(r*t);return new R(this.R*e.lng*t,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(e){var t=180/Math.PI;return new B((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:function(){var e=q*Math.PI;return new D([-e,-e],[e,e])}()};function K(e,t,n,r){if(g(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=n,this._d=r}function G(e,t,n,r){return new K(e,t,n,r)}K.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new R((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var Z=n({},H,{code:"EPSG:3857",projection:W,transformation:function(){var e=.5/(Math.PI*W.R);return G(e,.5,-e,.5)}()}),Y=n({},Z,{code:"EPSG:900913"});function Q(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function $(e,t){var n,r,i,o,a,s,u="";for(n=0,i=e.length;n<i;n++){for(r=0,o=(a=e[n]).length;r<o;r++)u+=(r?"L":"M")+(s=a[r]).x+" "+s.y;u+=t?Le.svg?"z":"x":""}return u||"M0 0"}var X=document.documentElement.style,J="ActiveXObject"in window,ee=J&&!document.addEventListener,te="msLaunchUri"in navigator&&!("documentMode"in document),ne=De("webkit"),re=De("android"),ie=De("android 2")||De("android 3"),oe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ae=re&&De("Google")&&oe<537&&!("AudioNode"in window),se=!!window.opera,ue=!te&&De("chrome"),ce=De("gecko")&&!ne&&!se&&!J,le=!ue&&De("safari"),fe=De("phantom"),he="OTransition"in X,de=0===navigator.platform.indexOf("Win"),pe=J&&"transition"in X,ve="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ie,me="MozPerspective"in X,ge=!window.L_DISABLE_3D&&(pe||ve||me)&&!he&&!fe,ye="undefined"!==typeof orientation||De("mobile"),be=ye&&ne,_e=ye&&ve,we=!window.PointerEvent&&window.MSPointerEvent,ke=!(!window.PointerEvent&&!we),xe="ontouchstart"in window||!!window.TouchEvent,Ee=!window.L_NO_TOUCH&&(xe||ke),Se=ye&&se,Te=ye&&ce,Ce=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ie=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",c,t),window.removeEventListener("testPassiveEventSupport",c,t)}catch(n){}return e}(),Pe=!!document.createElement("canvas").getContext,Ae=!(!document.createElementNS||!Q("svg").createSVGRect),Ne=!!Ae&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(e.firstChild&&e.firstChild.namespaceURI)}(),Re=!Ae&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"===typeof t.adj}catch(n){return!1}}(),Oe=0===navigator.platform.indexOf("Mac"),Me=0===navigator.platform.indexOf("Linux");function De(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var Le={ie:J,ielt9:ee,edge:te,webkit:ne,android:re,android23:ie,androidStock:ae,opera:se,chrome:ue,gecko:ce,safari:le,phantom:fe,opera12:he,win:de,ie3d:pe,webkit3d:ve,gecko3d:me,any3d:ge,mobile:ye,mobileWebkit:be,mobileWebkit3d:_e,msPointer:we,pointer:ke,touch:Ee,touchNative:xe,mobileOpera:Se,mobileGecko:Te,retina:Ce,passiveEvents:Ie,canvas:Pe,svg:Ae,vml:Re,inlineSvg:Ne,mac:Oe,linux:Me},Fe=Le.msPointer?"MSPointerDown":"pointerdown",je=Le.msPointer?"MSPointerMove":"pointermove",ze=Le.msPointer?"MSPointerUp":"pointerup",Be=Le.msPointer?"MSPointerCancel":"pointercancel",Ve={touchstart:Fe,touchmove:je,touchend:ze,touchcancel:Be},Ue={touchstart:Xe,touchmove:$e,touchend:$e,touchcancel:$e},He={},qe=!1;function We(e,t,n){return"touchstart"===t&&Qe(),Ue[t]?(n=Ue[t].bind(this,n),e.addEventListener(Ve[t],n,!1),n):(console.warn("wrong event specified:",t),c)}function Ke(e,t,n){Ve[t]?e.removeEventListener(Ve[t],n,!1):console.warn("wrong event specified:",t)}function Ge(e){He[e.pointerId]=e}function Ze(e){He[e.pointerId]&&(He[e.pointerId]=e)}function Ye(e){delete He[e.pointerId]}function Qe(){qe||(document.addEventListener(Fe,Ge,!0),document.addEventListener(je,Ze,!0),document.addEventListener(ze,Ye,!0),document.addEventListener(Be,Ye,!0),qe=!0)}function $e(e,t){if(t.pointerType!==(t.MSPOINTER_TYPE_MOUSE||"mouse")){for(var n in t.touches=[],He)t.touches.push(He[n]);t.changedTouches=[t],e(t)}}function Xe(e,t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&Gt(t),$e(e,t)}function Je(e){var t,n,r={};for(n in e)t=e[n],r[n]=t&&t.bind?t.bind(e):t;return e=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var et=200;function tt(e,t){e.addEventListener("dblclick",t);var n,r=0;function i(e){if(1===e.detail){if("mouse"!==e.pointerType&&(!e.sourceCapabilities||e.sourceCapabilities.firesTouchEvents)){var i=Yt(e);if(!i.some((function(e){return e instanceof HTMLLabelElement&&e.attributes.for}))||i.some((function(e){return e instanceof HTMLInputElement||e instanceof HTMLSelectElement}))){var o=Date.now();o-r<=et?2===++n&&t(Je(e)):n=1,r=o}}}else n=e.detail}return e.addEventListener("click",i),{dblclick:t,simDblclick:i}}function nt(e,t){e.removeEventListener("dblclick",t.dblclick),e.removeEventListener("click",t.simDblclick)}var rt,it,ot,at,st,ut=St(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ct=St(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),lt="webkitTransition"===ct||"OTransition"===ct?ct+"End":"transitionend";function ft(e){return"string"===typeof e?document.getElementById(e):e}function ht(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||"auto"===n)&&document.defaultView){var r=document.defaultView.getComputedStyle(e,null);n=r?r[t]:null}return"auto"===n?null:n}function dt(e,t,n){var r=document.createElement(e);return r.className=t||"",n&&n.appendChild(r),r}function pt(e){var t=e.parentNode;t&&t.removeChild(e)}function vt(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function mt(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function gt(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function yt(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=kt(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function bt(e,t){if(void 0!==e.classList)for(var n=h(t),r=0,i=n.length;r<i;r++)e.classList.add(n[r]);else if(!yt(e,t)){var o=kt(e);wt(e,(o?o+" ":"")+t)}}function _t(e,t){void 0!==e.classList?e.classList.remove(t):wt(e,f((" "+kt(e)+" ").replace(" "+t+" "," ")))}function wt(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function kt(e){return e.correspondingElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function xt(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&Et(e,t)}function Et(e,t){var n=!1,r="DXImageTransform.Microsoft.Alpha";try{n=e.filters.item(r)}catch(i){if(1===t)return}t=Math.round(100*t),n?(n.Enabled=100!==t,n.Opacity=t):e.style.filter+=" progid:"+r+"(opacity="+t+")"}function St(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function Tt(e,t,n){var r=t||new R(0,0);e.style[ut]=(Le.ie3d?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(n?" scale("+n+")":"")}function Ct(e,t){e._leaflet_pos=t,Le.any3d?Tt(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function It(e){return e._leaflet_pos||new R(0,0)}if("onselectstart"in document)rt=function(){Ft(window,"selectstart",Gt)},it=function(){zt(window,"selectstart",Gt)};else{var Pt=St(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);rt=function(){if(Pt){var e=document.documentElement.style;ot=e[Pt],e[Pt]="none"}},it=function(){Pt&&(document.documentElement.style[Pt]=ot,ot=void 0)}}function At(){Ft(window,"dragstart",Gt)}function Nt(){zt(window,"dragstart",Gt)}function Rt(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(Ot(),at=e,st=e.style.outline,e.style.outline="none",Ft(window,"keydown",Ot))}function Ot(){at&&(at.style.outline=st,at=void 0,st=void 0,zt(window,"keydown",Ot))}function Mt(e){do{e=e.parentNode}while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function Dt(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var Lt={__proto__:null,TRANSFORM:ut,TRANSITION:ct,TRANSITION_END:lt,get:ft,getStyle:ht,create:dt,remove:pt,empty:vt,toFront:mt,toBack:gt,hasClass:yt,addClass:bt,removeClass:_t,setClass:wt,getClass:kt,setOpacity:xt,testProp:St,setTransform:Tt,setPosition:Ct,getPosition:It,get disableTextSelection(){return rt},get enableTextSelection(){return it},disableImageDrag:At,enableImageDrag:Nt,preventOutline:Rt,restoreOutline:Ot,getSizedParentNode:Mt,getScale:Dt};function Ft(e,t,n,r){if(t&&"object"===typeof t)for(var i in t)Ut(e,i,t[i],n);else for(var o=0,a=(t=h(t)).length;o<a;o++)Ut(e,t[o],n,r);return this}var jt="_leaflet_events";function zt(e,t,n,r){if(1===arguments.length)Bt(e),delete e[jt];else if(t&&"object"===typeof t)for(var i in t)Ht(e,i,t[i],n);else if(t=h(t),2===arguments.length)Bt(e,(function(e){return-1!==y(t,e)}));else for(var o=0,a=t.length;o<a;o++)Ht(e,t[o],n,r);return this}function Bt(e,t){for(var n in e[jt]){var r=n.split(/\d/)[0];t&&!t(r)||Ht(e,r,null,null,n)}}var Vt={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ut(e,t,n,r){var i=t+a(n)+(r?"_"+a(r):"");if(e[jt]&&e[jt][i])return this;var o=function(t){return n.call(r||e,t||window.event)},s=o;!Le.touchNative&&Le.pointer&&0===t.indexOf("touch")?o=We(e,t,o):Le.touch&&"dblclick"===t?o=tt(e,o):"addEventListener"in e?"touchstart"===t||"touchmove"===t||"wheel"===t||"mousewheel"===t?e.addEventListener(Vt[t]||t,o,!!Le.passiveEvents&&{passive:!1}):"mouseenter"===t||"mouseleave"===t?(o=function(t){t=t||window.event,Jt(e,t)&&s(t)},e.addEventListener(Vt[t],o,!1)):e.addEventListener(t,s,!1):e.attachEvent("on"+t,o),e[jt]=e[jt]||{},e[jt][i]=o}function Ht(e,t,n,r,i){i=i||t+a(n)+(r?"_"+a(r):"");var o=e[jt]&&e[jt][i];if(!o)return this;!Le.touchNative&&Le.pointer&&0===t.indexOf("touch")?Ke(e,t,o):Le.touch&&"dblclick"===t?nt(e,o):"removeEventListener"in e?e.removeEventListener(Vt[t]||t,o,!1):e.detachEvent("on"+t,o),e[jt][i]=null}function qt(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function Wt(e){return Ut(e,"wheel",qt),this}function Kt(e){return Ft(e,"mousedown touchstart dblclick contextmenu",qt),e._leaflet_disable_click=!0,this}function Gt(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function Zt(e){return Gt(e),qt(e),this}function Yt(e){if(e.composedPath)return e.composedPath();for(var t=[],n=e.target;n;)t.push(n),n=n.parentNode;return t}function Qt(e,t){if(!t)return new R(e.clientX,e.clientY);var n=Dt(t),r=n.boundingClientRect;return new R((e.clientX-r.left)/n.x-t.clientLeft,(e.clientY-r.top)/n.y-t.clientTop)}var $t=Le.linux&&Le.chrome?window.devicePixelRatio:Le.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Xt(e){return Le.edge?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/$t:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}function Jt(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch(r){return!1}return n!==e}var en={__proto__:null,on:Ft,off:zt,stopPropagation:qt,disableScrollPropagation:Wt,disableClickPropagation:Kt,preventDefault:Gt,stop:Zt,getPropagationPath:Yt,getMousePosition:Qt,getWheelDelta:Xt,isExternalTarget:Jt,addListener:Ft,removeListener:zt},tn=N.extend({run:function(e,t,n,r){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=It(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=S(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,n=1e3*this._duration;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),Ct(this._el,n),this.fire("step")},_complete:function(){T(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),nn=N.extend({options:{crs:Z,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=d(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(V(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ct&&Le.any3d&&!Le.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ft(this._proxy,lt,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,t,r){return t=void 0===t?this._zoom:this._limitZoom(t),e=this._limitCenter(V(e),t,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&!0!==r&&(void 0!==r.animate&&(r.zoom=n({animate:r.animate},r.zoom),r.pan=n({animate:r.animate,duration:r.duration},r.pan)),this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,r.zoom):this._tryAnimatedPan(e,r.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,t,r.pan&&r.pan.noMoveStart),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(Le.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(Le.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var r=this.getZoomScale(t),i=this.getSize().divideBy(2),o=(e instanceof R?e:this.latLngToContainerPoint(e)).subtract(i).multiplyBy(1-1/r),a=this.containerPointToLatLng(i.add(o));return this.setView(a,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():z(e);var n=M(t.paddingTopLeft||t.padding||[0,0]),r=M(t.paddingBottomRight||t.padding||[0,0]),i=this.getBoundsZoom(e,!1,n.add(r));if((i="number"===typeof t.maxZoom?Math.min(t.maxZoom,i):i)===1/0)return{center:e.getCenter(),zoom:i};var o=r.subtract(n).divideBy(2),a=this.project(e.getSouthWest(),i),s=this.project(e.getNorthEast(),i);return{center:this.unproject(a.add(s).divideBy(2).add(o),i),zoom:i}},fitBounds:function(e,t){if(!(e=z(e)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(t=t||{},!(e=M(e).round()).x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new tn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){bt(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,n){if(!1===(n=n||{}).animate||!Le.any3d)return this.setView(e,t,n);this._stop();var r=this.project(this.getCenter()),i=this.project(e),o=this.getSize(),a=this._zoom;e=V(e),t=void 0===t?a:t;var s=Math.max(o.x,o.y),u=s*this.getZoomScale(a,t),c=i.distanceTo(r)||1,l=1.42,f=l*l;function h(e){var t=(u*u-s*s+(e?-1:1)*f*f*c*c)/(2*(e?u:s)*f*c),n=Math.sqrt(t*t+1)-t;return n<1e-9?-18:Math.log(n)}function d(e){return(Math.exp(e)-Math.exp(-e))/2}function p(e){return(Math.exp(e)+Math.exp(-e))/2}function v(e){return d(e)/p(e)}var m=h(0);function g(e){return s*(p(m)/p(m+l*e))}function y(e){return s*(p(m)*v(m+l*e)-d(m))/f}function b(e){return 1-Math.pow(1-e,1.5)}var _=Date.now(),w=(h(1)-m)/l,k=n.duration?1e3*n.duration:1e3*w*.8;function x(){var n=(Date.now()-_)/k,o=b(n)*w;n<=1?(this._flyToFrame=S(x,this),this._move(this.unproject(r.add(i.subtract(r).multiplyBy(y(o)/c)),a),this.getScaleZoom(s/g(o),a),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),x.call(this),this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return e=z(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,z(e));return n.equals(r)||this.panTo(r,t),this._enforcingBounds=!1,this},panInside:function(e,t){var n=M((t=t||{}).paddingTopLeft||t.padding||[0,0]),r=M(t.paddingBottomRight||t.padding||[0,0]),i=this.project(this.getCenter()),o=this.project(e),a=this.getPixelBounds(),s=F([a.min.add(n),a.max.subtract(r)]),u=s.getSize();if(!s.contains(o)){this._enforcingBounds=!0;var c=o.subtract(s.getCenter()),l=s.extend(o).getSize().subtract(u);i.x+=c.x<0?-l.x:l.x,i.y+=c.y<0?-l.y:l.y,this.panTo(this.unproject(i),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=n({animate:!1,pan:!0},!0===e?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),o=t.divideBy(2).round(),a=r.divideBy(2).round(),s=o.subtract(a);return s.x||s.y?(e.animate&&e.pan?this.panBy(s):(e.pan&&this._rawPanBy(s),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:t,newSize:r})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=n({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=i(this._handleGeolocationResponse,this),r=i(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,r,e):navigator.geolocation.getCurrentPosition(t,r,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var t=e.code,n=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var t=new B(e.coords.latitude,e.coords.longitude),n=t.toBounds(2*e.coords.accuracy),r=this._locateOptions;if(r.setView){var i=this.getBoundsZoom(n);this.setView(t,r.maxZoom?Math.min(i,r.maxZoom):i)}var o={latlng:t,bounds:n,timestamp:e.timestamp};for(var a in e.coords)"number"===typeof e.coords[a]&&(o[a]=e.coords[a]);this.fire("locationfound",o)}},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var e;for(e in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),pt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(T(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)pt(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var n=dt("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),t||this._mapPane);return e&&(this._panes[e]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new j(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=z(e),n=M(n||[0,0]);var r=this.getZoom()||0,i=this.getMinZoom(),o=this.getMaxZoom(),a=e.getNorthWest(),s=e.getSouthEast(),u=this.getSize().subtract(n),c=F(this.project(s,r),this.project(a,r)).getSize(),l=Le.any3d?this.options.zoomSnap:1,f=u.x/c.x,h=u.y/c.y,d=t?Math.max(f,h):Math.min(f,h);return r=this.getScaleZoom(d,r),l&&(r=Math.round(r/(l/100))*(l/100),r=t?Math.ceil(r/l)*l:Math.floor(r/l)*l),Math.max(i,Math.min(o,r))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new R(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new D(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"===typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;return t=void 0===t?this._zoom:t,n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=void 0===t?this._zoom:t;var r=n.zoom(e*n.scale(t));return isNaN(r)?1/0:r},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(V(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(M(e),t)},layerPointToLatLng:function(e){var t=M(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(V(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(V(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(z(e))},distance:function(e,t){return this.options.crs.distance(V(e),V(t))},containerPointToLayerPoint:function(e){return M(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return M(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(M(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(V(e)))},mouseEventToContainerPoint:function(e){return Qt(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=ft(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");Ft(t,"scroll",this._onScroll,this),this._containerId=a(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&Le.any3d,bt(e,"leaflet-container"+(Le.touch?" leaflet-touch":"")+(Le.retina?" leaflet-retina":"")+(Le.ielt9?" leaflet-oldie":"")+(Le.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=ht(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&"sticky"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ct(this._mapPane,new R(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(bt(e.markerPane,"leaflet-zoom-hide"),bt(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t,n){Ct(this._mapPane,new R(0,0));var r=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var i=this._zoom!==t;this._moveStart(i,n)._move(e,t)._moveEnd(i),this.fire("viewreset"),r&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,n,r){void 0===t&&(t=this._zoom);var i=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),r?n&&n.pinch&&this.fire("zoom",n):((i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return T(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Ct(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[a(this._container)]=this;var t=e?zt:Ft;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),Le.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){T(this._resizeRequest),this._resizeRequest=S((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n,r=[],i="mouseout"===t||"mouseover"===t,o=e.target||e.srcElement,s=!1;o;){if((n=this._targets[a(o)])&&("click"===t||"preclick"===t)&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(t,!0)){if(i&&!Jt(o,e))break;if(r.push(n),i)break}if(o===this._container)break;o=o.parentNode}return r.length||s||i||!this.listens(t,!0)||(r=[this]),r},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var t=e.target||e.srcElement;if(!(!this._loaded||t._leaflet_disable_events||"click"===e.type&&this._isClickDisabled(t))){var n=e.type;"mousedown"===n&&Rt(t),this._fireDOMEvent(e,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,t,r){if("click"===e.type){var i=n({},e);i.type="preclick",this._fireDOMEvent(i,i.type,r)}var o=this._findEventTargets(e,t);if(r){for(var a=[],s=0;s<r.length;s++)r[s].listens(t,!0)&&a.push(r[s]);o=a.concat(o)}if(o.length){"contextmenu"===t&&Gt(e);var u=o[0],c={originalEvent:e};if("keypress"!==e.type&&"keydown"!==e.type&&"keyup"!==e.type){var l=u.getLatLng&&(!u._radius||u._radius<=10);c.containerPoint=l?this.latLngToContainerPoint(u.getLatLng()):this.mouseEventToContainerPoint(e),c.layerPoint=this.containerPointToLayerPoint(c.containerPoint),c.latlng=l?u.getLatLng():this.layerPointToLatLng(c.layerPoint)}for(s=0;s<o.length;s++)if(o[s].fire(t,c,!0),c.originalEvent._stopped||!1===o[s].options.bubblingMouseEvents&&-1!==y(this._mouseEvents,t))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return It(this._mapPane)||new R(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(r)},_latLngBoundsToNewLayerBounds:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return F([this.project(e.getSouthWest(),t)._subtract(r),this.project(e.getNorthWest(),t)._subtract(r),this.project(e.getSouthEast(),t)._subtract(r),this.project(e.getNorthEast(),t)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var r=this.project(e,t),i=this.getSize().divideBy(2),o=new D(r.subtract(i),r.add(i)),a=this._getBoundsOffset(o,n,t);return Math.abs(a.x)<=1&&Math.abs(a.y)<=1?e:this.unproject(r.add(a),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),r=new D(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(r,t))},_getBoundsOffset:function(e,t,n){var r=F(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),i=r.min.subtract(e.min),o=r.max.subtract(e.max);return new R(this._rebound(i.x,-o.x),this._rebound(i.y,-o.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),r=Le.any3d?this.options.zoomSnap:1;return r&&(e=Math.round(e/r)*r),Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){_t(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._trunc();return!(!0!==(t&&t.animate)&&!this.getSize().contains(n))&&(this.panBy(n,t),!0)},_createAnimProxy:function(){var e=this._proxy=dt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",(function(e){var t=ut,n=this._proxy.style[t];Tt(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){pt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();Tt(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(t),i=this._getCenterOffset(e)._divideBy(1-1/r);return!(!0!==n.animate&&!this.getSize().contains(i))&&(S((function(){this._moveStart(!0,!1)._animateZoom(e,t,!0)}),this),!0)},_animateZoom:function(e,t,n,r){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,bt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:r}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&_t(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function rn(e,t){return new nn(e,t)}var on=I.extend({options:{position:"topright"},initialize:function(e){d(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),r=e._controlCorners[n];return bt(t,"leaflet-control"),-1!==n.indexOf("bottom")?r.insertBefore(t,r.firstChild):r.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(pt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),an=function(e){return new on(e)};nn.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",n=this._controlContainer=dt("div",t+"control-container",this._container);function r(r,i){var o=t+r+" "+t+i;e[r+i]=dt("div",o,n)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)pt(this._controlCorners[e]);pt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var sn=on.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,r){return n<r?-1:r<n?1:0}},initialize:function(e,t,n){for(var r in d(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,e)this._addLayer(e[r],r);for(r in t)this._addLayer(t[r],r,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return on.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(a(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){bt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(bt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):_t(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return _t(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=dt("div",e),n=this.options.collapsed;t.setAttribute("aria-haspopup",!0),Kt(t),Wt(t);var r=this._section=dt("section",e+"-list");n&&(this._map.on("click",this.collapse,this),Ft(t,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var i=this._layersLink=dt("a",e+"-toggle",t);i.href="#",i.title="Layers",i.setAttribute("role","button"),Ft(i,{keydown:function(e){13===e.keyCode&&this._expandSafely()},click:function(e){Gt(e),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=dt("div",e+"-base",r),this._separator=dt("div",e+"-separator",r),this._overlaysList=dt("div",e+"-overlays",r),t.appendChild(r)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&a(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,n){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:n}),this.options.sortLayers&&this._layers.sort(i((function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)}),this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;vt(this._baseLayersList),vt(this._overlaysList),this._layerControlInputs=[];var e,t,n,r,i=0;for(n=0;n<this._layers.length;n++)r=this._layers[n],this._addItem(r),t=t||r.overlay,e=e||!r.overlay,i+=r.overlay?0:1;return this.options.hideSingleBase&&(e=e&&i>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(a(e.target)),n=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this._map.fire(n,t)},_createRadioElement:function(e,t){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=n,r.firstChild},_addItem:function(e){var t,n=document.createElement("label"),r=this._map.hasLayer(e.layer);e.overlay?((t=document.createElement("input")).type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=r):t=this._createRadioElement("leaflet-base-layers_"+a(this),r),this._layerControlInputs.push(t),t.layerId=a(e.layer),Ft(t,"click",this._onInputClick,this);var i=document.createElement("span");i.innerHTML=" "+e.name;var o=document.createElement("span");return n.appendChild(o),o.appendChild(t),o.appendChild(i),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var e,t,n=this._layerControlInputs,r=[],i=[];this._handlingClick=!0;for(var o=n.length-1;o>=0;o--)e=n[o],t=this._getLayer(e.layerId).layer,e.checked?r.push(t):e.checked||i.push(t);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])&&this._map.removeLayer(i[o]);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])||this._map.addLayer(r[o]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var e,t,n=this._layerControlInputs,r=this._map.getZoom(),i=n.length-1;i>=0;i--)e=n[i],t=this._getLayer(e.layerId).layer,e.disabled=void 0!==t.options.minZoom&&r<t.options.minZoom||void 0!==t.options.maxZoom&&r>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;Ft(e,"click",Gt),this.expand(),setTimeout((function(){zt(e,"click",Gt)}))}}),un=function(e,t,n){return new sn(e,t,n)},cn=on.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",n=dt("div",t+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,t+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,t+"-out",n,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,r,i){var o=dt("a",n,r);return o.innerHTML=e,o.href="#",o.title=t,o.setAttribute("role","button"),o.setAttribute("aria-label",t),Kt(o),Ft(o,"click",Zt),Ft(o,"click",i,this),Ft(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";_t(this._zoomInButton,t),_t(this._zoomOutButton,t),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(bt(this._zoomOutButton,t),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(bt(this._zoomInButton,t),this._zoomInButton.setAttribute("aria-disabled","true"))}});nn.mergeOptions({zoomControl:!0}),nn.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new cn,this.addControl(this.zoomControl))}));var ln=function(e){return new cn(e)},fn=on.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",n=dt("div",t),r=this.options;return this._addScales(r,t+"-line",n),e.on(r.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),n},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=dt("div",t,n)),e.imperial&&(this._iScale=dt("div",t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t,n,r,i=3.2808399*e;i>5280?(t=i/5280,n=this._getRoundNum(t),this._updateScale(this._iScale,n+" mi",n/t)):(r=this._getRoundNum(i),this._updateScale(this._iScale,r+" ft",r/i))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return t*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),hn=function(e){return new fn(e)},dn='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',pn=on.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Le.inlineSvg?dn+" ":"")+"Leaflet</a>"},initialize:function(e){d(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=dt("div","leaflet-control-attribution"),Kt(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",(function(){this.removeAttribution(e.layer.getAttribution())}),this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});nn.mergeOptions({attributionControl:!0}),nn.addInitHook((function(){this.options.attributionControl&&(new pn).addTo(this)}));var vn=function(e){return new pn(e)};on.Layers=sn,on.Zoom=cn,on.Scale=fn,on.Attribution=pn,an.layers=un,an.zoom=ln,an.scale=hn,an.attribution=vn;var mn=I.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});mn.addTo=function(e,t){return e.addHandler(t,this),this};var gn,yn={Events:A},bn=Le.touch?"touchstart mousedown":"mousedown",_n=N.extend({options:{clickTolerance:3},initialize:function(e,t,n,r){d(this,r),this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||(Ft(this._dragStartTarget,bn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(_n._dragging===this&&this.finishDrag(!0),zt(this._dragStartTarget,bn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!yt(this._element,"leaflet-zoom-anim")))if(e.touches&&1!==e.touches.length)_n._dragging===this&&this.finishDrag();else if(!(_n._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches)&&(_n._dragging=this,this._preventOutline&&Rt(this._element),At(),rt(),!this._moving)){this.fire("down");var t=e.touches?e.touches[0]:e,n=Mt(this._element);this._startPoint=new R(t.clientX,t.clientY),this._startPos=It(this._element),this._parentScale=Dt(n);var r="mousedown"===e.type;Ft(document,r?"mousemove":"touchmove",this._onMove,this),Ft(document,r?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(e){if(this._enabled)if(e.touches&&e.touches.length>1)this._moved=!0;else{var t=e.touches&&1===e.touches.length?e.touches[0]:e,n=new R(t.clientX,t.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Gt(e),this._moved||(this.fire("dragstart"),this._moved=!0,bt(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),bt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=e,this._updatePosition()))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),Ct(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){_t(document.body,"leaflet-dragging"),this._lastTarget&&(_t(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),zt(document,"mousemove touchmove",this._onMove,this),zt(document,"mouseup touchend touchcancel",this._onUp,this),Nt(),it(),this._moved&&this._moving&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,_n._dragging=!1}});function wn(e,t){if(!t||!e.length)return e.slice();var n=t*t;return e=En(e=Tn(e,n),n)}function kn(e,t,n){return Math.sqrt(Nn(e,t,n,!0))}function xn(e,t,n){return Nn(e,t,n)}function En(e,t){var n=e.length,r=new(typeof Uint8Array!==void 0+""?Uint8Array:Array)(n);r[0]=r[n-1]=1,Sn(e,r,t,0,n-1);var i,o=[];for(i=0;i<n;i++)r[i]&&o.push(e[i]);return o}function Sn(e,t,n,r,i){var o,a,s,u=0;for(a=r+1;a<=i-1;a++)(s=Nn(e[a],e[r],e[i],!0))>u&&(o=a,u=s);u>n&&(t[o]=1,Sn(e,t,n,r,o),Sn(e,t,n,o,i))}function Tn(e,t){for(var n=[e[0]],r=1,i=0,o=e.length;r<o;r++)An(e[r],e[i])>t&&(n.push(e[r]),i=r);return i<o-1&&n.push(e[o-1]),n}function Cn(e,t,n,r,i){var o,a,s,u=r?gn:Pn(e,n),c=Pn(t,n);for(gn=c;;){if(!(u|c))return[e,t];if(u&c)return!1;s=Pn(a=In(e,t,o=u||c,n,i),n),o===u?(e=a,u=s):(t=a,c=s)}}function In(e,t,n,r,i){var o,a,s=t.x-e.x,u=t.y-e.y,c=r.min,l=r.max;return 8&n?(o=e.x+s*(l.y-e.y)/u,a=l.y):4&n?(o=e.x+s*(c.y-e.y)/u,a=c.y):2&n?(o=l.x,a=e.y+u*(l.x-e.x)/s):1&n&&(o=c.x,a=e.y+u*(c.x-e.x)/s),new R(o,a,i)}function Pn(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function An(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function Nn(e,t,n,r){var i,o=t.x,a=t.y,s=n.x-o,u=n.y-a,c=s*s+u*u;return c>0&&((i=((e.x-o)*s+(e.y-a)*u)/c)>1?(o=n.x,a=n.y):i>0&&(o+=s*i,a+=u*i)),s=e.x-o,u=e.y-a,r?s*s+u*u:new R(o,a)}function Rn(e){return!g(e[0])||"object"!==typeof e[0][0]&&"undefined"!==typeof e[0][0]}function On(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Rn(e)}function Mn(e,t){var n,r,i,o,a,s,u,c;if(!e||0===e.length)throw new Error("latlngs not passed");Rn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var l=[];for(var f in e)l.push(t.project(V(e[f])));var h=l.length;for(n=0,r=0;n<h-1;n++)r+=l[n].distanceTo(l[n+1])/2;if(0===r)c=l[0];else for(n=0,o=0;n<h-1;n++)if(a=l[n],s=l[n+1],(o+=i=a.distanceTo(s))>r){u=(o-r)/i,c=[s.x-u*(s.x-a.x),s.y-u*(s.y-a.y)];break}return t.unproject(M(c))}var Dn={__proto__:null,simplify:wn,pointToSegmentDistance:kn,closestPointOnSegment:xn,clipSegment:Cn,_getEdgeIntersection:In,_getBitCode:Pn,_sqClosestPointOnSegment:Nn,isFlat:Rn,_flat:On,polylineCenter:Mn};function Ln(e,t,n){var r,i,o,a,s,u,c,l,f,h=[1,4,2,8];for(i=0,c=e.length;i<c;i++)e[i]._code=Pn(e[i],t);for(a=0;a<4;a++){for(l=h[a],r=[],i=0,o=(c=e.length)-1;i<c;o=i++)s=e[i],u=e[o],s._code&l?u._code&l||((f=In(u,s,l,t,n))._code=Pn(f,t),r.push(f)):(u._code&l&&((f=In(u,s,l,t,n))._code=Pn(f,t),r.push(f)),r.push(s));e=r}return e}function Fn(e,t){var n,r,i,o,a,s,u,c,l;if(!e||0===e.length)throw new Error("latlngs not passed");Rn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var f=[];for(var h in e)f.push(t.project(V(e[h])));var d=f.length;for(s=u=c=0,n=0,r=d-1;n<d;r=n++)i=f[n],o=f[r],a=i.y*o.x-o.y*i.x,u+=(i.x+o.x)*a,c+=(i.y+o.y)*a,s+=3*a;return l=0===s?f[0]:[u/s,c/s],t.unproject(M(l))}var jn={__proto__:null,clipPolygon:Ln,polygonCenter:Fn},zn={project:function(e){return new R(e.lng,e.lat)},unproject:function(e){return new B(e.y,e.x)},bounds:new D([-180,-90],[180,90])},Bn={R:6378137,R_MINOR:6356752.314245179,bounds:new D([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,n=this.R,r=e.lat*t,i=this.R_MINOR/n,o=Math.sqrt(1-i*i),a=o*Math.sin(r),s=Math.tan(Math.PI/4-r/2)/Math.pow((1-a)/(1+a),o/2);return r=-n*Math.log(Math.max(s,1e-10)),new R(e.lng*t*n,r)},unproject:function(e){for(var t,n=180/Math.PI,r=this.R,i=this.R_MINOR/r,o=Math.sqrt(1-i*i),a=Math.exp(-e.y/r),s=Math.PI/2-2*Math.atan(a),u=0,c=.1;u<15&&Math.abs(c)>1e-7;u++)t=o*Math.sin(s),t=Math.pow((1-t)/(1+t),o/2),s+=c=Math.PI/2-2*Math.atan(a*t)-s;return new B(s*n,e.x*n/r)}},Vn={__proto__:null,LonLat:zn,Mercator:Bn,SphericalMercator:W},Un=n({},H,{code:"EPSG:3395",projection:Bn,transformation:function(){var e=.5/(Math.PI*Bn.R);return G(e,.5,-e,.5)}()}),Hn=n({},H,{code:"EPSG:4326",projection:zn,transformation:G(1/180,1,-1/180,.5)}),qn=n({},U,{projection:zn,transformation:G(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,r=t.lat-e.lat;return Math.sqrt(n*n+r*r)},infinite:!0});U.Earth=H,U.EPSG3395=Un,U.EPSG3857=Z,U.EPSG900913=Y,U.EPSG4326=Hn,U.Simple=qn;var Wn=N.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[a(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[a(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once("remove",(function(){t.off(n,this)}),this)}this.onAdd(t),this.fire("add"),t.fire("layeradd",{layer:this})}}});nn.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=a(e);return this._layers[t]||(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e)),this},removeLayer:function(e){var t=a(e);return this._layers[t]?(this._loaded&&e.onRemove(this),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return a(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){for(var t=0,n=(e=e?g(e)?e:[e]:[]).length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[a(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=a(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,n=this._getZoomSpan();for(var r in this._zoomBoundLayers){var i=this._zoomBoundLayers[r].options;e=void 0===i.minZoom?e:Math.min(e,i.minZoom),t=void 0===i.maxZoom?t:Math.max(t,i.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Kn=Wn.extend({initialize:function(e,t){var n,r;if(d(this,t),this._layers={},e)for(n=0,r=e.length;n<r;n++)this.addLayer(e[n])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return("number"===typeof e?e:this.getLayerId(e))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t,n,r=Array.prototype.slice.call(arguments,1);for(t in this._layers)(n=this._layers[t])[e]&&n[e].apply(n,r);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return a(e)}}),Gn=function(e,t){return new Kn(e,t)},Zn=Kn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Kn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Kn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new j;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),Yn=function(e,t){return new Zn(e,t)},Qn=I.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){d(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(n,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(r,e),(this.options.crossOrigin||""===this.options.crossOrigin)&&(r.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),r},_setIconStyles:function(e,t){var n=this.options,r=n[t+"Size"];"number"===typeof r&&(r=[r,r]);var i=M(r),o=M("shadow"===t&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(n.className||""),o&&(e.style.marginLeft=-o.x+"px",e.style.marginTop=-o.y+"px"),i&&(e.style.width=i.x+"px",e.style.height=i.y+"px")},_createImg:function(e,t){return(t=t||document.createElement("img")).src=e,t},_getIconUrl:function(e){return Le.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function $n(e){return new Qn(e)}var Xn=Qn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return"string"!==typeof Xn.imagePath&&(Xn.imagePath=this._detectIconPath()),(this.options.imagePath||Xn.imagePath)+Qn.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var t=function(e,t,n){var r=t.exec(e);return r&&r[n]};return(e=t(e,/^url\((['"])?(.+)\1\)$/,2))&&t(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=dt("div","leaflet-default-icon-path",document.body),t=ht(e,"background-image")||ht(e,"backgroundImage");if(document.body.removeChild(e),t=this._stripUrl(t))return t;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-"leaflet.css".length-1):""}}),Jn=mn.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new _n(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),bt(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&_t(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,n=t._map,r=this._marker.options.autoPanSpeed,i=this._marker.options.autoPanPadding,o=It(t._icon),a=n.getPixelBounds(),s=n.getPixelOrigin(),u=F(a.min._subtract(s).add(i),a.max._subtract(s).subtract(i));if(!u.contains(o)){var c=M((Math.max(u.max.x,o.x)-u.max.x)/(a.max.x-u.max.x)-(Math.min(u.min.x,o.x)-u.min.x)/(a.min.x-u.min.x),(Math.max(u.max.y,o.y)-u.max.y)/(a.max.y-u.max.y)-(Math.min(u.min.y,o.y)-u.min.y)/(a.min.y-u.min.y)).multiplyBy(r);n.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),Ct(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=S(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(T(this._panRequest),this._panRequest=S(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,n=t._shadow,r=It(t._icon),i=t._map.layerPointToLatLng(r);n&&Ct(n,r),t._latlng=i,e.latlng=i,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){T(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),er=Wn.extend({options:{icon:new Xn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){d(this,t),this._latlng=V(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=V(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=e.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,e.title&&(n.title=e.title),"IMG"===n.tagName&&(n.alt=e.alt||"")),bt(n,t),e.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ft(n,"focus",this._panOnFocus,this);var i=e.icon.createShadow(this._shadow),o=!1;i!==this._shadow&&(this._removeShadow(),o=!0),i&&(bt(i,t),i.alt=""),this._shadow=i,e.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),i&&o&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&zt(this._icon,"focus",this._panOnFocus,this),pt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&pt(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&Ct(this._icon,e),this._shadow&&Ct(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(bt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Jn)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Jn(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&xt(this._icon,e),this._shadow&&xt(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var t=this.options.icon.options,n=t.iconSize?M(t.iconSize):M(0,0),r=t.iconAnchor?M(t.iconAnchor):M(0,0);e.panInside(this._latlng,{paddingTopLeft:r,paddingBottomRight:n.subtract(r)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function tr(e,t){return new er(e,t)}var nr=Wn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return d(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),rr=nr.extend({options:{fill:!0,radius:10},initialize:function(e,t){d(this,t),this._latlng=V(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=V(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return nr.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),r=[e+n,t+n];this._pxBounds=new D(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ir(e,t){return new rr(e,t)}var or=rr.extend({initialize:function(e,t,r){if("number"===typeof t&&(t=n({},r,{radius:t})),d(this,t),this._latlng=V(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new j(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:nr.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===H.distance){var i=Math.PI/180,o=this._mRadius/H.R/i,a=n.project([t+o,e]),s=n.project([t-o,e]),u=a.add(s).divideBy(2),c=n.unproject(u).lat,l=Math.acos((Math.cos(o*i)-Math.sin(t*i)*Math.sin(c*i))/(Math.cos(t*i)*Math.cos(c*i)))/i;(isNaN(l)||0===l)&&(l=o/Math.cos(Math.PI/180*t)),this._point=u.subtract(n.getPixelOrigin()),this._radius=isNaN(l)?0:u.x-n.project([c,e-l]).x,this._radiusY=u.y-a.y}else{var f=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(f).x}this._updateBounds()}});function ar(e,t,n){return new or(e,t,n)}var sr=nr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){d(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,n,r=1/0,i=null,o=Nn,a=0,s=this._parts.length;a<s;a++)for(var u=this._parts[a],c=1,l=u.length;c<l;c++){var f=o(e,t=u[c-1],n=u[c],!0);f<r&&(r=f,i=o(e,t,n))}return i&&(i.distance=Math.sqrt(r)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Mn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=V(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new j,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Rn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=Rn(e),r=0,i=e.length;r<i;r++)n?(t[r]=V(e[r]),this._bounds.extend(t[r])):t[r]=this._convertLatLngs(e[r]);return t},_project:function(){var e=new D;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new R(e,e);this._rawPxBounds&&(this._pxBounds=new D([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(e,t,n){var r,i,o=e[0]instanceof B,a=e.length;if(o){for(i=[],r=0;r<a;r++)i[r]=this._map.latLngToLayerPoint(e[r]),n.extend(i[r]);t.push(i)}else for(r=0;r<a;r++)this._projectLatlngs(e[r],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else{var t,n,r,i,o,a,s,u=this._parts;for(t=0,r=0,i=this._rings.length;t<i;t++)for(n=0,o=(s=this._rings[t]).length;n<o-1;n++)(a=Cn(s[n],s[n+1],e,n,!0))&&(u[r]=u[r]||[],u[r].push(a[0]),a[1]===s[n+1]&&n!==o-2||(u[r].push(a[1]),r++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,r=e.length;n<r;n++)e[n]=wn(e[n],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,r,i,o,a,s,u=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,o=this._parts.length;n<o;n++)for(r=0,i=(a=(s=this._parts[n]).length)-1;r<a;i=r++)if((t||0!==r)&&kn(e,s[i],s[r])<=u)return!0;return!1}});function ur(e,t){return new sr(e,t)}sr._flat=On;var cr=sr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Fn(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var t=sr.prototype._convertLatLngs.call(this,e),n=t.length;return n>=2&&t[0]instanceof B&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){sr.prototype._setLatLngs.call(this,e),Rn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Rn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new R(t,t);if(e=new D(e.min.subtract(n),e.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var r,i=0,o=this._rings.length;i<o;i++)(r=Ln(this._rings[i],e,!0)).length&&this._parts.push(r)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,n,r,i,o,a,s,u,c=!1;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(i=0,s=this._parts.length;i<s;i++)for(o=0,a=(u=(t=this._parts[i]).length)-1;o<u;a=o++)n=t[o],r=t[a],n.y>e.y!==r.y>e.y&&e.x<(r.x-n.x)*(e.y-n.y)/(r.y-n.y)+n.x&&(c=!c);return c||sr.prototype._containsPoint.call(this,e,!0)}});function lr(e,t){return new cr(e,t)}var fr=Zn.extend({initialize:function(e,t){d(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,n,r,i=g(e)?e:e.features;if(i){for(t=0,n=i.length;t<n;t++)((r=i[t]).geometries||r.geometry||r.features||r.coordinates)&&this.addData(r);return this}var o=this.options;if(o.filter&&!o.filter(e))return this;var a=hr(e,o);return a?(a.feature=br(e),a.defaultOptions=a.options,this.resetStyle(a),o.onEachFeature&&o.onEachFeature(e,a),this.addLayer(a)):this},resetStyle:function(e){return void 0===e?this.eachLayer(this.resetStyle,this):(e.options=n({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer((function(t){this._setLayerStyle(t,e)}),this)},_setLayerStyle:function(e,t){e.setStyle&&("function"===typeof t&&(t=t(e.feature)),e.setStyle(t))}});function hr(e,t){var n,r,i,o,a="Feature"===e.type?e.geometry:e,s=a?a.coordinates:null,u=[],c=t&&t.pointToLayer,l=t&&t.coordsToLatLng||pr;if(!s&&!a)return null;switch(a.type){case"Point":return dr(c,e,n=l(s),t);case"MultiPoint":for(i=0,o=s.length;i<o;i++)n=l(s[i]),u.push(dr(c,e,n,t));return new Zn(u);case"LineString":case"MultiLineString":return r=vr(s,"LineString"===a.type?0:1,l),new sr(r,t);case"Polygon":case"MultiPolygon":return r=vr(s,"Polygon"===a.type?1:2,l),new cr(r,t);case"GeometryCollection":for(i=0,o=a.geometries.length;i<o;i++){var f=hr({geometry:a.geometries[i],type:"Feature",properties:e.properties},t);f&&u.push(f)}return new Zn(u);case"FeatureCollection":for(i=0,o=a.features.length;i<o;i++){var h=hr(a.features[i],t);h&&u.push(h)}return new Zn(u);default:throw new Error("Invalid GeoJSON object.")}}function dr(e,t,n,r){return e?e(t,n):new er(n,r&&r.markersInheritOptions&&r)}function pr(e){return new B(e[1],e[0],e[2])}function vr(e,t,n){for(var r,i=[],o=0,a=e.length;o<a;o++)r=t?vr(e[o],t-1,n):(n||pr)(e[o]),i.push(r);return i}function mr(e,t){return void 0!==(e=V(e)).alt?[l(e.lng,t),l(e.lat,t),l(e.alt,t)]:[l(e.lng,t),l(e.lat,t)]}function gr(e,t,n,r){for(var i=[],o=0,a=e.length;o<a;o++)i.push(t?gr(e[o],Rn(e[o])?0:t-1,n,r):mr(e[o],r));return!t&&n&&i.push(i[0].slice()),i}function yr(e,t){return e.feature?n({},e.feature,{geometry:t}):br(t)}function br(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}var _r={toGeoJSON:function(e){return yr(this,{type:"Point",coordinates:mr(this.getLatLng(),e)})}};function wr(e,t){return new fr(e,t)}er.include(_r),or.include(_r),rr.include(_r),sr.include({toGeoJSON:function(e){var t=!Rn(this._latlngs);return yr(this,{type:(t?"Multi":"")+"LineString",coordinates:gr(this._latlngs,t?1:0,!1,e)})}}),cr.include({toGeoJSON:function(e){var t=!Rn(this._latlngs),n=t&&!Rn(this._latlngs[0]),r=gr(this._latlngs,n?2:t?1:0,!0,e);return t||(r=[r]),yr(this,{type:(n?"Multi":"")+"Polygon",coordinates:r})}}),Kn.include({toMultiPoint:function(e){var t=[];return this.eachLayer((function(n){t.push(n.toGeoJSON(e).geometry.coordinates)})),yr(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var n="GeometryCollection"===t,r=[];return this.eachLayer((function(t){if(t.toGeoJSON){var i=t.toGeoJSON(e);if(n)r.push(i.geometry);else{var o=br(i);"FeatureCollection"===o.type?r.push.apply(r,o.features):r.push(o)}}})),n?yr(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});var kr=wr,xr=Wn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,n){this._url=e,this._bounds=z(t),d(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(bt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){pt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&mt(this._image),this},bringToBack:function(){return this._map&&gt(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=z(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:dt("img");bt(t,"leaflet-image-layer"),this._zoomAnimated&&bt(t,"leaflet-zoom-animated"),this.options.className&&bt(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onload=i(this.fire,this,"load"),t.onerror=i(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(t.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=t.src:(t.src=this._url,t.alt=this.options.alt)},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;Tt(this._image,n,t)},_reset:function(){var e=this._image,t=new D(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();Ct(e,t.min),e.style.width=n.x+"px",e.style.height=n.y+"px"},_updateOpacity:function(){xt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),Er=function(e,t,n){return new xr(e,t,n)},Sr=xr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:dt("video");if(bt(t,"leaflet-image-layer"),this._zoomAnimated&&bt(t,"leaflet-zoom-animated"),this.options.className&&bt(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onloadeddata=i(this.fire,this,"load"),e){for(var n=t.getElementsByTagName("source"),r=[],o=0;o<n.length;o++)r.push(n[o].src);this._url=n.length>0?r:[t.src]}else{g(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,"objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted,t.playsInline=!!this.options.playsInline;for(var a=0;a<this._url.length;a++){var s=dt("source");s.src=this._url[a],t.appendChild(s)}}}});function Tr(e,t,n){return new Sr(e,t,n)}var Cr=xr.extend({_initImage:function(){var e=this._image=this._url;bt(e,"leaflet-image-layer"),this._zoomAnimated&&bt(e,"leaflet-zoom-animated"),this.options.className&&bt(e,this.options.className),e.onselectstart=c,e.onmousemove=c}});function Ir(e,t,n){return new Cr(e,t,n)}var Pr=Wn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,t){e&&(e instanceof B||g(e))?(this._latlng=V(e),d(this,t)):(d(this,e),this._source=t),this.options.content&&(this._content=this.options.content)},openOn:function(e){return(e=arguments.length?e:this._source._map).hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&xt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&xt(this._container,1),this.bringToFront(),this.options.interactive&&(bt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(xt(this._container,0),this._removeTimeout=setTimeout(i(pt,void 0,this._container),200)):pt(this._container),this.options.interactive&&(_t(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=V(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&mt(this._container),this},bringToBack:function(){return this._map&&gt(this._container),this},_prepareOpen:function(e){var t=this._source;if(!t._map)return!1;if(t instanceof Zn){t=null;var n=this._source._layers;for(var r in n)if(n[r]._map){t=n[r];break}if(!t)return!1;this._source=t}if(!e)if(t.getCenter)e=t.getCenter();else if(t.getLatLng)e=t.getLatLng();else{if(!t.getBounds)throw new Error("Unable to get source layer LatLng.");e=t.getBounds().getCenter()}return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=M(this.options.offset),n=this._getAnchor();this._zoomAnimated?Ct(this._container,e.add(n)):t=t.add(e).add(n);var r=this._containerBottom=-t.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=r+"px",this._container.style.left=i+"px"}},_getAnchor:function(){return[0,0]}});nn.include({_initOverlay:function(e,t,n,r){var i=t;return i instanceof e||(i=new e(r).setContent(t)),n&&i.setLatLng(n),i}}),Wn.include({_initOverlay:function(e,t,n,r){var i=n;return i instanceof e?(d(i,r),i._source=this):(i=t&&!r?t:new e(r,this)).setContent(n),i}});var Ar=Pr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return!(e=arguments.length?e:this._source._map).hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Pr.prototype.openOn.call(this,e)},onAdd:function(e){Pr.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof nr||this._source.on("preclick",qt))},onRemove:function(e){Pr.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof nr||this._source.off("preclick",qt))},getEvents:function(){var e=Pr.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",t=this._container=dt("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=dt("div",e+"-content-wrapper",t);if(this._contentNode=dt("div",e+"-content",n),Kt(t),Wt(this._contentNode),Ft(t,"contextmenu",qt),this._tipContainer=dt("div",e+"-tip-container",t),this._tip=dt("div",e+"-tip",this._tipContainer),this.options.closeButton){var r=this._closeButton=dt("a",e+"-close-button",t);r.setAttribute("role","button"),r.setAttribute("aria-label","Close popup"),r.href="#close",r.innerHTML='<span aria-hidden="true">&#215;</span>',Ft(r,"click",(function(e){Gt(e),this.close()}),this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+"px",t.whiteSpace="",t.height="";var r=e.offsetHeight,i=this.options.maxHeight,o="leaflet-popup-scrolled";i&&r>i?(t.height=i+"px",bt(e,o)):_t(e,o),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();Ct(this._container,t.add(n))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var e=this._map,t=parseInt(ht(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+t,r=this._containerWidth,i=new R(this._containerLeft,-n-this._containerBottom);i._add(It(this._container));var o=e.layerPointToContainerPoint(i),a=M(this.options.autoPanPadding),s=M(this.options.autoPanPaddingTopLeft||a),u=M(this.options.autoPanPaddingBottomRight||a),c=e.getSize(),l=0,f=0;o.x+r+u.x>c.x&&(l=o.x+r-c.x+u.x),o.x-l-s.x<0&&(l=o.x-s.x),o.y+n+u.y>c.y&&(f=o.y+n-c.y+u.y),o.y-f-s.y<0&&(f=o.y-s.y),(l||f)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([l,f]))}},_getAnchor:function(){return M(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Nr=function(e,t){return new Ar(e,t)};nn.mergeOptions({closePopupOnClick:!0}),nn.include({openPopup:function(e,t,n){return this._initOverlay(Ar,e,t,n).openOn(this),this},closePopup:function(e){return(e=arguments.length?e:this._popup)&&e.close(),this}}),Wn.include({bindPopup:function(e,t){return this._popup=this._initOverlay(Ar,this._popup,e,t),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof Zn||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(this._popup&&this._map){Zt(e);var t=e.layer||e.target;this._popup._source!==t||t instanceof nr?(this._popup._source=t,this.openPopup(e.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var Rr=Pr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Pr.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Pr.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Pr.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=dt("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+a(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,n,r=this._map,i=this._container,o=r.latLngToContainerPoint(r.getCenter()),a=r.layerPointToContainerPoint(e),s=this.options.direction,u=i.offsetWidth,c=i.offsetHeight,l=M(this.options.offset),f=this._getAnchor();"top"===s?(t=u/2,n=c):"bottom"===s?(t=u/2,n=0):"center"===s?(t=u/2,n=c/2):"right"===s?(t=0,n=c/2):"left"===s?(t=u,n=c/2):a.x<o.x?(s="right",t=0,n=c/2):(s="left",t=u+2*(l.x+f.x),n=c/2),e=e.subtract(M(t,n,!0)).add(l).add(f),_t(i,"leaflet-tooltip-right"),_t(i,"leaflet-tooltip-left"),_t(i,"leaflet-tooltip-top"),_t(i,"leaflet-tooltip-bottom"),bt(i,"leaflet-tooltip-"+s),Ct(i,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&xt(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return M(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Or=function(e,t){return new Rr(e,t)};nn.include({openTooltip:function(e,t,n){return this._initOverlay(Rr,e,t,n).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Wn.include({bindTooltip:function(e,t){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Rr,this._tooltip,e,t),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[t](n),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof Zn||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var t=e.getElement();t&&(Ft(t,"focus",(function(){this._tooltip._source=e,this.openTooltip()}),this),Ft(t,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var t=e.getElement();t&&t.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0))},_moveTooltip:function(e){var t,n,r=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),n=this._map.containerPointToLayerPoint(t),r=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(r)}});var Mr=Qn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),n=this.options;if(n.html instanceof Element?(vt(t),t.appendChild(n.html)):t.innerHTML=!1!==n.html?n.html:"",n.bgPos){var r=M(n.bgPos);t.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});function Dr(e){return new Mr(e)}Qn.Default=Xn;var Lr=Wn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Le.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){d(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),pt(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(mt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(gt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=s(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof R?e:new R(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,n=this.getPane().children,r=-e(-1/0,1/0),i=0,o=n.length;i<o;i++)t=n[i].style.zIndex,n[i]!==this._container&&t&&(r=e(r,+t));isFinite(r)&&(this.options.zIndex=r+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Le.ielt9){xt(this._container,this.options.opacity);var e=+new Date,t=!1,n=!1;for(var r in this._tiles){var i=this._tiles[r];if(i.current&&i.loaded){var o=Math.min(1,(e-i.loaded)/200);xt(i.el,o),o<1?t=!0:(i.active?n=!0:this._onOpaqueTile(i),i.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),t&&(T(this._fadeFrame),this._fadeFrame=S(this._updateOpacity,this))}},_onOpaqueTile:c,_initContainer:function(){this._container||(this._container=dt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(pt(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var r=this._levels[e],i=this._map;return r||((r=this._levels[e]={}).el=dt("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=t,r.origin=i.project(i.unproject(i.getPixelOrigin()),e).round(),r.zoom=e,this._setZoomTransform(r,i.getCenter(),i.getZoom()),c(r.el.offsetWidth),this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:c,_onRemoveLevel:c,_onCreateLevel:c,_pruneTiles:function(){if(this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(t=this._tiles[e]).retain=t.current;for(e in this._tiles)if((t=this._tiles[e]).current&&!t.active){var r=t.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)pt(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,n,r){var i=Math.floor(e/2),o=Math.floor(t/2),a=n-1,s=new R(+i,+o);s.z=+a;var u=this._tileCoordsToKey(s),c=this._tiles[u];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),a>r&&this._retainParent(i,o,a,r))},_retainChildren:function(e,t,n,r){for(var i=2*e;i<2*e+2;i++)for(var o=2*t;o<2*t+2;o++){var a=new R(i,o);a.z=n+1;var s=this._tileCoordsToKey(a),u=this._tiles[s];u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),n+1<r&&this._retainChildren(i,o,n+1,r))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,r){var i=Math.round(t);i=void 0!==this.options.maxZoom&&i>this.options.maxZoom||void 0!==this.options.minZoom&&i<this.options.minZoom?void 0:this._clampZoom(i);var o=this.options.updateWhenZooming&&i!==this._tileZoom;r&&!o||(this._tileZoom=i,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==i&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var r=this._map.getZoomScale(n,e.zoom),i=e.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(t,n)).round();Le.any3d?Tt(e.el,i,r):Ct(e.el,i)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],r).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],r).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],r).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),r=t.getZoomScale(n,this._tileZoom),i=t.project(e,this._tileZoom).floor(),o=t.getSize().divideBy(2*r);return new D(i.subtract(o),i.add(o))},_update:function(e){var t=this._map;if(t){var n=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var r=this._getTiledPixelBounds(e),i=this._pxBoundsToTileRange(r),o=i.getCenter(),a=[],s=this.options.keepBuffer,u=new D(i.getBottomLeft().subtract([s,-s]),i.getTopRight().add([s,-s]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var l=this._tiles[c].coords;l.z===this._tileZoom&&u.contains(new R(l.x,l.y))||(this._tiles[c].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(e,n);else{for(var f=i.min.y;f<=i.max.y;f++)for(var h=i.min.x;h<=i.max.x;h++){var d=new R(h,f);if(d.z=this._tileZoom,this._isValidTile(d)){var p=this._tiles[this._tileCoordsToKey(d)];p?p.current=!0:a.push(d)}}if(a.sort((function(e,t){return e.distanceTo(o)-t.distanceTo(o)})),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var v=document.createDocumentFragment();for(h=0;h<a.length;h++)this._addTile(a[h],v);this._level.el.appendChild(v)}}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(e);return z(this.options.bounds).overlaps(r)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,n=this.getTileSize(),r=e.scaleBy(n),i=r.add(n);return[t.unproject(r,e.z),t.unproject(i,e.z)]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),n=new j(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),n=new R(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(pt(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){bt(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=c,e.onmousemove=c,Le.ielt9&&this.options.opacity<1&&xt(e,this.options.opacity)},_addTile:function(e,t){var n=this._getTilePos(e),r=this._tileCoordsToKey(e),o=this.createTile(this._wrapCoords(e),i(this._tileReady,this,e));this._initTile(o),this.createTile.length<2&&S(i(this._tileReady,this,e,null,o)),Ct(o,n),this._tiles[r]={el:o,coords:e,current:!0},t.appendChild(o),this.fire("tileloadstart",{tile:o,coords:e})},_tileReady:function(e,t,n){t&&this.fire("tileerror",{error:t,tile:n,coords:e});var r=this._tileCoordsToKey(e);(n=this._tiles[r])&&(n.loaded=+new Date,this._map._fadeAnimated?(xt(n.el,0),T(this._fadeFrame),this._fadeFrame=S(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),t||(bt(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Le.ielt9||!this._map._fadeAnimated?S(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new R(this._wrapX?u(e.x,this._wrapX):e.x,this._wrapY?u(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new D(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function Fr(e){return new Lr(e)}var jr=Lr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,t){this._url=e,(t=d(this,t)).detectRetina&&Le.retina&&t.maxZoom>0?(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom=Math.min(t.maxZoom,t.minZoom+1)):(t.zoomOffset++,t.maxZoom=Math.max(t.minZoom,t.maxZoom-1)),t.minZoom=Math.max(0,t.minZoom)):t.zoomReverse?t.minZoom=Math.min(t.maxZoom,t.minZoom):t.maxZoom=Math.max(t.minZoom,t.maxZoom),"string"===typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&void 0===t&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var n=document.createElement("img");return Ft(n,"load",i(this._tileOnLoad,this,t,n)),Ft(n,"error",i(this._tileOnError,this,t,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"===typeof this.options.referrerPolicy&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(e),n},getTileUrl:function(e){var t={r:Le.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=r),t["-y"]=r}return m(this._url,n(t,this.options))},_tileOnLoad:function(e,t){Le.ielt9?setTimeout(i(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var r=this.options.errorTileUrl;r&&t.getAttribute("src")!==r&&(t.src=r),e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom;return this.options.zoomReverse&&(e=t-e),e+this.options.zoomOffset},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&((t=this._tiles[e].el).onload=c,t.onerror=c,!t.complete)){t.src=b;var n=this._tiles[e].coords;pt(t),delete this._tiles[e],this.fire("tileabort",{tile:t,coords:n})}},_removeTile:function(e){var t=this._tiles[e];if(t)return t.el.setAttribute("src",b),Lr.prototype._removeTile.call(this,e)},_tileReady:function(e,t,n){if(this._map&&(!n||n.getAttribute("src")!==b))return Lr.prototype._tileReady.call(this,e,t,n)}});function zr(e,t){return new jr(e,t)}var Br=jr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var r=n({},this.defaultWmsParams);for(var i in t)i in this.options||(r[i]=t[i]);var o=(t=d(this,t)).detectRetina&&Le.retina?2:1,a=this.getTileSize();r.width=a.x*o,r.height=a.y*o,this.wmsParams=r},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,jr.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),n=this._crs,r=F(n.project(t[0]),n.project(t[1])),i=r.min,o=r.max,a=(this._wmsVersion>=1.3&&this._crs===Hn?[i.y,i.x,o.y,o.x]:[i.x,i.y,o.x,o.y]).join(","),s=jr.prototype.getTileUrl.call(this,e);return s+p(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+a},setParams:function(e,t){return n(this.wmsParams,e),t||this.redraw(),this}});function Vr(e,t){return new Br(e,t)}jr.WMS=Br,zr.wms=Vr;var Ur=Wn.extend({options:{padding:.1},initialize:function(e){d(this,e),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&bt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),r=this._map.getSize().multiplyBy(.5+this.options.padding),i=this._map.project(this._center,t),o=r.multiplyBy(-n).add(i).subtract(this._map._getNewPixelOrigin(e,t));Le.any3d?Tt(this._container,o,n):Ct(this._container,o)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new D(n,n.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Hr=Ur.extend({options:{tolerance:0},getEvents:function(){var e=Ur.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ur.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");Ft(e,"mousemove",this._onMouseMove,this),Ft(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ft(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){T(this._redrawRequest),delete this._ctx,pt(this._container),zt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Ur.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),r=Le.retina?2:1;Ct(t,e.min),t.width=r*n.x,t.height=r*n.y,t.style.width=n.x+"px",t.style.height=n.y+"px",Le.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){Ur.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[a(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,r=t.prev;n?n.prev=r:this._drawLast=r,r?r.next=n:this._drawFirst=n,delete e._order,delete this._layers[a(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if("string"===typeof e.options.dashArray){var t,n,r=e.options.dashArray.split(/[, ]+/),i=[];for(n=0;n<r.length;n++){if(t=Number(r[n]),isNaN(t))return;i.push(t)}e.options._dashArray=i}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||S(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new D,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var n=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)e=r.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var n,r,i,o,a=e._parts,s=a.length,u=this._ctx;if(s){for(u.beginPath(),n=0;n<s;n++){for(r=0,i=a[n].length;r<i;r++)o=a[n][r],u[r?"lineTo":"moveTo"](o.x,o.y);t&&u.closePath()}this._fillStroke(u,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,n=this._ctx,r=Math.max(Math.round(e._radius),1),i=(Math.max(Math.round(e._radiusY),1)||r)/r;1!==i&&(n.save(),n.scale(1,i)),n.beginPath(),n.arc(t.x,t.y/i,r,0,2*Math.PI,!1),1!==i&&n.restore(),this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor||n.color,e.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())},_onClick:function(e){for(var t,n,r=this._map.mouseEventToLayerPoint(e),i=this._drawFirst;i;i=i.next)(t=i.layer).options.interactive&&t._containsPoint(r)&&("click"!==e.type&&"preclick"!==e.type||!this._map._draggableMoved(t))&&(n=t);this._fireEvent(!!n&&[n],e)},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(_t(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var n,r,o=this._drawFirst;o;o=o.next)(n=o.layer).options.interactive&&n._containsPoint(t)&&(r=n);r!==this._hoveredLayer&&(this._handleMouseOut(e),r&&(bt(this._container,"leaflet-interactive"),this._fireEvent([r],e,"mouseover"),this._hoveredLayer=r)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],e),this._mouseHoverThrottled=!0,setTimeout(i((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;n&&(n.prev=r,r?r.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e))}},_bringToBack:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;r&&(r.next=n,n?n.prev=r:r&&(this._drawLast=r),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}}});function qr(e){return Le.canvas?new Hr(e):null}var Wr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Kr={_initContainer:function(){this._container=dt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ur.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=Wr("shape");bt(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=Wr("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[a(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;pt(t),e.removeInteractiveTarget(t),delete this._layers[a(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,r=e.options,i=e._container;i.stroked=!!r.stroke,i.filled=!!r.fill,r.stroke?(t||(t=e._stroke=Wr("stroke")),i.appendChild(t),t.weight=r.weight+"px",t.color=r.color,t.opacity=r.opacity,r.dashArray?t.dashStyle=g(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=r.lineCap.replace("butt","flat"),t.joinstyle=r.lineJoin):t&&(i.removeChild(t),e._stroke=null),r.fill?(n||(n=e._fill=Wr("fill")),i.appendChild(n),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(i.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),r=Math.round(e._radiusY||n);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+n+","+r+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){mt(e._container)},_bringToBack:function(e){gt(e._container)}},Gr=Le.vml?Wr:Q,Zr=Ur.extend({_initContainer:function(){this._container=Gr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Gr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){pt(this._container),zt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){Ur.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,n.setAttribute("width",t.x),n.setAttribute("height",t.y)),Ct(n,e.min),n.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=Gr("path");e.options.className&&bt(t,e.options.className),e.options.interactive&&bt(t,"leaflet-interactive"),this._updateStyle(e),this._layers[a(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){pt(e._path),e.removeInteractiveTarget(e._path),delete this._layers[a(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,n=e.options;t&&(n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight),t.setAttribute("stroke-linecap",n.lineCap),t.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?t.setAttribute("stroke-dasharray",n.dashArray):t.removeAttribute("stroke-dasharray"),n.dashOffset?t.setAttribute("stroke-dashoffset",n.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity),t.setAttribute("fill-rule",n.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,$(e._parts,t))},_updateCircle:function(e){var t=e._point,n=Math.max(Math.round(e._radius),1),r="a"+n+","+(Math.max(Math.round(e._radiusY),1)||n)+" 0 1,0 ",i=e._empty()?"M0 0":"M"+(t.x-n)+","+t.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(e,i)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){mt(e._path)},_bringToBack:function(e){gt(e._path)}});function Yr(e){return Le.svg||Le.vml?new Zr(e):null}Le.vml&&Zr.include(Kr),nn.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&qr(e)||Yr(e)}});var Qr=cr.extend({initialize:function(e,t){cr.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=z(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function $r(e,t){return new Qr(e,t)}Zr.create=Gr,Zr.pointsToPath=$,fr.geometryToLayer=hr,fr.coordsToLatLng=pr,fr.coordsToLatLngs=vr,fr.latLngToCoords=mr,fr.latLngsToCoords=gr,fr.getFeature=yr,fr.asFeature=br,nn.mergeOptions({boxZoom:!0});var Xr=mn.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){Ft(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){zt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){pt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),rt(),At(),this._startPoint=this._map.mouseEventToContainerPoint(e),Ft(document,{contextmenu:Zt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=dt("div","leaflet-zoom-box",this._container),bt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new D(this._point,this._startPoint),n=t.getSize();Ct(this._box,t.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(pt(this._box),_t(this._container,"leaflet-crosshair")),it(),Nt(),zt(document,{contextmenu:Zt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var t=new j(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});nn.addInitHook("addHandler","boxZoom",Xr),nn.mergeOptions({doubleClickZoom:!0});var Jr=mn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),r=t.options.zoomDelta,i=e.originalEvent.shiftKey?n-r:n+r;"center"===t.options.doubleClickZoom?t.setZoom(i):t.setZoomAround(e.containerPoint,i)}});nn.addInitHook("addHandler","doubleClickZoom",Jr),nn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ei=mn.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new _n(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}bt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){_t(this._map._container,"leaflet-grab"),_t(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=z(this._map.options.maxBounds);this._offsetLimit=F(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,i=(r-t+n)%e+t-n,o=(r+t+n)%e-t-n,a=Math.abs(i+n)<Math.abs(o+n)?i:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(e){var t=this._map,n=t.options,r=!n.inertia||e.noInertia||this._times.length<2;if(t.fire("dragend",e),r)t.fire("moveend");else{this._prunePositions(+new Date);var i=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,s=i.multiplyBy(a/o),u=s.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,u),l=s.multiplyBy(c/u),f=c/(n.inertiaDeceleration*a),h=l.multiplyBy(-f/2).round();h.x||h.y?(h=t._limitOffset(h,t.options.maxBounds),S((function(){t.panBy(h,{duration:f,easeLinearity:a,noMoveStart:!0,animate:!0})}))):t.fire("moveend")}}});nn.addInitHook("addHandler","dragging",ei),nn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ti=mn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),Ft(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),zt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,n=e.scrollTop||t.scrollTop,r=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(r,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,n,r=this._panKeys={},i=this.keyCodes;for(t=0,n=i.left.length;t<n;t++)r[i.left[t]]=[-1*e,0];for(t=0,n=i.right.length;t<n;t++)r[i.right[t]]=[e,0];for(t=0,n=i.down.length;t<n;t++)r[i.down[t]]=[0,e];for(t=0,n=i.up.length;t<n;t++)r[i.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,n,r=this._zoomKeys={},i=this.keyCodes;for(t=0,n=i.zoomIn.length;t<n;t++)r[i.zoomIn[t]]=e;for(t=0,n=i.zoomOut.length;t<n;t++)r[i.zoomOut[t]]=-e},_addHooks:function(){Ft(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){zt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,n=e.keyCode,r=this._map;if(n in this._panKeys){if(!r._panAnim||!r._panAnim._inProgress)if(t=this._panKeys[n],e.shiftKey&&(t=M(t).multiplyBy(3)),r.options.maxBounds&&(t=r._limitOffset(M(t),r.options.maxBounds)),r.options.worldCopyJump){var i=r.wrapLatLng(r.unproject(r.project(r.getCenter()).add(t)));r.panTo(i)}else r.panBy(t)}else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!r._popup||!r._popup.options.closeOnEscapeKey)return;r.closePopup()}Zt(e)}}});nn.addInitHook("addHandler","keyboard",ti),nn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ni=mn.extend({addHooks:function(){Ft(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){zt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=Xt(e),n=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var r=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),r),Zt(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var r=this._delta/(4*this._map.options.wheelPxPerZoomLevel),i=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,o=n?Math.ceil(i/n)*n:i,a=e._limitZoom(t+(this._delta>0?o:-o))-t;this._delta=0,this._startTime=null,a&&("center"===e.options.scrollWheelZoom?e.setZoom(t+a):e.setZoomAround(this._lastMousePos,t+a))}});nn.addInitHook("addHandler","scrollWheelZoom",ni);var ri=600;nn.mergeOptions({tapHold:Le.touchNative&&Le.safari&&Le.mobile,tapTolerance:15});var ii=mn.extend({addHooks:function(){Ft(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){zt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),1===e.touches.length){var t=e.touches[0];this._startPos=this._newPos=new R(t.clientX,t.clientY),this._holdTimeout=setTimeout(i((function(){this._cancel(),this._isTapValid()&&(Ft(document,"touchend",Gt),Ft(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",t))}),this),ri),Ft(document,"touchend touchcancel contextmenu",this._cancel,this),Ft(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){zt(document,"touchend",Gt),zt(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),zt(document,"touchend touchcancel contextmenu",this._cancel,this),zt(document,"touchmove",this._onMove,this)},_onMove:function(e){var t=e.touches[0];this._newPos=new R(t.clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,t){var n=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY});n._simulated=!0,t.target.dispatchEvent(n)}});nn.addInitHook("addHandler","tapHold",ii),nn.mergeOptions({touchZoom:Le.touch,bounceAtZoomLimits:!0});var oi=mn.extend({addHooks:function(){bt(this._map._container,"leaflet-touch-zoom"),Ft(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){_t(this._map._container,"leaflet-touch-zoom"),zt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(n.add(r)._divideBy(2))),this._startDist=n.distanceTo(r),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),Ft(document,"touchmove",this._onTouchMove,this),Ft(document,"touchend touchcancel",this._onTouchEnd,this),Gt(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]),o=n.distanceTo(r)/this._startDist;if(this._zoom=t.getScaleZoom(o,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&o<1||this._zoom>t.getMaxZoom()&&o>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var a=n._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===a.x&&0===a.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),T(this._animRequest);var s=i(t._move,t,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=S(s,this,!0),Gt(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,T(this._animRequest),zt(document,"touchmove",this._onTouchMove,this),zt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});nn.addInitHook("addHandler","touchZoom",oi),nn.BoxZoom=Xr,nn.DoubleClickZoom=Jr,nn.Drag=ei,nn.Keyboard=ti,nn.ScrollWheelZoom=ni,nn.TapHold=ii,nn.TouchZoom=oi,e.Bounds=D,e.Browser=Le,e.CRS=U,e.Canvas=Hr,e.Circle=or,e.CircleMarker=rr,e.Class=I,e.Control=on,e.DivIcon=Mr,e.DivOverlay=Pr,e.DomEvent=en,e.DomUtil=Lt,e.Draggable=_n,e.Evented=N,e.FeatureGroup=Zn,e.GeoJSON=fr,e.GridLayer=Lr,e.Handler=mn,e.Icon=Qn,e.ImageOverlay=xr,e.LatLng=B,e.LatLngBounds=j,e.Layer=Wn,e.LayerGroup=Kn,e.LineUtil=Dn,e.Map=nn,e.Marker=er,e.Mixin=yn,e.Path=nr,e.Point=R,e.PolyUtil=jn,e.Polygon=cr,e.Polyline=sr,e.Popup=Ar,e.PosAnimation=tn,e.Projection=Vn,e.Rectangle=Qr,e.Renderer=Ur,e.SVG=Zr,e.SVGOverlay=Cr,e.TileLayer=jr,e.Tooltip=Rr,e.Transformation=K,e.Util=C,e.VideoOverlay=Sr,e.bind=i,e.bounds=F,e.canvas=qr,e.circle=ar,e.circleMarker=ir,e.control=an,e.divIcon=Dr,e.extend=n,e.featureGroup=Yn,e.geoJSON=wr,e.geoJson=kr,e.gridLayer=Fr,e.icon=$n,e.imageOverlay=Er,e.latLng=V,e.latLngBounds=z,e.layerGroup=Gn,e.map=rn,e.marker=tr,e.point=M,e.polygon=lr,e.polyline=ur,e.popup=Nr,e.rectangle=$r,e.setOptions=d,e.stamp=a,e.svg=Yr,e.svgOverlay=Ir,e.tileLayer=zr,e.tooltip=Or,e.transformation=G,e.version=t,e.videoOverlay=Tr;var ai=window.L;e.noConflict=function(){return window.L=ai,this},window.L=e}(t)},908:function(e,t,n){var r=n(8136)(n(7009),"DataView");e.exports=r},9676:function(e,t,n){var r=n(5403),i=n(2747),o=n(6037),a=n(4154),s=n(7728);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},8384:function(e,t,n){var r=n(3894),i=n(8699),o=n(4957),a=n(7184),s=n(7109);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},5797:function(e,t,n){var r=n(8136)(n(7009),"Map");e.exports=r},8059:function(e,t,n){var r=n(4086),i=n(9255),o=n(9186),a=n(3423),s=n(3739);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},8319:function(e,t,n){var r=n(8136)(n(7009),"Promise");e.exports=r},3924:function(e,t,n){var r=n(8136)(n(7009),"Set");e.exports=r},692:function(e,t,n){var r=n(8059),i=n(5774),o=n(1596);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},2854:function(e,t,n){var r=n(8384),i=n(511),o=n(835),a=n(707),s=n(8832),u=n(5077);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,e.exports=c},7197:function(e,t,n){var r=n(7009).Symbol;e.exports=r},6219:function(e,t,n){var r=n(7009).Uint8Array;e.exports=r},7091:function(e,t,n){var r=n(8136)(n(7009),"WeakMap");e.exports=r},4903:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},7538:function(e,t,n){var r=n(6478),i=n(4963),o=n(3629),a=n(5174),s=n(6800),u=n(9102),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),l=!n&&i(e),f=!n&&!l&&a(e),h=!n&&!l&&!f&&u(e),d=n||l||f||h,p=d?r(e.length,String):[],v=p.length;for(var m in e)!t&&!c.call(e,m)||d&&("length"==m||f&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,v))||p.push(m);return p}},1705:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},7897:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},7112:function(e,t,n){var r=n(9231);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1986:function(e,t,n){var r=n(1705),i=n(3629);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},9066:function(e,t,n){var r=n(7197),i=n(1587),o=n(3581),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},4906:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},1848:function(e,t,n){var r=n(3355),i=n(3141);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,a,e,s))}},3355:function(e,t,n){var r=n(2854),i=n(5305),o=n(2206),a=n(8078),s=n(8383),u=n(3629),c=n(5174),l=n(9102),f="[object Arguments]",h="[object Array]",d="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,m,g){var y=u(e),b=u(t),_=y?h:s(e),w=b?h:s(t),k=(_=_==f?d:_)==d,x=(w=w==f?d:w)==d,E=_==w;if(E&&c(e)){if(!c(t))return!1;y=!0,k=!1}if(E&&!k)return g||(g=new r),y||l(e)?i(e,t,n,v,m,g):o(e,t,_,n,v,m,g);if(!(1&n)){var S=k&&p.call(e,"__wrapped__"),T=x&&p.call(t,"__wrapped__");if(S||T){var C=S?e.value():e,I=T?t.value():t;return g||(g=new r),m(C,I,n,v,g)}}return!!E&&(g||(g=new r),a(e,t,n,v,m,g))}},6703:function(e,t,n){var r=n(4786),i=n(257),o=n(8092),a=n(7907),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,h=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?h:s).test(a(e))}},8150:function(e,t,n){var r=n(9066),i=n(4635),o=n(3141),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},3654:function(e,t,n){var r=n(2936),i=n(8836),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},6478:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},6194:function(e){e.exports=function(e){return function(t){return e(t)}}},75:function(e){e.exports=function(e,t){return e.has(t)}},5525:function(e,t,n){var r=n(7009)["__core-js_shared__"];e.exports=r},5305:function(e,t,n){var r=n(692),i=n(7897),o=n(75);e.exports=function(e,t,n,a,s,u){var c=1&n,l=e.length,f=t.length;if(l!=f&&!(c&&f>l))return!1;var h=u.get(e),d=u.get(t);if(h&&d)return h==t&&d==e;var p=-1,v=!0,m=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++p<l;){var g=e[p],y=t[p];if(a)var b=c?a(y,g,p,t,e,u):a(g,y,p,e,t,u);if(void 0!==b){if(b)continue;v=!1;break}if(m){if(!i(t,(function(e,t){if(!o(m,t)&&(g===e||s(g,e,n,a,u)))return m.push(t)}))){v=!1;break}}else if(g!==y&&!s(g,y,n,a,u)){v=!1;break}}return u.delete(e),u.delete(t),v}},2206:function(e,t,n){var r=n(7197),i=n(6219),o=n(9231),a=n(5305),s=n(234),u=n(2230),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,f,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=s;case"[object Set]":var p=1&r;if(d||(d=u),e.size!=t.size&&!p)return!1;var v=h.get(e);if(v)return v==t;r|=2,h.set(e,t);var m=a(d(e),d(t),r,c,f,h);return h.delete(e),m;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},8078:function(e,t,n){var r=n(8248),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var u=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!u)return!1;for(var f=l;f--;){var h=c[f];if(!(u?h in t:i.call(t,h)))return!1}var d=s.get(e),p=s.get(t);if(d&&p)return d==t&&p==e;var v=!0;s.set(e,t),s.set(t,e);for(var m=u;++f<l;){var g=e[h=c[f]],y=t[h];if(o)var b=u?o(y,g,h,t,e,s):o(g,y,h,e,t,s);if(!(void 0===b?g===y||a(g,y,n,o,s):b)){v=!1;break}m||(m="constructor"==h)}if(v&&!m){var _=e.constructor,w=t.constructor;_==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(v=!1)}return s.delete(e),s.delete(t),v}},1032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},8248:function(e,t,n){var r=n(1986),i=n(5918),o=n(2742);e.exports=function(e){return r(e,o,i)}},2799:function(e,t,n){var r=n(5964);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},8136:function(e,t,n){var r=n(6703),i=n(40);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},1587:function(e,t,n){var r=n(7197),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(u){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},5918:function(e,t,n){var r=n(4903),i=n(8174),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},8383:function(e,t,n){var r=n(908),i=n(5797),o=n(8319),a=n(3924),s=n(7091),u=n(9066),c=n(7907),l="[object Map]",f="[object Promise]",h="[object Set]",d="[object WeakMap]",p="[object DataView]",v=c(r),m=c(i),g=c(o),y=c(a),b=c(s),_=u;(r&&_(new r(new ArrayBuffer(1)))!=p||i&&_(new i)!=l||o&&_(o.resolve())!=f||a&&_(new a)!=h||s&&_(new s)!=d)&&(_=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case v:return p;case m:return l;case g:return f;case y:return h;case b:return d}return t}),e.exports=_},40:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},5403:function(e,t,n){var r=n(9620);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},2747:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6037:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},4154:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},7728:function(e,t,n){var r=n(9620);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},6800:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},5964:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},257:function(e,t,n){var r=n(5525),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},2936:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},3894:function(e){e.exports=function(){this.__data__=[],this.size=0}},8699:function(e,t,n){var r=n(7112),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},4957:function(e,t,n){var r=n(7112);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7184:function(e,t,n){var r=n(7112);e.exports=function(e){return r(this.__data__,e)>-1}},7109:function(e,t,n){var r=n(7112);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},4086:function(e,t,n){var r=n(9676),i=n(8384),o=n(5797);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},9255:function(e,t,n){var r=n(2799);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},9186:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).get(e)}},3423:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).has(e)}},3739:function(e,t,n){var r=n(2799);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},234:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},9620:function(e,t,n){var r=n(8136)(Object,"create");e.exports=r},8836:function(e,t,n){var r=n(2709)(Object.keys,Object);e.exports=r},9494:function(e,t,n){e=n.nmd(e);var r=n(1032),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},3581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},2709:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},7009:function(e,t,n){var r=n(1032),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},5774:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1596:function(e){e.exports=function(e){return this.__data__.has(e)}},2230:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},511:function(e,t,n){var r=n(8384);e.exports=function(){this.__data__=new r,this.size=0}},835:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},707:function(e){e.exports=function(e){return this.__data__.get(e)}},8832:function(e){e.exports=function(e){return this.__data__.has(e)}},5077:function(e,t,n){var r=n(8384),i=n(5797),o=n(8059);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},7907:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},9231:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},4963:function(e,t,n){var r=n(4906),i=n(3141),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},3629:function(e){var t=Array.isArray;e.exports=t},1473:function(e,t,n){var r=n(4786),i=n(4635);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},5174:function(e,t,n){e=n.nmd(e);var r=n(7009),i=n(9488),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;e.exports=u},8111:function(e,t,n){var r=n(1848);e.exports=function(e,t){return r(e,t)}},4786:function(e,t,n){var r=n(9066),i=n(8092);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},4635:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},9102:function(e,t,n){var r=n(8150),i=n(6194),o=n(9494),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},2742:function(e,t,n){var r=n(7538),i=n(3654),o=n(1473);e.exports=function(e){return o(e)?r(e):i(e)}},8174:function(e){e.exports=function(){return[]}},9488:function(e){e.exports=function(){return!1}},4501:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case o:case s:case a:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case u:return e;default:return t}}case i:return t}}}function k(e){return w(e)===f}t.isFragment=function(e){return w(e)===o},t.isMemo=function(e){return w(e)===v}},3873:function(e,t,n){"use strict";e.exports=n(4501)},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var L,F=Object.assign;function j(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var z=!1;function B(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function V(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case k:return"Portal";case S:return"Profiler";case E:return"StrictMode";case P:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){$(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function oe(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,xe=null,Ee=null;function Se(e){if(e=bi(e)){if("function"!==typeof ke)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),ke(e.stateNode,e.type,t))}}function Te(e){xe?Ee?Ee.push(e):Ee=[e]:xe=e}function Ce(){if(xe){var e=xe,t=Ee;if(Ee=xe=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ie(e,t){return e(t)}function Pe(){}var Ae=!1;function Ne(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ie(e,t,n)}finally{Ae=!1,(null!==xe||null!==Ee)&&(Pe(),Ce())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Oe=!1;if(l)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(le){Oe=!1}function De(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Fe=null,je=!1,ze=null,Be={onError:function(e){Le=!0,Fe=e}};function Ve(e,t,n,r,i,o,a,s,u){Le=!1,Fe=null,De.apply(Be,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Ue(e)!==e)throw Error(o(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return qe(i),e;if(a===r)return qe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Ze=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Qe=i.unstable_requestPaint,$e=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=ft(s):0!==(o&=a)&&(r=ft(o))}else 0!==(a=n&~i)?r=ft(a):0!==o&&(r=ft(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,kt,xt,Et,St,Tt=!1,Ct=[],It=null,Pt=null,At=null,Nt=new Map,Rt=new Map,Ot=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Lt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void St(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_e=r,n.target.dispatchEvent(r),_e=null,t.shift()}return!0}function zt(e,t,n){jt(e)&&n.delete(t)}function Bt(){Tt=!1,null!==It&&jt(It)&&(It=null),null!==Pt&&jt(Pt)&&(Pt=null),null!==At&&jt(At)&&(At=null),Nt.forEach(zt),Rt.forEach(zt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Ut(e){function t(t){return Vt(t,e)}if(0<Ct.length){Vt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Vt(It,e),null!==Pt&&Vt(Pt,e),null!==At&&Vt(At,e),Nt.forEach(t),Rt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var Ht=_.ReactCurrentBatchConfig,qt=!0;function Wt(e,t,n,r){var i=bt,o=Ht.transition;Ht.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,Ht.transition=o}}function Kt(e,t,n,r){var i=bt,o=Ht.transition;Ht.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,Ht.transition=o}}function Gt(e,t,n,r){if(qt){var i=Yt(e,t,n,r);if(null===i)qr(e,t,r,Zt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Lt(It,e,t,n,r,i),!0;case"dragenter":return Pt=Lt(Pt,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Nt.set(o,Lt(Nt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Rt.set(o,Lt(Rt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Mt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&wt(o),null===(o=Yt(e,t,n,r))&&qr(e,t,r,Zt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Zt=null;function Yt(e,t,n,r){if(Zt=null,null!==(e=yi(e=we(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Xt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Xt,r=n.length,i="value"in $t?$t.value:$t.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=on(cn),fn=F({},cn,{view:0,detail:0}),hn=on(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(an=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=an=0,un=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(dn),vn=on(F({},dn,{dataTransfer:0})),mn=on(F({},fn,{relatedTarget:0})),gn=on(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),_n=on(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Sn(){return En}var Tn=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=on(Tn),In=on(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=on(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),An=on(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=on(Nn),On=[9,13,27,32],Mn=l&&"CompositionEvent"in window,Dn=null;l&&"documentMode"in document&&(Dn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Dn,Fn=l&&(!Mn||Dn&&8<Dn&&11>=Dn),jn=String.fromCharCode(32),zn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Wn(e,t,n,r){Te(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Zn(e){jr(e,0)}function Yn(e){if(G(_i(e)))return e}function Qn(e,t){if("change"===e)return t}var $n=!1;if(l){var Xn;if(l){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Xn=Jn}else Xn=!1;$n=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Wn(t,Gn,e,we(e)),Ne(Zn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function or(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=lr(n,o);var a=lr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,br=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Z(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Kr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Er={};function Sr(e){if(xr[e])return xr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return xr[e]=n[t];return e}l&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Tr=Sr("animationend"),Cr=Sr("animationiteration"),Ir=Sr("animationstart"),Pr=Sr("transitionend"),Ar=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Ar.set(e,t),u(t,[e])}for(var Or=0;Or<Nr.length;Or++){var Mr=Nr[Or];Rr(Mr.toLowerCase(),"on"+(Mr[0].toUpperCase()+Mr.slice(1)))}Rr(Tr,"onAnimationEnd"),Rr(Cr,"onAnimationIteration"),Rr(Ir,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Pr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Ve.apply(this,arguments),Le){if(!Le)throw Error(o(198));var l=Fe;Le=!1,Fe=null,je||(je=!0,ze=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Fr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Fr(i,s,c),o=u}}}if(je)throw e=ze,je=!1,ze=null,e}function zr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Vr]){e[Vr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Br("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Qt(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}Ne((function(){var r=o,i=we(n),a=[];e:{var s=Ar.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Cn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case Tr:case Cr:case Ir:u=gn;break;case Pr:u=An;break;case"scroll":u=hn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=In}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Re(p,h))&&l.push(Wr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===_e||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(f=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=In,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:_i(u),d=null==c?s:_i(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,yi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==u&&Zr(a,s,u,l,!1),null!==c&&null!==f&&Zr(a,f,c,l,!0)}if("select"===(u=(s=r?_i(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Qn;else if(qn(s))if($n)m=ar;else{m=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=or);switch(m&&(m=m(e,r))?Wn(a,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?_i(r):window,e){case"focusin":(qn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,_r(a,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":_r(a,n,i)}var y;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(y=en()):(Xt="value"in($t=i)?$t.value:$t.textContent,Un=!0)),0<(g=Kr(r,b)).length&&(b=new _n(b,e,null,n,i),a.push({event:b,listeners:g}),y?b.data=y:null!==(y=Vn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(zn=!0,jn);case"textInput":return(e=t.data)===jn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Mn&&Bn(e,t)?(e=en(),Jt=Xt=$t=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}jr(a,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Re(e,n))&&r.unshift(Wr(e,o,i)),null!=(o=Re(e,t))&&r.push(Wr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Zr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Re(n,o))&&a.unshift(Wr(n,u,s)):i||null!=(u=Re(n,o))&&a.push(Wr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Qr,"")}function Xr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(o(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,gi="__reactHandles$"+fi;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _i(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[di]||null}var ki=[],xi=-1;function Ei(e){return{current:e}}function Si(e){0>xi||(e.current=ki[xi],ki[xi]=null,xi--)}function Ti(e,t){xi++,ki[xi]=e.current,e.current=t}var Ci={},Ii=Ei(Ci),Pi=Ei(!1),Ai=Ci;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Si(Pi),Si(Ii)}function Mi(e,t,n){if(Ii.current!==Ci)throw Error(o(168));Ti(Ii,t),Ti(Pi,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,H(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ai=Ii.current,Ti(Ii,e),Ti(Pi,Pi.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Di(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Si(Pi),Si(Ii),Ti(Ii,e)):Si(Pi),Ti(Pi,n)}var ji=null,zi=!1,Bi=!1;function Vi(e){null===ji?ji=[e]:ji.push(e)}function Ui(){if(!Bi&&null!==ji){Bi=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,zi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Je,Ui),i}finally{bt=t,Bi=!1}}return null}var Hi=[],qi=0,Wi=null,Ki=0,Gi=[],Zi=0,Yi=null,Qi=1,$i="";function Xi(e,t){Hi[qi++]=Ki,Hi[qi++]=Wi,Wi=e,Ki=t}function Ji(e,t,n){Gi[Zi++]=Qi,Gi[Zi++]=$i,Gi[Zi++]=Yi,Yi=e;var r=Qi;e=$i;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Qi=1<<32-at(t)+i|n<<i|r,$i=o+e}else Qi=1<<o|n<<i|r,$i=e}function eo(e){null!==e.return&&(Xi(e,1),Ji(e,1,0))}function to(e){for(;e===Wi;)Wi=Hi[--qi],Hi[qi]=null,Ki=Hi[--qi],Hi[qi]=null;for(;e===Yi;)Yi=Gi[--Zi],Gi[Zi]=null,$i=Gi[--Zi],Gi[Zi]=null,Qi=Gi[--Zi],Gi[Zi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Qi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function uo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(uo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(uo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function lo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!io)return lo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(uo(e))throw ho(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(lo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function vo(e){null===oo?oo=[e]:oo.push(e)}var mo=_.ReactCurrentBatchConfig;function go(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=Ei(null),bo=null,_o=null,wo=null;function ko(){wo=_o=bo=null}function xo(e){var t=yo.current;Si(yo),e._currentValue=t}function Eo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function So(e,t){bo=e,wo=_o=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_s=!0),e.firstContext=null)}function To(e){var t=e._currentValue;if(wo!==e)if(e={context:e,memoizedValue:t,next:null},null===_o){if(null===bo)throw Error(o(308));_o=e,bo.dependencies={lanes:0,firstContext:e}}else _o=_o.next=e;return t}var Co=null;function Io(e){null===Co?Co=[e]:Co.push(e)}function Po(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Io(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ao(e,r)}function Ao(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var No=!1;function Ro(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Do(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Iu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ao(e,n)}return null===(i=r.interleaved)?(t.next=t,Io(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ao(e,n)}function Lo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function jo(e,t,n,r){var i=e.updateQueue;No=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===a?o=c:a.next=c,a=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==o){var f=i.baseState;for(a=0,l=c=u=null,s=o;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:No=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Lu|=a,e.lanes=a,e.memoizedState=f}}function zo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Bo=(new r.Component).refs;function Vo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Uo={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Mo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Do(e,o,i))&&(nc(t,e,i,r),Lo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Mo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Do(e,o,i))&&(nc(t,e,i,r),Lo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Mo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Do(e,i,r))&&(nc(t,e,r,n),Lo(t,e,r))}};function Ho(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function qo(e,t,n){var r=!1,i=Ci,o=t.contextType;return"object"===typeof o&&null!==o?o=To(o):(i=Ri(t)?Ai:Ii.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ci),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Uo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Wo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Uo.enqueueReplaceState(t,t.state,null)}function Ko(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Bo,Ro(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=To(o):(o=Ri(t)?Ai:Ii.current,i.context=Ni(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Vo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Uo.enqueueReplaceState(i,i.state,null),jo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Go(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Bo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Zo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yo(e){return(0,e._init)(e._payload)}function Qo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===R&&Yo(o)===t.type)?((r=i(t,n.props)).ref=Go(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=Go(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=Go(e,null,t),n.return=e,n;case k:return(t=jc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Dc(t,e.mode,n,null)).return=e,t;Zo(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case k:return n.key===i?l(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:f(e,t,n,r,null);Zo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return f(t,e=e.get(n)||null,r,i,null);Zo(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=d(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),o=a(g,o,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===s.length)return n(i,f),io&&Xi(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return io&&Xi(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),io&&Xi(i,v),c}function m(i,s,u,c){var l=D(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=d(i,v,y.value,c);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),s=a(b,s,m),null===f?l=b:f.sibling=b,f=b,v=g}if(y.done)return n(i,v),io&&Xi(i,m),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=h(i,y.value,c))&&(s=a(y,s,m),null===f?l=y:f.sibling=y,f=y);return io&&Xi(i,m),l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=a(y,s,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),io&&Xi(i,m),l}return function e(r,o,a,u){if("object"===typeof a&&null!==a&&a.type===x&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,l=o;null!==l;){if(l.key===c){if((c=a.type)===x){if(7===l.tag){n(r,l.sibling),(o=i(l,a.props.children)).return=r,r=o;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Yo(c)===l.type){n(r,l.sibling),(o=i(l,a.props)).ref=Go(r,l,a),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}a.type===x?((o=Dc(a.props.children,r.mode,u,a.key)).return=r,r=o):((u=Mc(a.type,a.key,a.props,null,r.mode,u)).ref=Go(r,o,a),u.return=r,r=u)}return s(r);case k:e:{for(l=a.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=jc(a,r.mode,u)).return=r,r=o}return s(r);case R:return e(r,o,(l=a._init)(a._payload),u)}if(te(a))return v(r,o,a,u);if(D(a))return m(r,o,a,u);Zo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Fc(a,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var $o=Qo(!0),Xo=Qo(!1),Jo={},ea=Ei(Jo),ta=Ei(Jo),na=Ei(Jo);function ra(e){if(e===Jo)throw Error(o(174));return e}function ia(e,t){switch(Ti(na,t),Ti(ta,e),Ti(ea,Jo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(ea),Ti(ea,t)}function oa(){Si(ea),Si(ta),Si(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=ue(t,e.type);t!==n&&(Ti(ta,e),Ti(ea,n))}function sa(e){ta.current===e&&(Si(ea),Si(ta))}var ua=Ei(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=[];function fa(){for(var e=0;e<la.length;e++)la[e]._workInProgressVersionPrimary=null;la.length=0}var ha=_.ReactCurrentDispatcher,da=_.ReactCurrentBatchConfig,pa=0,va=null,ma=null,ga=null,ya=!1,ba=!1,_a=0,wa=0;function ka(){throw Error(o(321))}function xa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Ea(e,t,n,r,i,a){if(pa=a,va=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ba){a=0;do{if(ba=!1,_a=0,25<=a)throw Error(o(301));a+=1,ga=ma=null,t.updateQueue=null,ha.current=cs,e=n(r,i)}while(ba)}if(ha.current=as,t=null!==ma&&null!==ma.next,pa=0,ga=ma=va=null,ya=!1,t)throw Error(o(300));return e}function Sa(){var e=0!==_a;return _a=0,e}function Ta(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ga?va.memoizedState=ga=e:ga=ga.next=e,ga}function Ca(){if(null===ma){var e=va.alternate;e=null!==e?e.memoizedState:null}else e=ma.next;var t=null===ga?va.memoizedState:ga.next;if(null!==t)ga=t,ma=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ma=e).memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},null===ga?va.memoizedState=ga=e:ga=ga.next=e}return ga}function Ia(e,t){return"function"===typeof t?t(e):t}function Pa(e){var t=Ca(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ma,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,c=null,l=a;do{var f=l.lane;if((pa&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,va.lanes|=f,Lu|=f}l=l.next}while(null!==l&&l!==a);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(_s=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,va.lanes|=a,Lu|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Aa(e){var t=Ca(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(_s=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Na(){}function Ra(e,t){var n=va,r=Ca(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,_s=!0),r=r.queue,qa(Da.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ga&&1&ga.memoizedState.tag){if(n.flags|=2048,za(9,Ma.bind(null,n,r,i,t),void 0,null),null===Pu)throw Error(o(349));0!==(30&pa)||Oa(n,t,i)}return i}function Oa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ma(e,t,n,r){t.value=n,t.getSnapshot=r,La(t)&&Fa(e)}function Da(e,t,n){return n((function(){La(t)&&Fa(e)}))}function La(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Fa(e){var t=Ao(e,1);null!==t&&nc(t,e,1,-1)}function ja(e){var t=Ta();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,va,e),[t.memoizedState,e]}function za(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ba(){return Ca().memoizedState}function Va(e,t,n,r){var i=Ta();va.flags|=e,i.memoizedState=za(1|t,n,void 0,void 0===r?null:r)}function Ua(e,t,n,r){var i=Ca();r=void 0===r?null:r;var o=void 0;if(null!==ma){var a=ma.memoizedState;if(o=a.destroy,null!==r&&xa(r,a.deps))return void(i.memoizedState=za(t,n,o,r))}va.flags|=e,i.memoizedState=za(1|t,n,o,r)}function Ha(e,t){return Va(8390656,8,e,t)}function qa(e,t){return Ua(2048,8,e,t)}function Wa(e,t){return Ua(4,2,e,t)}function Ka(e,t){return Ua(4,4,e,t)}function Ga(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Za(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ua(4,4,Ga.bind(null,t,e),n)}function Ya(){}function Qa(e,t){var n=Ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $a(e,t){var n=Ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xa(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,_s=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),va.lanes|=n,Lu|=n,e.baseState=!0),t)}function Ja(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=da.transition;da.transition={};try{e(!1),t()}finally{bt=n,da.transition=r}}function es(){return Ca().memoizedState}function ts(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Po(e,t,n,r))){nc(n,e,r,ec()),os(n,t,r)}}function ns(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var u=t.interleaved;return null===u?(i.next=i,Io(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Po(e,t,i,r))&&(nc(n,e,r,i=ec()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===va||null!==t&&t===va}function is(e,t){ba=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var as={readContext:To,useCallback:ka,useContext:ka,useEffect:ka,useImperativeHandle:ka,useInsertionEffect:ka,useLayoutEffect:ka,useMemo:ka,useReducer:ka,useRef:ka,useState:ka,useDebugValue:ka,useDeferredValue:ka,useTransition:ka,useMutableSource:ka,useSyncExternalStore:ka,useId:ka,unstable_isNewReconciler:!1},ss={readContext:To,useCallback:function(e,t){return Ta().memoizedState=[e,void 0===t?null:t],e},useContext:To,useEffect:Ha,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4194308,4,Ga.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Va(4194308,4,e,t)},useInsertionEffect:function(e,t){return Va(4,2,e,t)},useMemo:function(e,t){var n=Ta();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ta();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,va,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ta().memoizedState=e},useState:ja,useDebugValue:Ya,useDeferredValue:function(e){return Ta().memoizedState=e},useTransition:function(){var e=ja(!1),t=e[0];return e=Ja.bind(null,e[1]),Ta().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=va,i=Ta();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Pu)throw Error(o(349));0!==(30&pa)||Oa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ha(Da.bind(null,r,a,e),[e]),r.flags|=2048,za(9,Ma.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ta(),t=Pu.identifierPrefix;if(io){var n=$i;t=":"+t+"R"+(n=(Qi&~(1<<32-at(Qi)-1)).toString(32)+n),0<(n=_a++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:To,useCallback:Qa,useContext:To,useEffect:qa,useImperativeHandle:Za,useInsertionEffect:Wa,useLayoutEffect:Ka,useMemo:$a,useReducer:Pa,useRef:Ba,useState:function(){return Pa(Ia)},useDebugValue:Ya,useDeferredValue:function(e){return Xa(Ca(),ma.memoizedState,e)},useTransition:function(){return[Pa(Ia)[0],Ca().memoizedState]},useMutableSource:Na,useSyncExternalStore:Ra,useId:es,unstable_isNewReconciler:!1},cs={readContext:To,useCallback:Qa,useContext:To,useEffect:qa,useImperativeHandle:Za,useInsertionEffect:Wa,useLayoutEffect:Ka,useMemo:$a,useReducer:Aa,useRef:Ba,useState:function(){return Aa(Ia)},useDebugValue:Ya,useDeferredValue:function(e){var t=Ca();return null===ma?t.memoizedState=e:Xa(t,ma.memoizedState,e)},useTransition:function(){return[Aa(Ia)[0],Ca().memoizedState]},useMutableSource:Na,useSyncExternalStore:Ra,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Mo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qu||(qu=!0,Wu=r),hs(0,t)},n}function vs(e,t,n){(n=Mo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Ku?Ku=new Set([this]):Ku.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Mo(-1,1)).tag=2,Do(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=_.ReactCurrentOwner,_s=!1;function ws(e,t,n,r){t.child=null===e?Xo(t,null,n,r):$o(t,e.child,n,r)}function ks(e,t,n,r,i){n=n.render;var o=t.ref;return So(t,i),r=Ea(e,t,n,r,o,i),n=Sa(),null===e||_s?(io&&n&&eo(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function xs(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Rc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Es(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(a,r)&&e.ref===t.ref)return qs(e,t,i)}return t.flags|=1,(e=Oc(o,r)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ur(o,r)&&e.ref===t.ref){if(_s=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,qs(e,t,i);0!==(131072&e.flags)&&(_s=!0)}}return Cs(e,t,n,r,i)}function Ss(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Ou,Ru),Ru|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Ou,Ru),Ru|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ti(Ou,Ru),Ru|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ti(Ou,Ru),Ru|=r;return ws(e,t,i,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,i){var o=Ri(n)?Ai:Ii.current;return o=Ni(t,o),So(t,i),n=Ea(e,t,n,r,o,i),r=Sa(),null===e||_s?(io&&r&&eo(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function Is(e,t,n,r,i){if(Ri(n)){var o=!0;Li(t)}else o=!1;if(So(t,i),null===t.stateNode)Hs(e,t),qo(t,n,r),Ko(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=To(c):c=Ni(t,c=Ri(n)?Ai:Ii.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Wo(t,a,r,c),No=!1;var h=t.memoizedState;a.state=h,jo(t,r,a,i),u=t.memoizedState,s!==r||h!==u||Pi.current||No?("function"===typeof l&&(Vo(t,n,l,r),u=t.memoizedState),(s=No||Ho(t,n,s,r,h,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Oo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:go(t.type,s),a.props=c,f=t.pendingProps,h=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=To(u):u=Ni(t,u=Ri(n)?Ai:Ii.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||h!==u)&&Wo(t,a,r,u),No=!1,h=t.memoizedState,a.state=h,jo(t,r,a,i);var p=t.memoizedState;s!==f||h!==p||Pi.current||No?("function"===typeof d&&(Vo(t,n,d,r),p=t.memoizedState),(c=No||Ho(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ps(e,t,n,r,o,i)}function Ps(e,t,n,r,i,o){Ts(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Fi(t,n,!1),qs(e,t,o);r=t.stateNode,bs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=$o(t,e.child,null,o),t.child=$o(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Mi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Mi(0,t.context,!1),ia(e,t.containerInfo)}function Ns(e,t,n,r,i){return po(),vo(i),t.flags|=256,ws(e,t,n,r),t.child}var Rs,Os,Ms,Ds={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,a=ua.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ti(ua,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Lc(u,i,0,null),e=Dc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=Ds,e):js(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,zs(e,t,s,r=fs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(a=Dc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&$o(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Ds,a);if(0===(1&t.mode))return zs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,zs(e,t,s,r=fs(a=Error(o(419)),r,void 0))}if(u=0!==(s&e.childLanes),_s||u){if(null!==(r=Pu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ao(e,i),nc(r,e,i,-1))}return vc(),zs(e,t,s,r=fs(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Zi++]=Qi,Gi[Zi++]=$i,Gi[Zi++]=Yi,Qi=e.id,$i=e.overflow,Yi=t),(t=js(t,r.children)).flags|=4096,t)}(e,t,u,i,r,a,n);if(s){s=i.fallback,u=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Oc(r,s):(s=Dc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ls(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ds,i}return e=(s=e.child).sibling,i=Oc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function js(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zs(e,t,n,r){return null!==r&&vo(r),$o(t,e.child,null,n),(e=js(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Eo(e.return,t,n)}function Vs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Us(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(ua,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ca(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vs(t,!0,n,null,o);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Ri(t.type)&&Oi(),Ks(t),null;case 3:return r=t.stateNode,oa(),Si(Pi),Si(Ii),fa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),Ks(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ks(t),null}if(e=ra(ea.current),fo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[di]=a,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)zr(Dr[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Q(r,a),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},zr("invalid",r);break;case"textarea":ie(r,a),zr("invalid",r)}for(var u in ye(n,a),i=null,a)if(a.hasOwnProperty(u)){var c=a[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&zr("scroll",r)}switch(n){case"input":K(r),J(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Rs(e,t),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)zr(Dr[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":Q(e,r),i=Y(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),zr("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?me(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=l&&"onScroll"===a&&zr("scroll",e):null!=l&&b(e,a,l,u))}switch(n){case"input":K(e),J(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Ms(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ks(t),null;case 13:if(Si(ua),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))ho(),po(),t.flags|=98560,a=!1;else if(a=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),a=!1}else null!==oo&&(ac(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ua.current)?0===Mu&&(Mu=3):vc())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return oa(),null===e&&Ur(t.stateNode.containerInfo),Ks(t),null;case 10:return xo(t.type._context),Ks(t),null;case 19:if(Si(ua),null===(a=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(u=a.rendering))if(r)Ws(a,!1);else{if(0!==Mu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=ca(e))){for(t.flags|=128,Ws(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(ua,1&ua.current|2),t.child}e=e.sibling}null!==a.tail&&$e()>Uu&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!io)return Ks(t),null}else 2*$e()-a.renderingStartTime>Uu&&1073741824!==n&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$e(),t.sibling=null,n=ua.current,Ti(ua,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ru)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Zs(e,t){switch(to(t),t.tag){case 1:return Ri(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Si(Pi),Si(Ii),fa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Si(ua),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(ua),null;case 4:return oa(),null;case 10:return xo(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&zr("scroll",e),a||u===c||(a=[])):(a=a||[]).push(l,c))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},Ms=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Qs=!1,$s="function"===typeof WeakSet?WeakSet:Set,Xs=null;function Js(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&eu(t,n,o)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function au(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||au(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var lu=null,fu=!1;function hu(e,t,n){for(n=n.child;null!==n;)du(e,t,n),n=n.sibling}function du(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Qs||Js(n,t);case 6:var r=lu,i=fu;lu=null,hu(e,t,n),fu=i,null!==(lu=r)&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lu.removeChild(n.stateNode));break;case 18:null!==lu&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Ut(e)):ui(lu,n.stateNode));break;case 4:r=lu,i=fu,lu=n.stateNode.containerInfo,fu=!0,hu(e,t,n),lu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!Qs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&eu(n,t,a),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!Qs&&(Js(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,t,s)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?(Qs=(r=Qs)||null!==n.memoizedState,hu(e,t,n),Qs=r):hu(e,t,n);break;default:hu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach((function(t){var r=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:lu=u.stateNode,fu=!1;break e;case 3:case 4:lu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===lu)throw Error(o(160));du(a,s,i),lu=null,fu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),gu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(m){Ec(e,e.return,m)}try{nu(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:vu(t,e),gu(e),512&r&&null!==n&&Js(n,n.return);break;case 5:if(vu(t,e),gu(e),512&r&&null!==n&&Js(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===a.type&&null!=a.name&&$(i,a),be(u,s);var l=be(u,a);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,l)}switch(u){case"input":X(i,a);break;case"textarea":oe(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):d!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[di]=a}catch(m){Ec(e,e.return,m)}}break;case 6:if(vu(t,e),gu(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(m){Ec(e,e.return,m)}}break;case 3:if(vu(t,e),gu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:vu(t,e),gu(e);break;case 13:vu(t,e),gu(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Vu=$e())),4&r&&pu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Qs=(l=Qs)||f,vu(t,e),Qs=l):vu(t,e),gu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Xs=e,f=e.child;null!==f;){for(h=Xs=f;null!==Xs;){switch(p=(d=Xs).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:Js(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:Js(d,d.return);break;case 22:if(null!==d.memoizedState){wu(h);continue}}null!==p?(p.return=d,Xs=p):wu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Ec(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vu(t,e),gu(e),4&r&&pu(e);case 21:}}function gu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(au(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cu(e,su(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;uu(e,su(e),a);break;default:throw Error(o(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yu(e,t,n){Xs=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==Xs;){var i=Xs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Ys;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Qs;s=Ys;var c=Qs;if(Ys=a,(Qs=u)&&!c)for(Xs=i;null!==Xs;)u=(a=Xs).child,22===a.tag&&null!==a.memoizedState?ku(i):null!==u?(u.return=a,Xs=u):ku(i);for(;null!==o;)Xs=o,bu(o,t,n),o=o.sibling;Xs=i,Ys=s,Qs=c}_u(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Xs=o):_u(e)}}function _u(e){for(;null!==Xs;){var t=Xs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qs||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:go(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&zo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}zo(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(o(163))}Qs||512&t.flags&&iu(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function wu(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function ku(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){Ec(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Ec(t,i,u)}}var o=t.return;try{iu(t)}catch(u){Ec(t,o,u)}break;case 5:var a=t.return;try{iu(t)}catch(u){Ec(t,a,u)}}}catch(u){Ec(t,t.return,u)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var xu,Eu=Math.ceil,Su=_.ReactCurrentDispatcher,Tu=_.ReactCurrentOwner,Cu=_.ReactCurrentBatchConfig,Iu=0,Pu=null,Au=null,Nu=0,Ru=0,Ou=Ei(0),Mu=0,Du=null,Lu=0,Fu=0,ju=0,zu=null,Bu=null,Vu=0,Uu=1/0,Hu=null,qu=!1,Wu=null,Ku=null,Gu=!1,Zu=null,Yu=0,Qu=0,$u=null,Xu=-1,Ju=0;function ec(){return 0!==(6&Iu)?$e():-1!==Xu?Xu:Xu=$e()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Iu)&&0!==Nu?Nu&-Nu:null!==mo.transition?(0===Ju&&(Ju=vt()),Ju):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,r){if(50<Qu)throw Qu=0,$u=null,Error(o(185));gt(e,n,r),0!==(2&Iu)&&e===Pu||(e===Pu&&(0===(2&Iu)&&(Fu|=n),4===Mu&&sc(e,Nu)),rc(e,r),1===n&&0===Iu&&0===(1&t.mode)&&(Uu=$e()+500,zi&&Ui()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,u=i[a];-1===u?0!==(s&n)&&0===(s&r)||(i[a]=dt(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===Pu?Nu:0);if(0===r)null!==n&&Ze(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ze(n),1===t)0===e.tag?function(e){zi=!0,Vi(e)}(uc.bind(null,e)):Vi(uc.bind(null,e)),ai((function(){0===(6&Iu)&&Ui()})),n=null;else{switch(_t(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Xu=-1,Ju=0,0!==(6&Iu))throw Error(o(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=ht(e,e===Pu?Nu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Iu;Iu|=2;var a=pc();for(Pu===e&&Nu===t||(Hu=null,Uu=$e()+500,hc(e,t));;)try{yc();break}catch(u){dc(e,u)}ko(),Su.current=a,Iu=i,null!==Au?t=0:(Pu=null,Nu=0,t=Mu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Du,hc(e,0),sc(e,r),rc(e,$e()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(a=pt(e))&&(r=a,t=oc(e,a))),1===t))throw n=Du,hc(e,0),sc(e,r),rc(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:wc(e,Bu,Hu);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Vu+500-$e())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Bu,Hu),t);break}wc(e,Bu,Hu);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eu(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Bu,Hu),r);break}wc(e,Bu,Hu);break;default:throw Error(o(329))}}}return rc(e,$e()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=zu;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Bu,Bu=n,null!==t&&ac(t)),e}function ac(e){null===Bu?Bu=e:Bu.push.apply(Bu,e)}function sc(e,t){for(t&=~ju,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Iu))throw Error(o(327));kc();var t=ht(e,0);if(0===(1&t))return rc(e,$e()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Du,hc(e,0),sc(e,t),rc(e,$e()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Bu,Hu),rc(e,$e()),null}function cc(e,t){var n=Iu;Iu|=1;try{return e(t)}finally{0===(Iu=n)&&(Uu=$e()+500,zi&&Ui())}}function lc(e){null!==Zu&&0===Zu.tag&&0===(6&Iu)&&kc();var t=Iu;Iu|=1;var n=Cu.transition,r=bt;try{if(Cu.transition=null,bt=1,e)return e()}finally{bt=r,Cu.transition=n,0===(6&(Iu=t))&&Ui()}}function fc(){Ru=Ou.current,Si(Ou)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Au)for(n=Au.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:oa(),Si(Pi),Si(Ii),fa();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Si(ua);break;case 10:xo(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Pu=e,Au=e=Oc(e.current,null),Nu=Ru=t,Mu=0,Du=null,ju=Fu=Lu=0,Bu=zu=null,null!==Co){for(t=0;t<Co.length;t++)if(null!==(r=(n=Co[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Co=null}return e}function dc(e,t){for(;;){var n=Au;try{if(ko(),ha.current=as,ya){for(var r=va.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ya=!1}if(pa=0,ga=ma=va=null,ba=!1,_a=0,Tu.current=null,null===n||null===n.return){Mu=1,Du=t,Au=null;break}e:{var a=e,s=n.return,u=n,c=t;if(t=Nu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&ms(a,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(a,l,t),vc();break e}c=Error(o(426))}else if(io&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,t),vo(ls(c,u));break e}}a=c=ls(c,u),4!==Mu&&(Mu=2),null===zu?zu=[a]:zu.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Fo(a,ps(0,c,t));break e;case 1:u=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ku||!Ku.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Fo(a,vs(a,u,t));break e}}a=a.return}while(null!==a)}_c(n)}catch(_){t=_,Au===n&&null!==n&&(Au=n=n.return);continue}break}}function pc(){var e=Su.current;return Su.current=as,null===e?as:e}function vc(){0!==Mu&&3!==Mu&&2!==Mu||(Mu=4),null===Pu||0===(268435455&Lu)&&0===(268435455&Fu)||sc(Pu,Nu)}function mc(e,t){var n=Iu;Iu|=2;var r=pc();for(Pu===e&&Nu===t||(Hu=null,hc(e,t));;)try{gc();break}catch(i){dc(e,i)}if(ko(),Iu=n,Su.current=r,null!==Au)throw Error(o(261));return Pu=null,Nu=0,Mu}function gc(){for(;null!==Au;)bc(Au)}function yc(){for(;null!==Au&&!Ye();)bc(Au)}function bc(e){var t=xu(e.alternate,e,Ru);e.memoizedProps=e.pendingProps,null===t?_c(e):Au=t,Tu.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Ru)))return void(Au=n)}else{if(null!==(n=Zs(n,t)))return n.flags&=32767,void(Au=n);if(null===e)return Mu=6,void(Au=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Au=t);Au=t=e}while(null!==t);0===Mu&&(Mu=5)}function wc(e,t,n){var r=bt,i=Cu.transition;try{Cu.transition=null,bt=1,function(e,t,n,r){do{kc()}while(null!==Zu);if(0!==(6&Iu))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Pu&&(Au=Pu=null,Nu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gu||(Gu=!0,Pc(tt,(function(){return kc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Cu.transition,Cu.transition=null;var s=bt;bt=1;var u=Iu;Iu|=4,Tu.current=null,function(e,t){if(ei=qt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===a&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:go(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(o(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}v=tu,tu=!1}(e,n),mu(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,yu(n,e,i),Qe(),Iu=u,bt=s,Cu.transition=a}else e.current=n;if(Gu&&(Gu=!1,Zu=e,Yu=i),0===(a=e.pendingLanes)&&(Ku=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(qu)throw qu=!1,e=Wu,Wu=null,e;0!==(1&Yu)&&0!==e.tag&&kc(),0!==(1&(a=e.pendingLanes))?e===$u?Qu++:(Qu=0,$u=e):Qu=0,Ui()}(e,t,n,r)}finally{Cu.transition=i,bt=r}return null}function kc(){if(null!==Zu){var e=_t(Yu),t=Cu.transition,n=bt;try{if(Cu.transition=null,bt=16>e?16:e,null===Zu)var r=!1;else{if(e=Zu,Zu=null,Yu=0,0!==(6&Iu))throw Error(o(331));var i=Iu;for(Iu|=4,Xs=e.current;null!==Xs;){var a=Xs,s=a.child;if(0!==(16&Xs.flags)){var u=a.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Xs=l;null!==Xs;){var f=Xs;switch(f.tag){case 0:case 11:case 15:nu(8,f,a)}var h=f.child;if(null!==h)h.return=f,Xs=h;else for(;null!==Xs;){var d=(f=Xs).sibling,p=f.return;if(ou(f),f===l){Xs=null;break}if(null!==d){d.return=p,Xs=d;break}Xs=p}}}var v=a.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Xs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Xs=s;else e:for(;null!==Xs;){if(0!==(2048&(a=Xs).flags))switch(a.tag){case 0:case 11:case 15:nu(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Xs=y;break e}Xs=a.return}}var b=e.current;for(Xs=b;null!==Xs;){var _=(s=Xs).child;if(0!==(2064&s.subtreeFlags)&&null!==_)_.return=s,Xs=_;else e:for(s=b;null!==Xs;){if(0!==(2048&(u=Xs).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(k){Ec(u,u.return,k)}if(u===s){Xs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Xs=w;break e}Xs=u.return}}if(Iu=i,Ui(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(k){}r=!0}return r}finally{bt=n,Cu.transition=t}}return!1}function xc(e,t,n){e=Do(e,t=ps(0,t=ls(n,t),1),1),t=ec(),null!==e&&(gt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ku||!Ku.has(r))){t=Do(t,e=vs(t,e=ls(n,e),1),1),e=ec(),null!==t&&(gt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(Nu&n)===n&&(4===Mu||3===Mu&&(130023424&Nu)===Nu&&500>$e()-Vu?hc(e,0):ju|=n),rc(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Ao(e,t))&&(gt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Ic(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Tc(e,n)}function Pc(e,t){return Ge(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Ac(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Rc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Dc(n.children,i,a,t);case E:s=8,i|=8;break;case S:return(e=Nc(12,n,t,2|i)).elementType=S,e.lanes=a,e;case P:return(e=Nc(13,n,t,i)).elementType=P,e.lanes=a,e;case A:return(e=Nc(19,n,t,i)).elementType=A,e.lanes=a,e;case O:return Lc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case C:s=9;break e;case I:s=11;break e;case N:s=14;break e;case R:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Nc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Dc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,o,a,s,u){return e=new zc(e,t,n,s,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Nc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ro(o),e}function Vc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Uc(e){if(!e)return Ci;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Di(e,n,t)}return t}function Hc(e,t,n,r,i,o,a,s,u){return(e=Bc(n,r,!0,e,0,o,0,s,u)).context=Uc(null),n=e.current,(o=Mo(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Do(n,o,i),e.current.lanes=i,gt(e,i,r),rc(e,r),e}function qc(e,t,n,r){var i=t.current,o=ec(),a=tc(i);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Mo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Do(i,t,a))&&(nc(e,i,a,o),Lo(e,i,a)),a}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}xu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pi.current)_s=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _s=!1,function(e,t,n){switch(t.tag){case 3:As(t),po();break;case 5:aa(t);break;case 1:Ri(t.type)&&Li(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(ua,1&ua.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Ti(ua,1&ua.current),null!==(e=qs(e,t,n))?e.sibling:null);Ti(ua,1&ua.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Us(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return qs(e,t,n)}(e,t,n);_s=0!==(131072&e.flags)}else _s=!1,io&&0!==(1048576&t.flags)&&Ji(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=Ni(t,Ii.current);So(t,n),i=Ea(null,t,r,e,i,n);var a=Sa();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(a=!0,Li(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ro(t),i.updater=Uo,t.stateNode=i,i._reactInternals=t,Ko(t,r,e,n),t=Ps(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===N)return 14}return 2}(r),e=go(r,e),i){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=ks(null,t,r,e,n);break e;case 14:t=xs(null,t,r,go(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:go(r,i),n);case 1:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:go(r,i),n);case 3:e:{if(As(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Oo(e,t),jo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ns(e,t,r,n,i=ls(Error(o(423)),t));break e}if(r!==i){t=Ns(e,t,r,n,i=ls(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Xo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=qs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Ts(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Fs(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$o(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ks(e,t,r,i=t.elementType===r?i:go(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ti(yo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Pi.current){t=qs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Mo(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Eo(a.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Eo(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,So(t,n),r=r(i=To(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=go(r=t.type,t.pendingProps),xs(e,t,r,i=go(r.type,i),n);case 15:return Es(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:go(r,i),Hs(e,t),t.tag=1,Ri(r)?(e=!0,Li(t)):e=!1,So(t,n),qo(t,r,i),Ko(t,r,i,n),Ps(null,t,r,!0,e,n);case 19:return Us(e,t,n);case 22:return Ss(e,t,n)}throw Error(o(156,t.tag))};var Zc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function el(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Wc(a);s.call(e)}}qc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Wc(a);o.call(e)}}var a=Hc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[pi]=a.current,Ur(8===e.nodeType?e.parentNode:e),lc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wc(u);s.call(e)}}var u=Bc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=u,e[pi]=u.current,Ur(8===e.nodeType?e.parentNode:e),lc((function(){qc(t,u,n,r)})),u}(n,t,e,i,r);return Wc(a)}Qc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));qc(e,t,null,null)},Qc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){qc(null,e,null,null)})),t[pi]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,$e()),0===(6&Iu)&&(Uu=$e()+500,Ui()))}break;case 13:lc((function(){var t=Ao(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},kt=function(e){if(13===e.tag){var t=Ao(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},xt=function(e){if(13===e.tag){var t=tc(e),n=Ao(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},Et=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));G(r),X(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=cc,Pe=lc;var tl={usingClientEntryPoint:!1,Events:[bi,_i,wi,Te,Ce,cc]},nl={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),ot=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(o(200));return Vc(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(o(299));var n=!1,r="",i=Zc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(o(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Zc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,Ur(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(o(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(o(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var _=b.prototype=new y;_.constructor=b,v(_,g.prototype),_.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,x={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,i)&&!E.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:x.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===o?"."+I(u,0):o,w(a)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),P(a,t,i,"",(function(e){return e}))):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(u=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var l=o+I(s=e[c],c);u+=P(s,t,i,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=P(s=s.value,t,i,l=o+I(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},M={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:x};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=x.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)k.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>o(u,n))c<i&&0>o(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>o(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,_(e),!v)if(null!==r(c))v=!0,O(k);else{var t=r(l);null!==t&&M(w,t.startTime-e)}}function k(e,n){v=!1,m&&(m=!1,y(T),T=-1),p=!0;var o=d;try{for(_(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!P());){var a=h.callback;if("function"===typeof a){h.callback=null,d=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),_(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&M(w,f.startTime-n),u=!1}return u}finally{h=null,d=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,E=!1,S=null,T=-1,C=5,I=-1;function P(){return!(t.unstable_now()-I<C)}function A(){if(null!==S){var e=t.unstable_now();I=e;var n=!0;try{n=S(!0,e)}finally{n?x():(E=!1,S=null)}}else E=!1}if("function"===typeof b)x=function(){b(A)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,R=N.port2;N.port1.onmessage=A,x=function(){R.postMessage(null)}}else x=function(){g(A,0)};function O(e){S=e,E||(E=!0,x())}function M(e,n){T=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(l,e),null===r(c)&&e===r(l)&&(m?(y(T),T=-1):m=!0,M(w,o-a))):(e.sortIndex=s,n(c,e),v||p||(v=!0,O(k))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var c=o[u];if(!s(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},483:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var _=b.prototype=new y;_.constructor=b,v(_,g.prototype),_.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,x={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,i)&&!E.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:x.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===o?"."+I(u,0):o,w(a)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),P(a,t,i,"",(function(e){return e}))):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(u=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var l=o+I(s=e[c],c);u+=P(s,t,i,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=P(s=s.value,t,i,l=o+I(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},M={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:x};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=x.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)k.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},9653:function(e,t,n){"use strict";e.exports=n(483)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){a[e]=function(){return r[e]}}));return a.default=function(){return r},n.d(o,a),o}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/mapty/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return fd},SDK_VERSION:function(){return Dp},_DEFAULT_ENTRY_NAME:function(){return kp},_addComponent:function(){return Tp},_addOrOverwriteComponent:function(){return Cp},_apps:function(){return Ep},_clearComponents:function(){return Np},_components:function(){return Sp},_getProvider:function(){return Pp},_registerComponent:function(){return Ip},_removeServiceInstance:function(){return Ap},deleteApp:function(){return zp},getApp:function(){return Fp},getApps:function(){return jp},initializeApp:function(){return Lp},onLog:function(){return Up},registerVersion:function(){return Vp},setLogLevel:function(){return Hp}});var t=n(2791),r=n.t(t,2),i=n(1250);function o(e){if(Array.isArray(e))return e}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return o(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||s(e,t)||u()}var l="register_container__GmUYA",f="register_wrapper__oTq7g",h="register_btnContainer__xokAp",d="register_active__RpzpJ",p="register_input__E4rjj";function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function m(){m=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(A){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),s=new C(i||[]);return r(a,"_invoke",{value:x(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var g={};u(g,o,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(I([])));b&&b!==t&&n.call(b,o)&&(g=b);var _=p.prototype=h.prototype=Object.create(g);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function i(r,o,a,s){var u=l(e[r],e,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==v(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return i("throw",e,a,s)}))}s(u.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function I(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return d.prototype=p,r(_,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(_),u(_,s,"Generator"),u(_,o,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function g(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(qW){return void n(qW)}s.done?t(u):Promise.resolve(u).then(r,i)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){g(o,r,i,a,s,"next",e)}function s(e){g(o,r,i,a,s,"throw",e)}a(void 0)}))}}function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b.apply(this,arguments)}function _(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function S(e){return function(e){if(Array.isArray(e))return a(e)}(e)||E(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t,n){return t&&C(e.prototype,t),n&&C(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},A(e,t)}function N(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A(e,t)}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}function O(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Gn){return!1}}function M(e,t){if(t&&("object"===v(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return P(e)}function D(e){var t=O();return function(){var n,r=R(e);if(t){var i=R(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return M(this,n)}}var L=n(3873);function F(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];return t.Children.forEach(e,(function(e){(void 0!==e&&null!==e||n.keepEmpty)&&(Array.isArray(e)?r=r.concat(F(e)):(0,L.isFragment)(e)&&e.props?r=r.concat(F(e.props.children,n)):r.push(e))})),r}var j={};function z(e,t){0}function B(e,t,n){t||j[n]||(e(!1,n),j[n]=!0)}var V=function(e,t){B(z,e,t)},U="RC_FORM_INTERNAL_HOOKS",H=function(){V(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},q=t.createContext({getFieldValue:H,getFieldsValue:H,getFieldError:H,getFieldWarning:H,getFieldsError:H,isFieldsTouched:H,isFieldTouched:H,isFieldValidating:H,isFieldsValidating:H,resetFields:H,setFields:H,setFieldValue:H,setFieldsValue:H,validateFields:H,submit:H,getInternalHooks:function(){return H(),{dispatch:H,initEntityValue:H,registerField:H,useSubscribe:H,setInitialValues:H,destroyForm:H,setCallbacks:H,registerWatch:H,getFields:H,setValidateMessages:H,setPreserve:H,getInitialValue:H}}});function W(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}function G(e){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},G(e)}function Z(e,t){return Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Z(e,t)}function Y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Gn){return!1}}function Q(e,t,n){return Q=Y()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Z(i,n.prototype),i},Q.apply(null,arguments)}function $(e){var t="function"===typeof Map?new Map:void 0;return $=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Q(e,arguments,G(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Z(n,e)},$(e)}var X=/%[sdj%]/g;function J(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function ee(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o=n.length;if("function"===typeof e)return e.apply(null,n);if("string"===typeof e){var a=e.replace(X,(function(e){if("%%"===e)return"%";if(i>=o)return e;switch(e){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(t){return"[Circular]"}break;default:return e}}));return a}return e}function te(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!==typeof e||e))}function ne(e,t,n){var r=0,i=e.length;!function o(a){if(a&&a.length)n(a);else{var s=r;r+=1,s<i?t(e[s],o):n([])}}([])}var re=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,"Async Validation Error")||this).errors=t,r.fields=n,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Z(t,n),r}($(Error));function ie(e,t,n,r,i){if(t.first){var o=new Promise((function(t,o){var a=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n]||[])})),t}(e);ne(a,n,(function(e){return r(e),e.length?o(new re(e,J(e))):t(i)}))}));return o.catch((function(e){return e})),o}var a=!0===t.firstFields?Object.keys(e):t.firstFields||[],s=Object.keys(e),u=s.length,c=0,l=[],f=new Promise((function(t,o){var f=function(e){if(l.push.apply(l,e),++c===u)return r(l),l.length?o(new re(l,J(l))):t(i)};s.length||(r(l),t(i)),s.forEach((function(t){var r=e[t];-1!==a.indexOf(t)?ne(r,n,f):function(e,t,n){var r=[],i=0,o=e.length;function a(e){r.push.apply(r,e||[]),++i===o&&n(r)}e.forEach((function(e){t(e,a)}))}(r,n,f)}))}));return f.catch((function(e){return e})),f}function oe(e,t){return function(n){var r,i;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length;r++){if(void 0==n)return n;n=n[t[r]]}return n}(t,e.fullFields):t[n.field||e.fullField],(i=n)&&void 0!==i.message?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"===typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function ae(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"===typeof r&&"object"===typeof e[n]?e[n]=K({},e[n],r):e[n]=r}return e}var se,ue=function(e,t,n,r,i,o){!e.required||n.hasOwnProperty(e.field)&&!te(t,o||e.type)||r.push(ee(i.messages.required,e.fullField))},ce=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,le=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,fe={integer:function(e){return fe.number(e)&&parseInt(e,10)===e},float:function(e){return fe.number(e)&&!fe.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(Gn){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===typeof e&&!fe.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(ce)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(function(){if(se)return se;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=("\n(?:\n(?:"+r+":){7}(?:"+r+"|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:"+r+":){6}(?:"+n+"|:"+r+"|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:"+r+":){5}(?::"+n+"|(?::"+r+"){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:"+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+"){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:"+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+"){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:"+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+"){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:"+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+"){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::"+r+"){0,5}:"+n+"|(?::"+r+"){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n").replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=new RegExp("(?:^"+n+"$)|(?:^"+i+"$)"),a=new RegExp("^"+n+"$"),s=new RegExp("^"+i+"$"),u=function(e){return e&&e.exact?o:new RegExp("(?:"+t(e)+n+t(e)+")|(?:"+t(e)+i+t(e)+")","g")};u.v4=function(e){return e&&e.exact?a:new RegExp(""+t(e)+n+t(e),"g")},u.v6=function(e){return e&&e.exact?s:new RegExp(""+t(e)+i+t(e),"g")};var c=u.v4().source,l=u.v6().source;return se=new RegExp("(?:^(?:(?:(?:[a-z]+:)?//)|www\\.)(?:\\S+(?::\\S*)?@)?(?:localhost|"+c+"|"+l+'|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#][^\\s"]*)?$)',"i")}())},hex:function(e){return"string"===typeof e&&!!e.match(le)}},he={required:ue,whitespace:function(e,t,n,r,i){(/^\s+$/.test(t)||""===t)&&r.push(ee(i.messages.whitespace,e.fullField))},type:function(e,t,n,r,i){if(e.required&&void 0===t)ue(e,t,n,r,i);else{var o=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(o)>-1?fe[o](t)||r.push(ee(i.messages.types[o],e.fullField,e.type)):o&&typeof t!==e.type&&r.push(ee(i.messages.types[o],e.fullField,e.type))}},range:function(e,t,n,r,i){var o="number"===typeof e.len,a="number"===typeof e.min,s="number"===typeof e.max,u=t,c=null,l="number"===typeof t,f="string"===typeof t,h=Array.isArray(t);if(l?c="number":f?c="string":h&&(c="array"),!c)return!1;h&&(u=t.length),f&&(u=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),o?u!==e.len&&r.push(ee(i.messages[c].len,e.fullField,e.len)):a&&!s&&u<e.min?r.push(ee(i.messages[c].min,e.fullField,e.min)):s&&!a&&u>e.max?r.push(ee(i.messages[c].max,e.fullField,e.max)):a&&s&&(u<e.min||u>e.max)&&r.push(ee(i.messages[c].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,i){e.enum=Array.isArray(e.enum)?e.enum:[],-1===e.enum.indexOf(t)&&r.push(ee(i.messages.enum,e.fullField,e.enum.join(", ")))},pattern:function(e,t,n,r,i){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(ee(i.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(ee(i.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},de=function(e,t,n,r,i){var o=e.type,a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(te(t,o)&&!e.required)return n();he.required(e,t,r,a,i,o),te(t,o)||he.type(e,t,r,a,i)}n(a)},pe={string:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(te(t,"string")&&!e.required)return n();he.required(e,t,r,o,i,"string"),te(t,"string")||(he.type(e,t,r,o,i),he.range(e,t,r,o,i),he.pattern(e,t,r,o,i),!0===e.whitespace&&he.whitespace(e,t,r,o,i))}n(o)},method:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(te(t)&&!e.required)return n();he.required(e,t,r,o,i),void 0!==t&&he.type(e,t,r,o,i)}n(o)},number:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),te(t)&&!e.required)return n();he.required(e,t,r,o,i),void 0!==t&&(he.type(e,t,r,o,i),he.range(e,t,r,o,i))}n(o)},boolean:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(te(t)&&!e.required)return n();he.required(e,t,r,o,i),void 0!==t&&he.type(e,t,r,o,i)}n(o)},regexp:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(te(t)&&!e.required)return n();he.required(e,t,r,o,i),te(t)||he.type(e,t,r,o,i)}n(o)},integer:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(te(t)&&!e.required)return n();he.required(e,t,r,o,i),void 0!==t&&(he.type(e,t,r,o,i),he.range(e,t,r,o,i))}n(o)},float:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(te(t)&&!e.required)return n();he.required(e,t,r,o,i),void 0!==t&&(he.type(e,t,r,o,i),he.range(e,t,r,o,i))}n(o)},array:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((void 0===t||null===t)&&!e.required)return n();he.required(e,t,r,o,i,"array"),void 0!==t&&null!==t&&(he.type(e,t,r,o,i),he.range(e,t,r,o,i))}n(o)},object:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(te(t)&&!e.required)return n();he.required(e,t,r,o,i),void 0!==t&&he.type(e,t,r,o,i)}n(o)},enum:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(te(t)&&!e.required)return n();he.required(e,t,r,o,i),void 0!==t&&he.enum(e,t,r,o,i)}n(o)},pattern:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(te(t,"string")&&!e.required)return n();he.required(e,t,r,o,i),te(t,"string")||he.pattern(e,t,r,o,i)}n(o)},date:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(te(t,"date")&&!e.required)return n();var a;if(he.required(e,t,r,o,i),!te(t,"date"))a=t instanceof Date?t:new Date(t),he.type(e,a,r,o,i),a&&he.range(e,a.getTime(),r,o,i)}n(o)},url:de,hex:de,email:de,required:function(e,t,n,r,i){var o=[],a=Array.isArray(t)?"array":typeof t;he.required(e,t,r,o,i,a),n(o)},any:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(te(t)&&!e.required)return n();he.required(e,t,r,o,i)}n(o)}};function ve(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var me=ve(),ge=function(){function e(e){this.rules=null,this._messages=me,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]}))},t.messages=function(e){return e&&(this._messages=ae(ve(),e)),this._messages},t.validate=function(t,n,r){var i=this;void 0===n&&(n={}),void 0===r&&(r=function(){});var o=t,a=n,s=r;if("function"===typeof a&&(s=a,a={}),!this.rules||0===Object.keys(this.rules).length)return s&&s(null,o),Promise.resolve(o);if(a.messages){var u=this.messages();u===me&&(u=ve()),ae(u,a.messages),a.messages=u}else a.messages=this.messages();var c={};(a.keys||Object.keys(this.rules)).forEach((function(e){var n=i.rules[e],r=o[e];n.forEach((function(n){var a=n;"function"===typeof a.transform&&(o===t&&(o=K({},o)),r=o[e]=a.transform(r)),(a="function"===typeof a?{validator:a}:K({},a)).validator=i.getValidationMethod(a),a.validator&&(a.field=e,a.fullField=a.fullField||e,a.type=i.getType(a),c[e]=c[e]||[],c[e].push({rule:a,value:r,source:o,field:e}))}))}));var l={};return ie(c,a,(function(t,n){var r,i=t.rule,s=("object"===i.type||"array"===i.type)&&("object"===typeof i.fields||"object"===typeof i.defaultField);function u(e,t){return K({},t,{fullField:i.fullField+"."+e,fullFields:i.fullFields?[].concat(i.fullFields,[e]):[e]})}function c(r){void 0===r&&(r=[]);var c=Array.isArray(r)?r:[r];!a.suppressWarning&&c.length&&e.warning("async-validator:",c),c.length&&void 0!==i.message&&(c=[].concat(i.message));var f=c.map(oe(i,o));if(a.first&&f.length)return l[i.field]=1,n(f);if(s){if(i.required&&!t.value)return void 0!==i.message?f=[].concat(i.message).map(oe(i,o)):a.error&&(f=[a.error(i,ee(a.messages.required,i.field))]),n(f);var h={};i.defaultField&&Object.keys(t.value).map((function(e){h[e]=i.defaultField})),h=K({},h,t.rule.fields);var d={};Object.keys(h).forEach((function(e){var t=h[e],n=Array.isArray(t)?t:[t];d[e]=n.map(u.bind(null,e))}));var p=new e(d);p.messages(a.messages),t.rule.options&&(t.rule.options.messages=a.messages,t.rule.options.error=a.error),p.validate(t.value,t.rule.options||a,(function(e){var t=[];f&&f.length&&t.push.apply(t,f),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)}))}else n(f)}if(s=s&&(i.required||!i.required&&t.value),i.field=t.field,i.asyncValidator)r=i.asyncValidator(i,t.value,c,t.source,a);else if(i.validator){try{r=i.validator(i,t.value,c,t.source,a)}catch(qW){null==console.error||console.error(qW),a.suppressValidatorError||setTimeout((function(){throw qW}),0),c(qW.message)}!0===r?c():!1===r?c("function"===typeof i.message?i.message(i.fullField||i.field):i.message||(i.fullField||i.field)+" fails"):r instanceof Array?c(r):r instanceof Error&&c(r.message)}r&&r.then&&r.then((function(){return c()}),(function(e){return c(e)}))}),(function(e){!function(e){var t=[],n={};function r(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,e):t.push(e)}for(var i=0;i<e.length;i++)r(e[i]);t.length?(n=J(t),s(t,n)):s(null,o)}(e)}),o)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!pe.hasOwnProperty(e.type))throw new Error(ee("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?pe.required:pe[this.getType(e)]||void 0},e}();ge.register=function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");pe[e]=t},ge.warning=function(){},ge.messages=me,ge.validators=pe;var ye="'${name}' is not a valid ${type}",be={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:ye,method:ye,array:ye,object:ye,number:ye,date:ye,boolean:ye,integer:ye,float:ye,regexp:ye,email:ye,url:ye,hex:ye},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}};function _e(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null===n||void 0===n)return;n=n[t[r]]}return n}function we(e){return o(e)||E(e)||s(e)||u()}function ke(e,t,n,r){if(!t.length)return n;var i,o=we(t),a=o[0],s=o.slice(1);return i=e||"number"!==typeof a?Array.isArray(e)?S(e):x({},e):[],r&&void 0===n&&1===s.length?delete i[a][s[0]]:i[a]=ke(i[a],s,n,r),i}function xe(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!_e(e,t.slice(0,-1))?e:ke(e,t,n,r)}function Ee(e){return Array.isArray(e)?function(e){return e.map((function(e){return Ee(e)}))}(e):"object"===v(e)&&null!==e?function(e){if(Object.getPrototypeOf(e)===Object.prototype){var t={};for(var n in e)t[n]=Ee(e[n]);return t}return e}(e):e}var Se=Ee;function Te(e){return W(e)}function Ce(e,t){return _e(e,t)}function Ie(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=xe(e,t,n,r);return i}function Pe(e,t){var n={};return t.forEach((function(t){var r=Ce(e,t);n=Ie(n,t,r)})),n}function Ae(e,t){return e&&e.some((function(e){return Me(e,t)}))}function Ne(e){return"object"===v(e)&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function Re(e,t){var n=Array.isArray(e)?S(e):x({},e);return t?(Object.keys(t).forEach((function(e){var r=n[e],i=t[e],o=Ne(r)&&Ne(i);n[e]=o?Re(r,i||{}):Se(i)})),n):n}function Oe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return Re(e,t)}),e)}function Me(e,t){return!(!e||!t||e.length!==t.length)&&e.every((function(e,n){return t[n]===e}))}function De(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===v(t.target)&&e in t.target?t.target[e]:t}function Le(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var i=e[t],o=t-n;return o>0?[].concat(S(e.slice(0,n)),[i],S(e.slice(n,t)),S(e.slice(t+1,r))):o<0?[].concat(S(e.slice(0,t)),S(e.slice(t+1,n+1)),[i],S(e.slice(n+1,r))):e}var Fe=ge;function je(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var n=e.slice(2,-1);return t[n]}))}var ze="CODE_LOGIC_ERROR";function Be(e,t,n,r,i){return Ve.apply(this,arguments)}function Ve(){return Ve=y(m().mark((function e(n,r,i,o,a){var s,u,c,l,f,h,d,p,v;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(s=x({},i)).ruleIndex,s.validator&&(u=s.validator,s.validator=function(){try{return u.apply(void 0,arguments)}catch(qW){return console.error(qW),Promise.reject(ze)}}),c=null,s&&"array"===s.type&&s.defaultField&&(c=s.defaultField,delete s.defaultField),l=new Fe(w({},n,[s])),f=Oe({},be,o.validateMessages),l.messages(f),h=[],e.prev=9,e.next=12,Promise.resolve(l.validate(w({},n,r),x({},o)));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),e.t0.errors&&(h=e.t0.errors.map((function(e,n){var r=e.message,i=r===ze?f.default:r;return t.isValidElement(i)?t.cloneElement(i,{key:"error_".concat(n)}):i})));case 17:if(h.length||!c){e.next=22;break}return e.next=20,Promise.all(r.map((function(e,t){return Be("".concat(n,".").concat(t),e,c,o,a)})));case 20:return d=e.sent,e.abrupt("return",d.reduce((function(e,t){return[].concat(S(e),S(t))}),[]));case 22:return p=x(x({},i),{},{name:n,enum:(i.enum||[]).join(", ")},a),v=h.map((function(e){return"string"===typeof e?je(e,p):e})),e.abrupt("return",v);case 25:case"end":return e.stop()}}),e,null,[[9,14]])}))),Ve.apply(this,arguments)}function Ue(e,t,n,r,i,o){var a,s=e.join("."),u=n.map((function(e,t){var n=e.validator,r=x(x({},e),{},{ruleIndex:t});return n&&(r.validator=function(e,t,r){var i=!1,o=n(e,t,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){V(!i,"Your validator function has already return a promise. `callback` will be ignored."),i||r.apply(void 0,t)}))}));i=o&&"function"===typeof o.then&&"function"===typeof o.catch,V(i,"`callback` is deprecated. Please return a promise instead."),i&&o.then((function(){r()})).catch((function(e){r(e||" ")}))}),r})).sort((function(e,t){var n=e.warningOnly,r=e.ruleIndex,i=t.warningOnly,o=t.ruleIndex;return!!n===!!i?r-o:n?1:-1}));if(!0===i)a=new Promise(function(){var e=y(m().mark((function e(n,i){var a,c,l;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=0;case 1:if(!(a<u.length)){e.next=12;break}return c=u[a],e.next=5,Be(s,t,c,r,o);case 5:if(!(l=e.sent).length){e.next=9;break}return i([{errors:l,rule:c}]),e.abrupt("return");case 9:a+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var c=u.map((function(e){return Be(s,t,e,r,o).then((function(t){return{errors:t,rule:e}}))}));a=(i?function(e){return qe.apply(this,arguments)}(c):function(e){return He.apply(this,arguments)}(c)).then((function(e){return Promise.reject(e)}))}return a.catch((function(e){return e})),a}function He(){return(He=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,S(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qe(){return(qe=y(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(r){r.then((function(r){r.errors.length&&e([r]),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var We=["name"],Ke=[];function Ge(e,t,n,r,i,o){return"function"===typeof e?e(t,n,"source"in o?{source:o.source}:{}):r!==i}var Ze=function(e){N(r,e);var n=D(r);function r(e){var i;(T(this,r),(i=n.call(this,e)).state={resetCount:0},i.cancelRegisterFunc=null,i.mounted=!1,i.touched=!1,i.dirty=!1,i.validatePromise=null,i.prevValidating=void 0,i.errors=Ke,i.warnings=Ke,i.cancelRegister=function(){var e=i.props,t=e.preserve,n=e.isListField,r=e.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(n,t,Te(r)),i.cancelRegisterFunc=null},i.getNamePath=function(){var e=i.props,t=e.name,n=e.fieldContext.prefixName;return void 0!==t?[].concat(S(void 0===n?[]:n),S(t)):[]},i.getRules=function(){var e=i.props,t=e.rules,n=void 0===t?[]:t,r=e.fieldContext;return n.map((function(e){return"function"===typeof e?e(r):e}))},i.refresh=function(){i.mounted&&i.setState((function(e){return{resetCount:e.resetCount+1}}))},i.triggerMetaEvent=function(e){var t=i.props.onMetaChange;null===t||void 0===t||t(x(x({},i.getMeta()),{},{destroy:e}))},i.onStoreChange=function(e,t,n){var r=i.props,o=r.shouldUpdate,a=r.dependencies,s=void 0===a?[]:a,u=r.onReset,c=n.store,l=i.getNamePath(),f=i.getValue(e),h=i.getValue(c),d=t&&Ae(t,l);switch("valueUpdate"===n.type&&"external"===n.source&&f!==h&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=Ke,i.warnings=Ke,i.triggerMetaEvent()),n.type){case"reset":if(!t||d)return i.touched=!1,i.dirty=!1,i.validatePromise=null,i.errors=Ke,i.warnings=Ke,i.triggerMetaEvent(),null===u||void 0===u||u(),void i.refresh();break;case"remove":if(o)return void i.reRender();break;case"setField":if(d){var p=n.data;return"touched"in p&&(i.touched=p.touched),"validating"in p&&!("originRCField"in p)&&(i.validatePromise=p.validating?Promise.resolve([]):null),"errors"in p&&(i.errors=p.errors||Ke),"warnings"in p&&(i.warnings=p.warnings||Ke),i.dirty=!0,i.triggerMetaEvent(),void i.reRender()}if(o&&!l.length&&Ge(o,e,c,f,h,n))return void i.reRender();break;case"dependenciesUpdate":if(s.map(Te).some((function(e){return Ae(n.relatedFields,e)})))return void i.reRender();break;default:if(d||(!s.length||l.length||o)&&Ge(o,e,c,f,h,n))return void i.reRender()}!0===o&&i.reRender()},i.validateRules=function(e){var t=i.getNamePath(),n=i.getValue(),r=Promise.resolve().then((function(){if(!i.mounted)return[];var o=i.props,a=o.validateFirst,s=void 0!==a&&a,u=o.messageVariables,c=(e||{}).triggerName,l=i.getRules();c&&(l=l.filter((function(e){return e})).filter((function(e){var t=e.validateTrigger;return!t||W(t).includes(c)})));var f=Ue(t,n,l,e,s,u);return f.catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke;if(i.validatePromise===r){var t;i.validatePromise=null;var n=[],o=[];null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.rule.warningOnly,r=e.errors,i=void 0===r?Ke:r;t?o.push.apply(o,S(i)):n.push.apply(n,S(i))})),i.errors=n,i.warnings=o,i.triggerMetaEvent(),i.reRender()}})),f}));return i.validatePromise=r,i.dirty=!0,i.errors=Ke,i.warnings=Ke,i.triggerMetaEvent(),i.reRender(),r},i.isFieldValidating=function(){return!!i.validatePromise},i.isFieldTouched=function(){return i.touched},i.isFieldDirty=function(){return!(!i.dirty&&void 0===i.props.initialValue)||void 0!==(0,i.props.fieldContext.getInternalHooks(U).getInitialValue)(i.getNamePath())},i.getErrors=function(){return i.errors},i.getWarnings=function(){return i.warnings},i.isListField=function(){return i.props.isListField},i.isList=function(){return i.props.isList},i.isPreserve=function(){return i.props.preserve},i.getMeta=function(){return i.prevValidating=i.isFieldValidating(),{touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath()}},i.getOnlyChild=function(e){if("function"===typeof e){var n=i.getMeta();return x(x({},i.getOnlyChild(e(i.getControlled(),n,i.props.fieldContext))),{},{isFunction:!0})}var r=F(e);return 1===r.length&&t.isValidElement(r[0])?{child:r[0],isFunction:!1}:{child:r,isFunction:!1}},i.getValue=function(e){var t=i.props.fieldContext.getFieldsValue,n=i.getNamePath();return Ce(e||t(!0),n)},i.getControlled=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i.props,n=t.trigger,r=t.validateTrigger,o=t.getValueFromEvent,a=t.normalize,s=t.valuePropName,u=t.getValueProps,c=t.fieldContext,l=void 0!==r?r:c.validateTrigger,f=i.getNamePath(),h=c.getInternalHooks,d=c.getFieldsValue,p=h(U),v=p.dispatch,m=i.getValue(),g=u||function(e){return w({},s,e)},y=e[n],b=x(x({},e),g(m));b[n]=function(){var e;i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e=o?o.apply(void 0,n):De.apply(void 0,[s].concat(n)),a&&(e=a(e,m,d(!0))),v({type:"updateValue",namePath:f,value:e}),y&&y.apply(void 0,n)};var _=W(l||[]);return _.forEach((function(e){var t=b[e];b[e]=function(){t&&t.apply(void 0,arguments);var n=i.props.rules;n&&n.length&&v({type:"validateField",namePath:f,triggerName:e})}})),b},e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(U).initEntityValue)(P(i));return i}return I(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(U).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,n=this.state.resetCount,r=this.props.children,i=this.getOnlyChild(r),o=i.child;return i.isFunction?e=o:t.isValidElement(o)?e=t.cloneElement(o,this.getControlled(o.props)):(V(!o,"`children` of Field is not validate ReactElement."),e=o),t.createElement(t.Fragment,{key:n},e)}}]),r}(t.Component);Ze.contextType=q,Ze.defaultProps={trigger:"onChange",valuePropName:"value"};var Ye=function(e){var n=e.name,r=_(e,We),i=t.useContext(q),o=void 0!==n?Te(n):void 0,a="keep";return r.isListField||(a="_".concat((o||[]).join("_"))),t.createElement(Ze,b({key:a,name:o},r,{fieldContext:i}))},Qe=t.createContext(null),$e=function(e){var n=e.name,r=e.initialValue,i=e.children,o=e.rules,a=e.validateTrigger,s=t.useContext(q),u=t.useRef({keys:[],id:0}).current,c=t.useMemo((function(){var e=Te(s.prefixName)||[];return[].concat(S(e),S(Te(n)))}),[s.prefixName,n]),l=t.useMemo((function(){return x(x({},s),{},{prefixName:c})}),[s,c]),f=t.useMemo((function(){return{getKey:function(e){var t=c.length,n=e[t];return[u.keys[n],e.slice(t+1)]}}}),[c]);if("function"!==typeof i)return V(!1,"Form.List only accepts function as children."),null;return t.createElement(Qe.Provider,{value:f},t.createElement(q.Provider,{value:l},t.createElement(Ye,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:o,validateTrigger:a,initialValue:r,isList:!0},(function(e,t){var n=e.value,r=void 0===n?[]:n,o=e.onChange,a=s.getFieldValue,l=function(){return a(c||[])||[]},f={add:function(e,t){var n=l();t>=0&&t<=n.length?(u.keys=[].concat(S(u.keys.slice(0,t)),[u.id],S(u.keys.slice(t))),o([].concat(S(n.slice(0,t)),[e],S(n.slice(t))))):(u.keys=[].concat(S(u.keys),[u.id]),o([].concat(S(n),[e]))),u.id+=1},remove:function(e){var t=l(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(u.keys=u.keys.filter((function(e,t){return!n.has(t)})),o(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=l();e<0||e>=n.length||t<0||t>=n.length||(u.keys=Le(u.keys,e,t),o(Le(n,e,t)))}}},h=r||[];return Array.isArray(h)||(h=[]),i(h.map((function(e,t){var n=u.keys[t];return void 0===n&&(u.keys[t]=u.id,n=u.keys[t],u.id+=1),{name:t,key:n,isListField:!0}})),f,t)}))))};var Xe="__@field_split__";function Je(e){return e.map((function(e){return"".concat(v(e),":").concat(e)})).join(Xe)}var et=function(){function e(){T(this,e),this.kvs=new Map}return I(e,[{key:"set",value:function(e,t){this.kvs.set(Je(e),t)}},{key:"get",value:function(e){return this.kvs.get(Je(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(Je(e))}},{key:"map",value:function(e){return S(this.kvs.entries()).map((function(t){var n=c(t,2),r=n[0],i=n[1],o=r.split(Xe);return e({key:o.map((function(e){var t=c(e.match(/^([^:]*):(.*)$/),3),n=t[1],r=t[2];return"number"===n?Number(r):r})),value:i})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null})),e}}]),e}(),tt=et,nt=["name","errors"],rt=I((function e(t){var n=this;T(this,e),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}},this.getInternalHooks=function(e){return e===U?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(V(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(e){n.subscribable=e},this.prevWithoutPreserves=null,this.setInitialValues=function(e,t){if(n.initialValues=e||{},t){var r,i=Oe({},e,n.store);null===(r=n.prevWithoutPreserves)||void 0===r||r.map((function(t){var n=t.key;i=Ie(i,n,Ce(e,n))})),n.prevWithoutPreserves=null,n.updateStore(i)}},this.destroyForm=function(){var e=new tt;n.getFieldEntities(!0).forEach((function(t){n.isMergedPreserve(t.isPreserve())||e.set(t.getNamePath(),!0)})),n.prevWithoutPreserves=e},this.getInitialValue=function(e){var t=Ce(n.initialValues,e);return e.length?Se(t):t},this.setCallbacks=function(e){n.callbacks=e},this.setValidateMessages=function(e){n.validateMessages=e},this.setPreserve=function(e){n.preserve=e},this.watchList=[],this.registerWatch=function(e){return n.watchList.push(e),function(){n.watchList=n.watchList.filter((function(t){return t!==e}))}},this.notifyWatch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.watchList.length){var t=n.getFieldsValue();n.watchList.forEach((function(n){n(t,e)}))}},this.timeoutId=null,this.warningUnhooked=function(){0},this.updateStore=function(e){n.store=e},this.getFieldEntities=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities},this.getFieldsMap=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new tt;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t},this.getFieldEntitiesForNamePathList=function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=Te(e);return t.get(n)||{INVALIDATE_NAME_PATH:Te(e)}}))},this.getFieldsValue=function(e,t){if(n.warningUnhooked(),!0===e&&!t)return n.store;var r=n.getFieldEntitiesForNamePathList(Array.isArray(e)?e:null),i=[];return r.forEach((function(n){var r,o="INVALIDATE_NAME_PATH"in n?n.INVALIDATE_NAME_PATH:n.getNamePath();if(e||!(null===(r=n.isListField)||void 0===r?void 0:r.call(n)))if(t){var a="getMeta"in n?n.getMeta():null;t(a)&&i.push(o)}else i.push(o)})),Pe(n.store,i.map(Te))},this.getFieldValue=function(e){n.warningUnhooked();var t=Te(e);return Ce(n.store,t)},this.getFieldsError=function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:Te(e[n]),errors:[],warnings:[]}}))},this.getFieldError=function(e){n.warningUnhooked();var t=Te(e);return n.getFieldsError([t])[0].errors},this.getFieldWarning=function(e){n.warningUnhooked();var t=Te(e);return n.getFieldsError([t])[0].warnings},this.isFieldsTouched=function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i,o=t[0],a=t[1],s=!1;0===t.length?i=null:1===t.length?Array.isArray(o)?(i=o.map(Te),s=!1):(i=null,s=o):(i=o.map(Te),s=a);var u=n.getFieldEntities(!0),c=function(e){return e.isFieldTouched()};if(!i)return s?u.every(c):u.some(c);var l=new tt;i.forEach((function(e){l.set(e,[])})),u.forEach((function(e){var t=e.getNamePath();i.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&l.update(n,(function(t){return[].concat(S(t),[e])}))}))}));var f=function(e){return e.some(c)},h=l.map((function(e){return e.value}));return s?h.every(f):h.some(f)},this.isFieldTouched=function(e){return n.warningUnhooked(),n.isFieldsTouched([e])},this.isFieldsValidating=function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var r=e.map(Te);return t.some((function(e){var t=e.getNamePath();return Ae(r,t)&&e.isFieldValidating()}))},this.isFieldValidating=function(e){return n.warningUnhooked(),n.isFieldsValidating([e])},this.resetWithFieldInitialValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new tt,r=n.getFieldEntities(!0);r.forEach((function(e){var n=e.props.initialValue,r=e.getNamePath();if(void 0!==n){var i=t.get(r)||new Set;i.add({entity:e,value:n}),t.set(r,i)}}));var i,o=function(r){r.forEach((function(r){if(void 0!==r.props.initialValue){var i=r.getNamePath();if(void 0!==n.getInitialValue(i))V(!1,"Form already set 'initialValues' with path '".concat(i.join("."),"'. Field can not overwrite it."));else{var o=t.get(i);if(o&&o.size>1)V(!1,"Multiple Field with path '".concat(i.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(o){var a=n.getFieldValue(i);e.skipExist&&void 0!==a||n.updateStore(Ie(n.store,i,S(o)[0].value))}}}}))};e.entities?i=e.entities:e.namePathList?(i=[],e.namePathList.forEach((function(e){var n,r=t.get(e);r&&(n=i).push.apply(n,S(S(r).map((function(e){return e.entity}))))}))):i=r,o(i)},this.resetFields=function(e){n.warningUnhooked();var t=n.store;if(!e)return n.updateStore(Oe({},n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(t,null,{type:"reset"}),void n.notifyWatch();var r=e.map(Te);r.forEach((function(e){var t=n.getInitialValue(e);n.updateStore(Ie(n.store,e,t))})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"}),n.notifyWatch(r)},this.setFields=function(e){n.warningUnhooked();var t=n.store,r=[];e.forEach((function(e){var i=e.name,o=(e.errors,_(e,nt)),a=Te(i);r.push(a),"value"in o&&n.updateStore(Ie(n.store,a,o.value)),n.notifyObservers(t,[a],{type:"setField",data:e})})),n.notifyWatch(r)},this.getFields=function(){return n.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),r=x(x({},e.getMeta()),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(r,"originRCField",{value:!0}),r}))},this.initEntityValue=function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===Ce(n.store,r)&&n.updateStore(Ie(n.store,r,t))}},this.isMergedPreserve=function(e){var t=void 0!==e?e:n.preserve;return null===t||void 0===t||t},this.registerField=function(e){n.fieldEntities.push(e);var t=e.getNamePath();if(n.notifyWatch([t]),void 0!==e.props.initialValue){var r=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(r,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(r,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e})),!n.isMergedPreserve(i)&&(!r||o.length>1)){var a=r?void 0:n.getInitialValue(t);if(t.length&&n.getFieldValue(t)!==a&&n.fieldEntities.every((function(e){return!Me(e.getNamePath(),t)}))){var s=n.store;n.updateStore(Ie(s,t,a,!0)),n.notifyObservers(s,[t],{type:"remove"}),n.triggerDependenciesUpdate(s,t)}}n.notifyWatch([t])}},this.dispatch=function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var i=e.namePath,o=e.triggerName;n.validateFields([i],{triggerName:o})}},this.notifyObservers=function(e,t,r){if(n.subscribable){var i=x(x({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,i)}))}else n.forceRootUpdate()},this.triggerDependenciesUpdate=function(e,t){var r=n.getDependencyChildrenFields(t);return r.length&&n.validateFields(r),n.notifyObservers(e,r,{type:"dependenciesUpdate",relatedFields:[t].concat(S(r))}),r},this.updateValue=function(e,t){var r=Te(e),i=n.store;n.updateStore(Ie(n.store,r,t)),n.notifyObservers(i,[r],{type:"valueUpdate",source:"internal"}),n.notifyWatch([r]);var o=n.triggerDependenciesUpdate(i,r),a=n.callbacks.onValuesChange;a&&a(Pe(n.store,[r]),n.getFieldsValue());n.triggerOnFieldsChange([r].concat(S(o)))},this.setFieldsValue=function(e){n.warningUnhooked();var t=n.store;if(e){var r=Oe(n.store,e);n.updateStore(r)}n.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()},this.setFieldValue=function(e,t){n.setFields([{name:e,value:t}])},this.getDependencyChildrenFields=function(e){var t=new Set,r=[],i=new tt;n.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=Te(t);i.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(n){(i.get(n)||new Set).forEach((function(n){if(!t.has(n)){t.add(n);var i=n.getNamePath();n.isFieldDirty()&&i.length&&(r.push(i),e(i))}}))}(e),r},this.triggerOnFieldsChange=function(e,t){var r=n.callbacks.onFieldsChange;if(r){var i=n.getFields();if(t){var o=new tt;t.forEach((function(e){var t=e.name,n=e.errors;o.set(t,n)})),i.forEach((function(e){e.errors=o.get(e.name)||e.errors}))}r(i.filter((function(t){var n=t.name;return Ae(e,n)})),i)}},this.validateFields=function(e,t){n.warningUnhooked();var r=!!e,i=r?e.map(Te):[],o=[];n.getFieldEntities(!0).forEach((function(a){if(r||i.push(a.getNamePath()),(null===t||void 0===t?void 0:t.recursive)&&r){var s=a.getNamePath();s.every((function(t,n){return e[n]===t||void 0===e[n]}))&&i.push(s)}if(a.props.rules&&a.props.rules.length){var u=a.getNamePath();if(!r||Ae(i,u)){var c=a.validateRules(x({validateMessages:x(x({},be),n.validateMessages)},t));o.push(c.then((function(){return{name:u,errors:[],warnings:[]}})).catch((function(e){var t,n=[],r=[];return null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.rule.warningOnly,i=e.errors;t?r.push.apply(r,S(i)):n.push.apply(n,S(i))})),n.length?Promise.reject({name:u,errors:n,warnings:r}):{name:u,errors:n,warnings:r}})))}}}));var a=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise((function(i,o){e.forEach((function(e,a){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,r[a]=e,n>0||(t&&o(r),i(r))}))}))})):Promise.resolve([])}(o);n.lastValidatePromise=a,a.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var s=a.then((function(){return n.lastValidatePromise===a?Promise.resolve(n.getFieldsValue(i)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(i),errorFields:t,outOfDate:n.lastValidatePromise!==a})}));return s.catch((function(e){return e})),s},this.submit=function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(r){console.error(r)}})).catch((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))},this.forceRootUpdate=t}));var it=function(e){var n=t.useRef(),r=c(t.useState({}),2)[1];if(!n.current)if(e)n.current=e;else{var i=new rt((function(){r({})}));n.current=i.getForm()}return[n.current]},ot=t.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),at=function(e){var n=e.validateMessages,r=e.onFormChange,i=e.onFormFinish,o=e.children,a=t.useContext(ot),s=t.useRef({});return t.createElement(ot.Provider,{value:x(x({},a),{},{validateMessages:x(x({},a.validateMessages),n),triggerFormChange:function(e,t){r&&r(e,{changedFields:t,forms:s.current}),a.triggerFormChange(e,t)},triggerFormFinish:function(e,t){i&&i(e,{values:t,forms:s.current}),a.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(s.current=x(x({},s.current),{},w({},e,t))),a.registerForm(e,t)},unregisterForm:function(e){var t=x({},s.current);delete t[e],s.current=t,a.unregisterForm(e)}})},o)},st=ot,ut=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],ct=function(e,n){var r=e.name,i=e.initialValues,o=e.fields,a=e.form,s=e.preserve,u=e.children,l=e.component,f=void 0===l?"form":l,h=e.validateMessages,d=e.validateTrigger,p=void 0===d?"onChange":d,m=e.onValuesChange,g=e.onFieldsChange,y=e.onFinish,w=e.onFinishFailed,k=_(e,ut),E=t.useContext(st),T=c(it(a),1)[0],C=T.getInternalHooks(U),I=C.useSubscribe,P=C.setInitialValues,A=C.setCallbacks,N=C.setValidateMessages,R=C.setPreserve,O=C.destroyForm;t.useImperativeHandle(n,(function(){return T})),t.useEffect((function(){return E.registerForm(r,T),function(){E.unregisterForm(r)}}),[E,T,r]),N(x(x({},E.validateMessages),h)),A({onValuesChange:m,onFieldsChange:function(e){if(E.triggerFormChange(r,e),g){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];g.apply(void 0,[e].concat(n))}},onFinish:function(e){E.triggerFormFinish(r,e),y&&y(e)},onFinishFailed:w}),R(s);var M,D=t.useRef(null);P(i,!D.current),D.current||(D.current=!0),t.useEffect((function(){return O}),[]);var L="function"===typeof u;L?M=u(T.getFieldsValue(!0),T):M=u;I(!L);var F=t.useRef();t.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==v(e)||"object"!==v(t))return!1;var n=Object.keys(e),r=Object.keys(t);return S(new Set([].concat(n,r))).every((function(n){var r=e[n],i=t[n];return"function"===typeof r&&"function"===typeof i||r===i}))})(F.current||[],o||[])||T.setFields(o||[]),F.current=o}),[o,T]);var j=t.useMemo((function(){return x(x({},T),{},{validateTrigger:p})}),[T,p]),z=t.createElement(q.Provider,{value:j},M);return!1===f?z:t.createElement(f,b({},k,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),T.submit()},onReset:function(e){var t;e.preventDefault(),T.resetFields(),null===(t=k.onReset)||void 0===t||t.call(k,e)}}),z)};function lt(e){try{return JSON.stringify(e)}catch(t){return Math.random()}}var ft=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=void 0===i?[]:i,a=n[1],s=(0,t.useState)(),u=c(s,2),l=u[0],f=u[1],h=(0,t.useMemo)((function(){return lt(l)}),[l]),d=(0,t.useRef)(h);d.current=h;var p=(0,t.useContext)(q),v=a||p,m=v&&v._init,g=Te(o),y=(0,t.useRef)(g);return y.current=g,(0,t.useEffect)((function(){if(m){var e=v.getFieldsValue,t=(0,(0,v.getInternalHooks)(U).registerWatch)((function(e){var t=Ce(e,y.current),n=lt(t);d.current!==n&&(d.current=n,f(t))})),n=Ce(e(),y.current);return f(n),t}}),[m]),l},ht=t.forwardRef(ct);ht.FormProvider=at,ht.Field=Ye,ht.List=$e,ht.useForm=it,ht.useWatch=ft;var dt=ht;function pt(e,t){var n=x({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}var vt=t.createContext({labelAlign:"right",vertical:!1,itemRef:function(){}}),mt=t.createContext(null),gt=t.createContext({prefixCls:""}),yt=t.createContext({}),bt=function(e){var n=e.children,r=e.status,i=e.override,o=(0,t.useContext)(yt),a=(0,t.useMemo)((function(){var e=b({},o);return i&&delete e.isFormItemInput,r&&(delete e.status,delete e.hasFeedback,delete e.feedbackIcon),e}),[r,i,o]);return t.createElement(yt.Provider,{value:a},n)},_t=n(1694),wt=n.n(_t),kt=n(4164);function xt(e){return e instanceof HTMLElement?e:kt.findDOMNode(e)}function Et(e,n,r){var i=t.useRef({});return"value"in i.current&&!r(i.current.condition,n)||(i.current.value=e(),i.current.condition=n),i.current.value}function St(e,t){"function"===typeof e?e(t):"object"===v(e)&&e&&"current"in e&&(e.current=t)}function Tt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e}));return r.length<=1?r[0]:function(e){t.forEach((function(t){St(t,e)}))}}function Ct(e){var t,n,r=(0,L.isMemo)(e)?e.type.type:e.type;return!("function"===typeof r&&!(null===(t=r.prototype)||void 0===t?void 0:t.render))&&!("function"===typeof e&&!(null===(n=e.prototype)||void 0===n?void 0:n.render))}function It(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}function Pt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var At=function(e,t){var n={animationend:Pt("Animation","AnimationEnd"),transitionend:Pt("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(It(),"undefined"!==typeof window?window:{}),Nt={};if(It()){var Rt=document.createElement("div");Nt=Rt.style}var Ot={};function Mt(e){if(Ot[e])return Ot[e];var t=At[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var o=n[i];if(Object.prototype.hasOwnProperty.call(t,o)&&o in Nt)return Ot[e]=t[o],Ot[e]}return""}var Dt=Mt("animationend"),Lt=Mt("transitionend"),Ft=!(!Dt||!Lt),jt=Dt||"animationend",zt=Lt||"transitionend";function Bt(e,t){if(!e)return null;if("object"===v(e)){var n=t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}));return e[n]}return"".concat(e,"-").concat(t)}var Vt="none",Ut="appear",Ht="enter",qt="leave",Wt="none",Kt="prepare",Gt="start",Zt="active",Yt="end";function Qt(e){var n=t.useRef(!1),r=c(t.useState(e),2),i=r[0],o=r[1];return t.useEffect((function(){return n.current=!1,function(){n.current=!0}}),[]),[i,function(e,t){t&&n.current||o(e)}]}var $t=function(e){return+setTimeout(e,16)},Xt=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&($t=function(e){return window.requestAnimationFrame(e)},Xt=function(e){return window.cancelAnimationFrame(e)});var Jt=0,en=new Map;function tn(e){en.delete(e)}var nn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Jt+=1;function r(t){if(0===t)tn(n),e();else{var i=$t((function(){r(t-1)}));en.set(n,i)}}return r(t),n};nn.cancel=function(e){var t=en.get(e);return tn(t),Xt(t)};var rn=nn,on=It()?t.useLayoutEffect:t.useEffect,an=[Kt,Gt,Zt,Yt];function sn(e){return e===Zt||e===Yt}var un=function(e,n){var r=c(Qt(Wt),2),i=r[0],o=r[1],a=function(){var e=t.useRef(null);function n(){rn.cancel(e.current)}return t.useEffect((function(){return function(){n()}}),[]),[function t(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;n();var o=rn((function(){i<=1?r({isCanceled:function(){return o!==e.current}}):t(r,i-1)}));e.current=o},n]}(),s=c(a,2),u=s[0],l=s[1];return on((function(){if(i!==Wt&&i!==Yt){var e=an.indexOf(i),t=an[e+1],r=n(i);false===r?o(t,!0):u((function(e){function n(){e.isCanceled()||o(t,!0)}!0===r?n():Promise.resolve(r).then(n)}))}}),[e,i]),t.useEffect((function(){return function(){l()}}),[]),[function(){o(Kt,!0)},i]};function cn(e,n,r,i){var o=i.motionEnter,a=void 0===o||o,s=i.motionAppear,u=void 0===s||s,l=i.motionLeave,f=void 0===l||l,h=i.motionDeadline,d=i.motionLeaveImmediately,p=i.onAppearPrepare,v=i.onEnterPrepare,m=i.onLeavePrepare,g=i.onAppearStart,y=i.onEnterStart,b=i.onLeaveStart,_=i.onAppearActive,k=i.onEnterActive,E=i.onLeaveActive,S=i.onAppearEnd,T=i.onEnterEnd,C=i.onLeaveEnd,I=i.onVisibleChanged,P=c(Qt(),2),A=P[0],N=P[1],R=c(Qt(Vt),2),O=R[0],M=R[1],D=c(Qt(null),2),L=D[0],F=D[1],j=(0,t.useRef)(!1),z=(0,t.useRef)(null);function B(){return r()}var V=(0,t.useRef)(!1);function U(e){var t=B();if(!e||e.deadline||e.target===t){var n,r=V.current;O===Ut&&r?n=null===S||void 0===S?void 0:S(t,e):O===Ht&&r?n=null===T||void 0===T?void 0:T(t,e):O===qt&&r&&(n=null===C||void 0===C?void 0:C(t,e)),O!==Vt&&r&&!1!==n&&(M(Vt,!0),F(null,!0))}}var H=function(e){var n=(0,t.useRef)(),r=(0,t.useRef)(e);r.current=e;var i=t.useCallback((function(e){r.current(e)}),[]);function o(e){e&&(e.removeEventListener(zt,i),e.removeEventListener(jt,i))}return t.useEffect((function(){return function(){o(n.current)}}),[]),[function(e){n.current&&n.current!==e&&o(n.current),e&&e!==n.current&&(e.addEventListener(zt,i),e.addEventListener(jt,i),n.current=e)},o]}(U),q=c(H,1)[0],W=t.useMemo((function(){var e,t,n;switch(O){case Ut:return w(e={},Kt,p),w(e,Gt,g),w(e,Zt,_),e;case Ht:return w(t={},Kt,v),w(t,Gt,y),w(t,Zt,k),t;case qt:return w(n={},Kt,m),w(n,Gt,b),w(n,Zt,E),n;default:return{}}}),[O]),K=c(un(O,(function(e){if(e===Kt){var t=W.prepare;return!!t&&t(B())}var n;Z in W&&F((null===(n=W[Z])||void 0===n?void 0:n.call(W,B(),null))||null);return Z===Zt&&(q(B()),h>0&&(clearTimeout(z.current),z.current=setTimeout((function(){U({deadline:!0})}),h))),true})),2),G=K[0],Z=K[1],Y=sn(Z);V.current=Y,on((function(){N(n);var t,r=j.current;(j.current=!0,e)&&(!r&&n&&u&&(t=Ut),r&&n&&a&&(t=Ht),(r&&!n&&f||!r&&d&&!n&&f)&&(t=qt),t&&(M(t),G()))}),[n]),(0,t.useEffect)((function(){(O===Ut&&!u||O===Ht&&!a||O===qt&&!f)&&M(Vt)}),[u,a,f]),(0,t.useEffect)((function(){return function(){j.current=!1,clearTimeout(z.current)}}),[]);var Q=t.useRef(!1);(0,t.useEffect)((function(){A&&(Q.current=!0),void 0!==A&&O===Vt&&((Q.current||A)&&(null===I||void 0===I||I(A)),Q.current=!0)}),[A,O]);var $=L;return W.prepare&&Z===Gt&&($=x({transition:"none"},$)),[O,Z,$,null!==A&&void 0!==A?A:n]}var ln=function(e){N(n,e);var t=D(n);function n(){return T(this,n),t.apply(this,arguments)}return I(n,[{key:"render",value:function(){return this.props.children}}]),n}(t.Component),fn=ln;var hn=function(e){var n=e;function r(e){return!(!e.motionName||!n)}"object"===v(e)&&(n=e.transitionSupport);var i=t.forwardRef((function(e,n){var i=e.visible,o=void 0===i||i,a=e.removeOnLeave,s=void 0===a||a,u=e.forceRender,l=e.children,f=e.motionName,h=e.leavedClassName,d=e.eventProps,p=r(e),v=(0,t.useRef)(),m=(0,t.useRef)();var g=c(cn(p,o,(function(){try{return v.current instanceof HTMLElement?v.current:xt(m.current)}catch(Gn){return null}}),e),4),y=g[0],b=g[1],_=g[2],k=g[3],E=t.useRef(k);k&&(E.current=!0);var S,T=t.useCallback((function(e){v.current=e,St(n,e)}),[n]),C=x(x({},d),{},{visible:o});if(l)if(y!==Vt&&r(e)){var I,P;b===Kt?P="prepare":sn(b)?P="active":b===Gt&&(P="start"),S=l(x(x({},C),{},{className:wt()(Bt(f,y),(I={},w(I,Bt(f,"".concat(y,"-").concat(P)),P),w(I,f,"string"===typeof f),I)),style:_}),T)}else S=k?l(x({},C),T):!s&&E.current?l(x(x({},C),{},{className:h}),T):u?l(x(x({},C),{},{style:{display:"none"}}),T):null;else S=null;t.isValidElement(S)&&Ct(S)&&(S.ref||(S=t.cloneElement(S,{ref:T})));return t.createElement(fn,{ref:m},S)}));return i.displayName="CSSMotion",i}(Ft),dn="add",pn="keep",vn="remove",mn="removed";function gn(e){var t;return x(x({},t=e&&"object"===v(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function yn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(gn)}function bn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,i=t.length,o=yn(e),a=yn(t);o.forEach((function(e){for(var t=!1,o=r;o<i;o+=1){var s=a[o];if(s.key===e.key){r<o&&(n=n.concat(a.slice(r,o).map((function(e){return x(x({},e),{},{status:dn})}))),r=o),n.push(x(x({},s),{},{status:pn})),r+=1,t=!0;break}}t||n.push(x(x({},e),{},{status:vn}))})),r<i&&(n=n.concat(a.slice(r).map((function(e){return x(x({},e),{},{status:dn})}))));var s={};n.forEach((function(e){var t=e.key;s[t]=(s[t]||0)+1}));var u=Object.keys(s).filter((function(e){return s[e]>1}));return u.forEach((function(e){(n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==vn}))).forEach((function(t){t.key===e&&(t.status=pn)}))})),n}var _n=["component","children","onVisibleChanged","onAllRemoved"],wn=["status"],kn=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];var xn=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hn,r=function(e){N(i,e);var r=D(i);function i(){var e;T(this,i);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=r.call.apply(r,[this].concat(n))).state={keyEntities:[]},e.removeKey=function(t){var n=e.state.keyEntities.map((function(e){return e.key!==t?e:x(x({},e),{},{status:mn})}));return e.setState({keyEntities:n}),n.filter((function(e){return e.status!==mn})).length},e}return I(i,[{key:"render",value:function(){var e=this,r=this.state.keyEntities,i=this.props,o=i.component,a=i.children,s=i.onVisibleChanged,u=i.onAllRemoved,c=_(i,_n),l=o||t.Fragment,f={};return kn.forEach((function(e){f[e]=c[e],delete c[e]})),delete c.keys,t.createElement(l,c,r.map((function(r){var i=r.status,o=_(r,wn),c=i===dn||i===pn;return t.createElement(n,b({},f,{key:o.key,visible:c,eventProps:o,onVisibleChanged:function(t){(null===s||void 0===s||s(t,{key:o.key}),t)||0===e.removeKey(o.key)&&u&&u()}}),a)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,i=yn(n);return{keyEntities:bn(r,i).filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==mn||e.status!==vn}))}}}]),i}(t.Component);return r.defaultProps={component:"div"},r}(Ft),En=hn,Sn="anticon",Tn=t.createContext({getPrefixCls:function(e,t){return t||(e?"ant-"+e:"ant")},iconPrefixCls:Sn}),Cn=Tn.Consumer;var In=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t},Pn=function(){return{height:0,opacity:0}},An=function(e){return{height:e.scrollHeight,opacity:1}},Nn=function(e){return{height:e?e.offsetHeight:0}},Rn=function(e,t){return!0===(null===t||void 0===t?void 0:t.deadline)||"height"===t.propertyName},On=(In("bottomLeft","bottomRight","topLeft","topRight"),function(e){return void 0===e||"topLeft"!==e&&"topRight"!==e?"slide-up":"slide-down"}),Mn=function(e,t,n){return void 0!==n?n:e+"-"+t},Dn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ant";return{motionName:e+"-motion-collapse",onAppearStart:Pn,onEnterStart:Pn,onAppearActive:An,onEnterActive:An,onLeaveStart:Nn,onLeaveActive:Pn,onAppearEnd:Rn,onEnterEnd:Rn,onLeaveEnd:Rn,motionDeadline:500}};function Ln(e){var n=c(t.useState(e),2),r=n[0],i=n[1];return t.useEffect((function(){var t=setTimeout((function(){i(e)}),e.length?0:10);return function(){clearTimeout(t)}}),[e]),r}var Fn=[];function jn(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{key:"string"===typeof e?e:n+"-"+r,error:e,errorStatus:t}}function zn(e){var n=e.help,r=e.helpStatus,i=e.errors,o=void 0===i?Fn:i,a=e.warnings,s=void 0===a?Fn:a,u=e.className,c=e.fieldId,l=e.onVisibleChanged,f=t.useContext(gt).prefixCls,h=t.useContext(Tn).getPrefixCls,d=f+"-item-explain",p=h(),v=(0,t.useMemo)((function(){return Dn(p)}),[p]),m=Ln(o),g=Ln(s),y=t.useMemo((function(){return void 0!==n&&null!==n?[jn(n,r,"help")]:[].concat(S(m.map((function(e,t){return jn(e,"error","error",t)}))),S(g.map((function(e,t){return jn(e,"warning","warning",t)}))))}),[n,r,m,g]),_={};return c&&(_.id=c+"_help"),t.createElement(En,b({},v,{motionDeadline:v.motionDeadline,motionName:p+"-show-help",visible:!!y.length,onVisibleChanged:l}),(function(e){var n=e.className,r=e.style;return t.createElement("div",b({},_,{className:wt()(d,n,u),style:r,role:"alert"}),t.createElement(xn,b({keys:y},Dn(p),{motionName:p+"-show-help-item",component:!1}),(function(e){var n=e.key,r=e.error,i=e.errorStatus,o=e.className,a=e.style;return t.createElement("div",{key:n,className:wt()(o,w({},d+"-"+i,i)),style:a},r)})))}))}var Bn=t.createContext(!1),Vn=function(e){var n=e.children,r=e.disabled,i=t.useContext(Bn);return t.createElement(Bn.Provider,{value:r||i},n)},Un=Bn,Hn=t.createContext(void 0),qn=function(e){var n=e.children,r=e.size;return t.createElement(Hn.Consumer,null,(function(e){return t.createElement(Hn.Provider,{value:r||e},n)}))},Wn=Hn;function Kn(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function Gn(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function Zn(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return Gn(n.overflowY,t)||Gn(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function Yn(e,t,n,r,i,o,a,s){return o<e&&a>t||o>e&&a<t?0:o<=e&&s<=n||a>=t&&s>=n?o-e-r:a>t&&s<n||o<e&&s>n?a-t+i:0}function Qn(e,t){var n=window,r=t.scrollMode,i=t.block,o=t.inline,a=t.boundary,s=t.skipOverflowHiddenElements,u="function"==typeof a?a:function(e){return e!==a};if(!Kn(e))throw new TypeError("Invalid target");for(var c=document.scrollingElement||document.documentElement,l=[],f=e;Kn(f)&&u(f);){if((f=f.parentElement)===c){l.push(f);break}null!=f&&f===document.body&&Zn(f)&&!Zn(document.documentElement)||null!=f&&Zn(f,s)&&l.push(f)}for(var h=n.visualViewport?n.visualViewport.width:innerWidth,d=n.visualViewport?n.visualViewport.height:innerHeight,p=window.scrollX||pageXOffset,v=window.scrollY||pageYOffset,m=e.getBoundingClientRect(),g=m.height,y=m.width,b=m.top,_=m.right,w=m.bottom,k=m.left,x="start"===i||"nearest"===i?b:"end"===i?w:b+g/2,E="center"===o?k+y/2:"end"===o?_:k,S=[],T=0;T<l.length;T++){var C=l[T],I=C.getBoundingClientRect(),P=I.height,A=I.width,N=I.top,R=I.right,O=I.bottom,M=I.left;if("if-needed"===r&&b>=0&&k>=0&&w<=d&&_<=h&&b>=N&&w<=O&&k>=M&&_<=R)return S;var D=getComputedStyle(C),L=parseInt(D.borderLeftWidth,10),F=parseInt(D.borderTopWidth,10),j=parseInt(D.borderRightWidth,10),z=parseInt(D.borderBottomWidth,10),B=0,V=0,U="offsetWidth"in C?C.offsetWidth-C.clientWidth-L-j:0,H="offsetHeight"in C?C.offsetHeight-C.clientHeight-F-z:0;if(c===C)B="start"===i?x:"end"===i?x-d:"nearest"===i?Yn(v,v+d,d,F,z,v+x,v+x+g,g):x-d/2,V="start"===o?E:"center"===o?E-h/2:"end"===o?E-h:Yn(p,p+h,h,L,j,p+E,p+E+y,y),B=Math.max(0,B+v),V=Math.max(0,V+p);else{B="start"===i?x-N-F:"end"===i?x-O+z+H:"nearest"===i?Yn(N,O,P,F,z+H,x,x+g,g):x-(N+P/2)+H/2,V="start"===o?E-M-L:"center"===o?E-(M+A/2)+U/2:"end"===o?E-R+j+U:Yn(M,R,A,L,j+U,E,E+y,y);var q=C.scrollLeft,W=C.scrollTop;x+=W-(B=Math.max(0,Math.min(W+B,C.scrollHeight-P+H))),E+=q-(V=Math.max(0,Math.min(q+V,C.scrollWidth-A+U)))}S.push({el:C,top:B,left:V})}return S}function $n(e){return e===Object(e)&&0!==Object.keys(e).length}var Xn=function(e,t){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if($n(t)&&"function"===typeof t.behavior)return t.behavior(n?Qn(e,t):[]);if(n){var r=function(e){return!1===e?{block:"end",inline:"nearest"}:$n(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach((function(e){var r=e.el,i=e.top,o=e.left;r.scroll&&n?r.scroll({top:i,left:o,behavior:t}):(r.scrollTop=i,r.scrollLeft=o)}))}(Qn(e,r),r.behavior)}},Jn=["parentNode"];function er(e){return void 0===e||!1===e?[]:Array.isArray(e)?e:[e]}function tr(e,t){if(e.length){var n=e.join("_");return t?t+"_"+n:Jn.includes(n)?"form_item_"+n:n}}function nr(e){return er(e).join("_")}function rr(e){var n=c(it(),1)[0],r=t.useRef({}),i=t.useMemo((function(){return null!==e&&void 0!==e?e:b(b({},n),{__INTERNAL__:{itemRef:function(e){return function(t){var n=nr(e);t?r.current[n]=t:delete r.current[n]}}},scrollToField:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=er(e),r=tr(n,i.__INTERNAL__.name),o=r?document.getElementById(r):null;o&&Xn(o,b({scrollMode:"if-needed",block:"nearest"},t))},getFieldInstance:function(e){var t=nr(e);return r.current[t]}})}),[e,n]);return[i]}function ir(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}var or="data-rc-order",ar="rc-util-key",sr=new Map;function ur(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):ar}function cr(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function lr(e){return"queue"===e?"prependQueue":e?"prepend":"append"}function fr(e){return Array.from((sr.get(e)||e).children).filter((function(e){return"STYLE"===e.tagName}))}function hr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!It())return null;var n=t.csp,r=t.prepend,i=document.createElement("style");i.setAttribute(or,lr(r)),(null===n||void 0===n?void 0:n.nonce)&&(i.nonce=null===n||void 0===n?void 0:n.nonce),i.innerHTML=e;var o=cr(t),a=o.firstChild;if(r){if("queue"===r){var s=fr(o).filter((function(e){return["prepend","prependQueue"].includes(e.getAttribute(or))}));if(s.length)return o.insertBefore(i,s[s.length-1].nextSibling),i}o.insertBefore(i,a)}else o.appendChild(i);return i}function dr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=cr(t);return fr(n).find((function(n){return n.getAttribute(ur(t))===e}))}function pr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=dr(e,t);if(n){var r=cr(t);r.removeChild(n)}}function vr(e,t){var n=sr.get(e);if(!n||!ir(document,n)){var r=hr("",t),i=r.parentNode;sr.set(e,i),e.removeChild(r)}}function mr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=cr(n);vr(r,n);var i=dr(t,n);if(i){var o,a,s;if((null===(o=n.csp)||void 0===o?void 0:o.nonce)&&i.nonce!==(null===(a=n.csp)||void 0===a?void 0:a.nonce))i.nonce=null===(s=n.csp)||void 0===s?void 0:s.nonce;return i.innerHTML!==e&&(i.innerHTML=e),i}var u=hr(e,n);return u.setAttribute(ur(n),t),u}var gr=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},yr={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},br="comm",_r="rule",wr="decl",kr=Math.abs,xr=String.fromCharCode;Object.assign;function Er(e){return e.trim()}function Sr(e,t,n){return e.replace(t,n)}function Tr(e,t){return e.indexOf(t)}function Cr(e,t){return 0|e.charCodeAt(t)}function Ir(e,t,n){return e.slice(t,n)}function Pr(e){return e.length}function Ar(e){return e.length}function Nr(e,t){return t.push(e),e}function Rr(e,t){for(var n="",r=Ar(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Or(e,t,n,r){switch(e.type){case"@import":case wr:return e.return=e.return||e.value;case br:return"";case"@keyframes":return e.return=e.value+"{"+Rr(e.children,r)+"}";case _r:e.value=e.props.join(",")}return Pr(n=Rr(e.children,r))?e.return=e.value+"{"+n+"}":""}var Mr=1,Dr=1,Lr=0,Fr=0,jr=0,zr="";function Br(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:Mr,column:Dr,length:a,return:""}}function Vr(){return jr=Fr>0?Cr(zr,--Fr):0,Dr--,10===jr&&(Dr=1,Mr--),jr}function Ur(){return jr=Fr<Lr?Cr(zr,Fr++):0,Dr++,10===jr&&(Dr=1,Mr++),jr}function Hr(){return Cr(zr,Fr)}function qr(){return Fr}function Wr(e,t){return Ir(zr,e,t)}function Kr(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Gr(e){return Mr=Dr=1,Lr=Pr(zr=e),Fr=0,[]}function Zr(e){return zr="",e}function Yr(e){return Er(Wr(Fr-1,Xr(91===e?e+2:40===e?e+1:e)))}function Qr(e){for(;(jr=Hr())&&jr<33;)Ur();return Kr(e)>2||Kr(jr)>3?"":" "}function $r(e,t){for(;--t&&Ur()&&!(jr<48||jr>102||jr>57&&jr<65||jr>70&&jr<97););return Wr(e,qr()+(t<6&&32==Hr()&&32==Ur()))}function Xr(e){for(;Ur();)switch(jr){case e:return Fr;case 34:case 39:34!==e&&39!==e&&Xr(jr);break;case 40:41===e&&Xr(e);break;case 92:Ur()}return Fr}function Jr(e,t){for(;Ur()&&e+jr!==57&&(e+jr!==84||47!==Hr()););return"/*"+Wr(t,Fr-1)+"*"+xr(47===e?e:Ur())}function ei(e){for(;!Kr(Hr());)Ur();return Wr(e,Fr)}function ti(e){return Zr(ni("",null,null,null,[""],e=Gr(e),0,[0],e))}function ni(e,t,n,r,i,o,a,s,u){for(var c=0,l=0,f=a,h=0,d=0,p=0,v=1,m=1,g=1,y=0,b="",_=i,w=o,k=r,x=b;m;)switch(p=y,y=Ur()){case 40:if(108!=p&&58==Cr(x,f-1)){-1!=Tr(x+=Sr(Yr(y),"&","&\f"),"&\f")&&(g=-1);break}case 34:case 39:case 91:x+=Yr(y);break;case 9:case 10:case 13:case 32:x+=Qr(p);break;case 92:x+=$r(qr()-1,7);continue;case 47:switch(Hr()){case 42:case 47:Nr(ii(Jr(Ur(),qr()),t,n),u);break;default:x+="/"}break;case 123*v:s[c++]=Pr(x)*g;case 125*v:case 59:case 0:switch(y){case 0:case 125:m=0;case 59+l:d>0&&Pr(x)-f&&Nr(d>32?oi(x+";",r,n,f-1):oi(Sr(x," ","")+";",r,n,f-2),u);break;case 59:x+=";";default:if(Nr(k=ri(x,t,n,c,l,i,s,b,_=[],w=[],f),o),123===y)if(0===l)ni(x,t,k,k,_,o,f,s,w);else switch(99===h&&110===Cr(x,3)?100:h){case 100:case 109:case 115:ni(e,k,k,r&&Nr(ri(e,k,k,0,0,i,s,b,i,_=[],f),w),i,w,f,s,r?_:w);break;default:ni(x,k,k,k,[""],w,0,s,w)}}c=l=d=0,v=g=1,b=x="",f=a;break;case 58:f=1+Pr(x),d=p;default:if(v<1)if(123==y)--v;else if(125==y&&0==v++&&125==Vr())continue;switch(x+=xr(y),y*v){case 38:g=l>0?1:(x+="\f",-1);break;case 44:s[c++]=(Pr(x)-1)*g,g=1;break;case 64:45===Hr()&&(x+=Yr(Ur())),h=Hr(),l=f=Pr(b=x+=ei(qr())),y++;break;case 45:45===p&&2==Pr(x)&&(v=0)}}return o}function ri(e,t,n,r,i,o,a,s,u,c,l){for(var f=i-1,h=0===i?o:[""],d=Ar(h),p=0,v=0,m=0;p<r;++p)for(var g=0,y=Ir(e,f+1,f=kr(v=a[p])),b=e;g<d;++g)(b=Er(v>0?h[g]+" "+y:Sr(y,/&\f/g,h[g])))&&(u[m++]=b);return Br(e,t,n,0===i?_r:s,u,c,l)}function ii(e,t,n){return Br(e,t,n,br,xr(jr),Ir(e,2,-2),0)}function oi(e,t,n,r){return Br(e,t,n,wr,Ir(e,0,r),Ir(e,r+1,-1),r)}var ai=function(){function e(){T(this,e),this.cache=new Map}return I(e,[{key:"get",value:function(e){return this.cache.get(e.join("%"))||null}},{key:"update",value:function(e,t){var n=e.join("%"),r=t(this.cache.get(n));null===r?this.cache.delete(n):this.cache.set(n,r)}}]),e}(),si="data-token-hash",ui="data-css-hash",ci="__cssinjs_instance__",li=Math.random().toString(12).slice(2);function fi(){if("undefined"!==typeof document){var e=document.body.querySelectorAll("style[".concat(ui,"]")),t=document.head.firstChild;Array.from(e).forEach((function(e){e[ci]=e[ci]||li,document.head.insertBefore(e,t)}));var n={};Array.from(document.querySelectorAll("style[".concat(ui,"]"))).forEach((function(e){var t,r=e.getAttribute(ui);n[r]?e[ci]===li&&(null===(t=e.parentNode)||void 0===t||t.removeChild(e)):n[r]=!0}))}return new ai}var hi=t.createContext({hashPriority:"low",cache:fi(),defaultCache:!0}),di=hi;var pi=function(){return!1};function vi(e,n,r,i){var o=t.useContext(di).cache,a=[e].concat(S(n));pi();return t.useMemo((function(){o.update(a,(function(e){var t=c(e||[],2),n=t[0];return[(void 0===n?0:n)+1,t[1]||r()]}))}),[a.join("_")]),t.useEffect((function(){return function(){o.update(a,(function(e){var t=c(e||[],2),n=t[0],r=void 0===n?0:n,o=t[1];return 0===r-1?(null===i||void 0===i||i(o,!1),null):[r-1,o]}))}}),a),o.get(a)[1]}function mi(e){var t="";return Object.keys(e).forEach((function(n){var r=e[n];t+=n,r&&"object"===v(r)?t+=mi(r):t+=r})),t}function gi(e,t){return gr("".concat(t,"_").concat(mi(e)))}var yi="layer-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,""),bi="903px";var _i=void 0;function wi(){return void 0===_i&&(_i=function(e,t){if(It()){var n;mr(e,yi);var r=document.createElement("div");r.style.position="fixed",r.style.left="0",r.style.top="0",null===t||void 0===t||t(r),document.body.appendChild(r);var i=getComputedStyle(r).width===bi;return null===(n=r.parentNode)||void 0===n||n.removeChild(r),pr(yi),i}return!1}("@layer ".concat(yi," { .").concat(yi," { width: ").concat(bi,"!important; } }"),(function(e){e.className=yi}))),_i}var ki=It();function xi(e){return Rr(ti(e),Or).replace(/\{%%%\:[^;];}/g,";")}function Ei(e){return"object"===v(e)&&e&&"_skip_check_"in e}function Si(e,t,n){if(!t)return e;var r=".".concat(t),i="low"===n?":where(".concat(r,")"):r,o=e.split(",").map((function(e){var t,n=e.trim().split(/\s+/),r=n[0]||"",o=(null===(t=r.match(/^\w+/))||void 0===t?void 0:t[0])||"";return[r="".concat(o).concat(i).concat(r.slice(o.length))].concat(S(n.slice(1))).join(" ")}));return o.join(",")}var Ti=new Set,Ci=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{root:!0},i=r.root,o=r.injectHash,a=n.hashId,s=n.layer,u=n.path,l=n.hashPriority,f="",h={};function d(t){var r=t.getName(a);if(!h[r]){var i=c(e(t.style,n,{root:!1}),1)[0];h[r]="@keyframes ".concat(t.getName(a)).concat(i)}}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.forEach((function(e){Array.isArray(e)?p(e,t):e&&t.push(e)})),t}var m=p(Array.isArray(t)?t:[t]);if(m.forEach((function(t){var r="string"!==typeof t||i?t:{};"string"===typeof r?f+="".concat(r,"\n"):r._keyframe?d(r):Object.keys(r).forEach((function(t){var s=r[t];if("object"!==v(s)||!s||"animationName"===t&&s._keyframe||Ei(s)){var p,m=null!==(p=null===s||void 0===s?void 0:s.value)&&void 0!==p?p:s;0;var g=t.replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())})),y=m;yr[t]||"number"!==typeof y||0===y||(y="".concat(y,"px")),"animationName"===t&&(null===s||void 0===s?void 0:s._keyframe)&&(d(s),y=s.getName(a)),f+="".concat(g,":").concat(y,";")}else{var b=!1,_=t.trim(),w=!1;(i||o)&&a?_.startsWith("@")?b=!0:_=Si(t,a,l):!i||a||"&"!==_&&""!==_||(_="",w=!0);var k=c(e(s,x(x({},n),{},{path:"".concat(u," -> ").concat(_)}),{root:w,injectHash:b}),2),E=k[0],S=k[1];h=x(x({},h),S),f+="".concat(_).concat(E)}}))})),i){if(s&&wi()){var g=s.split(","),y=g[g.length-1].trim();f="@layer ".concat(y," {").concat(f,"}"),g.length>1&&(f="@layer ".concat(s,"{%%%:%}").concat(f))}}else f="{".concat(f,"}");return[f,h]};function Ii(){return null}function Pi(e,n){var r=e.token,i=e.path,o=e.hashId,a=e.layer,s=t.useContext(di),u=s.autoClear,l=(s.mock,s.defaultCache),f=s.hashPriority,h=r._tokenKey,d=[h].concat(S(i)),p=ki;var v=vi("style",d,(function(){var e=n(),t=c(Ci(e,{hashId:o,hashPriority:f,layer:a,path:i.join("-")}),2),r=t[0],s=t[1],u=xi(r),l=function(e,t){return gr("".concat(e.join("%")).concat(t))}(d,u);if({},p){var v=mr(u,l,{mark:ui,prepend:"queue"});v[ci]=li,v.setAttribute(si,h),Object.keys(s).forEach((function(e){Ti.has(e)||(Ti.add(e),mr(xi(s[e]),"_effect-".concat(e),{mark:ui,prepend:"queue"}))}))}return[u,h,l]}),(function(e,t){var n=c(e,3)[2];(t||u)&&ki&&pr(n,{mark:ui})})),m=c(v,3),g=m[0],y=m[1],b=m[2];return function(e){var n,r;p||!l?n=t.createElement(Ii,null):n=t.createElement("style",x(x({},(w(r={},si,y),w(r,ui,b),r)),{},{dangerouslySetInnerHTML:{__html:g}}));return t.createElement(t.Fragment,null,n,e)}}var Ai={},Ni=new Map;function Ri(e){Ni.set(e,(Ni.get(e)||0)+1)}function Oi(e){Ni.set(e,(Ni.get(e)||0)-1);var t=Array.from(Ni.keys()),n=t.filter((function(e){return(Ni.get(e)||0)<=0}));n.length<t.length&&n.forEach((function(e){!function(e){"undefined"!==typeof document&&document.querySelectorAll("style[".concat(si,'="').concat(e,'"]')).forEach((function(e){var t;e[ci]===li&&(null===(t=e.parentNode)||void 0===t||t.removeChild(e))}))}(e),Ni.delete(e)}))}var Mi=function(){function e(t,n){T(this,e),this.name=void 0,this.style=void 0,this._keyframe=!0,this.name=t,this.style=n}return I(e,[{key:"getName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?"".concat(e,"-").concat(this.name):this.name}}]),e}(),Di=Mi;var Li=function(){function e(){T(this,e),this.cache=void 0,this.keys=void 0,this.cacheCallTimes=void 0,this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return I(e,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i={map:this.cache};return e.forEach((function(e){var t,n;i?i=null===(t=i)||void 0===t||null===(n=t.map)||void 0===n?void 0:n.get(e):i=void 0})),(null===(t=i)||void 0===t?void 0:t.value)&&r&&(i.value[1]=this.cacheCallTimes++),null===(n=i)||void 0===n?void 0:n.value}},{key:"get",value:function(e){var t;return null===(t=this.internalGet(e,!0))||void 0===t?void 0:t[0]}},{key:"has",value:function(e){return!!this.internalGet(e)}},{key:"set",value:function(t,n){var r=this;if(!this.has(t)){if(this.size()+1>e.MAX_CACHE_SIZE+e.MAX_CACHE_OFFSET){var i=this.keys.reduce((function(e,t){var n=c(e,2)[1];return r.internalGet(t)[1]<n?[t,r.internalGet(t)[1]]:e}),[this.keys[0],this.cacheCallTimes]),o=c(i,1)[0];this.delete(o)}this.keys.push(t)}var a=this.cache;t.forEach((function(e,i){if(i===t.length-1)a.set(e,{value:[n,r.cacheCallTimes++]});else{var o=a.get(e);o?o.map||(o.map=new Map):a.set(e,{map:new Map}),a=a.get(e).map}}))}},{key:"deleteByPath",value:function(e,t){var n,r=e.get(t[0]);if(1===t.length)return r.map?e.set(t[0],{map:r.map}):e.delete(t[0]),null===(n=r.value)||void 0===n?void 0:n[0];var i=this.deleteByPath(r.map,t.slice(1));return r.map&&0!==r.map.size||r.value||e.delete(t[0]),i}},{key:"delete",value:function(e){if(this.has(e))return this.keys=this.keys.filter((function(t){return!function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,e)})),this.deleteByPath(this.cache,e)}}]),e}();Li.MAX_CACHE_SIZE=20,Li.MAX_CACHE_OFFSET=5;var Fi=0,ji=function(){function e(t){T(this,e),this.derivatives=void 0,this.id=void 0,this.derivatives=Array.isArray(t)?t:[t],this.id=Fi,0===t.length&&z(t.length),Fi+=1}return I(e,[{key:"getDerivativeToken",value:function(e){return this.derivatives.reduce((function(t,n){return n(e,t)}),void 0)}}]),e}(),zi=new Li;function Bi(e){var t=Array.isArray(e)?e:[e];return zi.has(t)||zi.set(t,new ji(t)),zi.get(t)}var Vi=function(e){return{animationDuration:e,animationFillMode:"both"}},Ui=function(e){return{animationDuration:e,animationFillMode:"both"}},Hi=function(e,t,n,r){var i,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=o?"&":"";return w(i={},"\n      "+a+e+"-enter,\n      "+a+e+"-appear\n    ",b(b({},Vi(r)),{animationPlayState:"paused"})),w(i,""+a+e+"-leave",b(b({},Ui(r)),{animationPlayState:"paused"})),w(i,"\n      "+a+e+"-enter"+e+"-enter-active,\n      "+a+e+"-appear"+e+"-appear-active\n    ",{animationName:t,animationPlayState:"running"}),w(i,""+a+e+"-leave"+e+"-leave-active",{animationName:n,animationPlayState:"running",pointerEvents:"none"}),i},qi=new Di("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),Wi=new Di("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),Ki=new Di("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),Gi=new Di("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),Zi=new Di("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),Yi=new Di("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),Qi=new Di("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),$i=new Di("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),Xi=new Di("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),Ji=new Di("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),eo=new Di("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),to=new Di("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),no={zoom:{inKeyframes:qi,outKeyframes:Wi},"zoom-big":{inKeyframes:Ki,outKeyframes:Gi},"zoom-big-fast":{inKeyframes:Ki,outKeyframes:Gi},"zoom-left":{inKeyframes:Qi,outKeyframes:$i},"zoom-right":{inKeyframes:Xi,outKeyframes:Ji},"zoom-up":{inKeyframes:Zi,outKeyframes:Yi},"zoom-down":{inKeyframes:eo,outKeyframes:to}},ro=function(e,t){var n,r=e.antCls+"-"+t,i=no[t],o=i.inKeyframes,a=i.outKeyframes;return[Hi(r,o,a,e.motionDurationMid),(n={},w(n,"\n        "+r+"-enter,\n        "+r+"-appear\n      ",{transform:"scale(0)",opacity:0,animationTimingFunction:e.motionEaseOutCirc,"&-prepare":{transform:"none"}}),w(n,r+"-leave",{animationTimingFunction:e.motionEaseInOutCirc}),n)]},io=function(e){var t;return w({},e.componentCls,(w(t={},e.antCls+"-motion-collapse-legacy",{overflow:"hidden","&-active":{transition:"height "+e.motionDurationMid+" "+e.motionEaseInOut+",\n        opacity "+e.motionDurationMid+" "+e.motionEaseInOut+" !important"}}),w(t,e.antCls+"-motion-collapse",{overflow:"hidden",transition:"height "+e.motionDurationMid+" "+e.motionEaseInOut+",\n        opacity "+e.motionDurationMid+" "+e.motionEaseInOut+" !important"}),t))},oo={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},ao=function(e){return{boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none",fontFamily:e.fontFamily}},so=function(e){var t;return{a:(t={color:e.colorLink,textDecoration:e.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:"color "+e.motionDurationSlow,"-webkit-text-decoration-skip":"objects","&:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive}},w(t,"&:active,\n  &:hover",{textDecoration:e.linkHoverDecoration,outline:0}),w(t,"&:focus",{textDecoration:e.linkFocusDecoration,outline:0}),w(t,"&[disabled]",{color:e.colorTextDisabled,cursor:"not-allowed"}),t)}},uo=function(e,t){var n='[class^="'+t+'"], [class*=" '+t+'"]';return w({},n,w({fontFamily:e.fontFamily,fontSize:e.fontSize,boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}},n,{boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}}))},co=function(e){return{outline:4*e.lineWidth+"px solid "+e.colorPrimaryBorder,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}};function lo(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function fo(e){return Math.min(1,Math.max(0,e))}function ho(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function po(e){return e<=1?"".concat(100*Number(e),"%"):e}function vo(e){return 1===e.length?"0"+e:String(e)}function mo(e,t,n){e=lo(e,255),t=lo(t,255),n=lo(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o=0,a=0,s=(r+i)/2;if(r===i)a=0,o=0;else{var u=r-i;switch(a=s>.5?u/(2-r-i):u/(r+i),r){case e:o=(t-n)/u+(t<n?6:0);break;case t:o=(n-e)/u+2;break;case n:o=(e-t)/u+4}o/=6}return{h:o,s:a,l:s}}function go(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function yo(e,t,n){e=lo(e,255),t=lo(t,255),n=lo(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o=0,a=r,s=r-i,u=0===r?0:s/r;if(r===i)o=0;else{switch(r){case e:o=(t-n)/s+(t<n?6:0);break;case t:o=(n-e)/s+2;break;case n:o=(e-t)/s+4}o/=6}return{h:o,s:u,v:a}}function bo(e,t,n,r){var i=[vo(Math.round(e).toString(16)),vo(Math.round(t).toString(16)),vo(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function _o(e){return Math.round(255*parseFloat(e)).toString(16)}function wo(e){return ko(e)/255}function ko(e){return parseInt(e,16)}var xo={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Eo(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,s=!1;return"string"===typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(xo[e])e=xo[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=Io.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=Io.rgba.exec(e))return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=Io.hsl.exec(e))return{h:n[1],s:n[2],l:n[3]};if(n=Io.hsla.exec(e))return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=Io.hsv.exec(e))return{h:n[1],s:n[2],v:n[3]};if(n=Io.hsva.exec(e))return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=Io.hex8.exec(e))return{r:ko(n[1]),g:ko(n[2]),b:ko(n[3]),a:wo(n[4]),format:t?"name":"hex8"};if(n=Io.hex6.exec(e))return{r:ko(n[1]),g:ko(n[2]),b:ko(n[3]),format:t?"name":"hex"};if(n=Io.hex4.exec(e))return{r:ko(n[1]+n[1]),g:ko(n[2]+n[2]),b:ko(n[3]+n[3]),a:wo(n[4]+n[4]),format:t?"name":"hex8"};if(n=Io.hex3.exec(e))return{r:ko(n[1]+n[1]),g:ko(n[2]+n[2]),b:ko(n[3]+n[3]),format:t?"name":"hex"};return!1}(e)),"object"===typeof e&&(Po(e.r)&&Po(e.g)&&Po(e.b)?(t=function(e,t,n){return{r:255*lo(e,255),g:255*lo(t,255),b:255*lo(n,255)}}(e.r,e.g,e.b),a=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):Po(e.h)&&Po(e.s)&&Po(e.v)?(r=po(e.s),i=po(e.v),t=function(e,t,n){e=6*lo(e,360),t=lo(t,100),n=lo(n,100);var r=Math.floor(e),i=e-r,o=n*(1-t),a=n*(1-i*t),s=n*(1-(1-i)*t),u=r%6;return{r:255*[n,a,o,o,s,n][u],g:255*[s,n,n,a,o,o][u],b:255*[o,o,s,n,n,a][u]}}(e.h,r,i),a=!0,s="hsv"):Po(e.h)&&Po(e.s)&&Po(e.l)&&(r=po(e.s),o=po(e.l),t=function(e,t,n){var r,i,o;if(e=lo(e,360),t=lo(t,100),n=lo(n,100),0===t)i=n,o=n,r=n;else{var a=n<.5?n*(1+t):n+t-n*t,s=2*n-a;r=go(s,a,e+1/3),i=go(s,a,e),o=go(s,a,e-1/3)}return{r:255*r,g:255*i,b:255*o}}(e.h,r,o),a=!0,s="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=ho(n),{ok:a,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var So="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),To="[\\s|\\(]+(".concat(So,")[,|\\s]+(").concat(So,")[,|\\s]+(").concat(So,")\\s*\\)?"),Co="[\\s|\\(]+(".concat(So,")[,|\\s]+(").concat(So,")[,|\\s]+(").concat(So,")[,|\\s]+(").concat(So,")\\s*\\)?"),Io={CSS_UNIT:new RegExp(So),rgb:new RegExp("rgb"+To),rgba:new RegExp("rgba"+Co),hsl:new RegExp("hsl"+To),hsla:new RegExp("hsla"+Co),hsv:new RegExp("hsv"+To),hsva:new RegExp("hsva"+Co),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Po(e){return Boolean(Io.CSS_UNIT.exec(String(e)))}var Ao=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function No(e){var t=yo(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function Ro(e){var t=e.r,n=e.g,r=e.b;return"#".concat(bo(t,n,r,!1))}function Oo(e,t,n){var r=n/100;return{r:(t.r-e.r)*r+e.r,g:(t.g-e.g)*r+e.g,b:(t.b-e.b)*r+e.b}}function Mo(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function Do(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function Lo(e,t,n){var r;return(r=n?e.v+.05*t:e.v-.15*t)>1&&(r=1),Number(r.toFixed(2))}function Fo(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=Eo(e),i=5;i>0;i-=1){var o=No(r),a=Ro(Eo({h:Mo(o,i,!0),s:Do(o,i,!0),v:Lo(o,i,!0)}));n.push(a)}n.push(Ro(r));for(var s=1;s<=4;s+=1){var u=No(r),c=Ro(Eo({h:Mo(u,s),s:Do(u,s),v:Lo(u,s)}));n.push(c)}return"dark"===t.theme?Ao.map((function(e){var r=e.index,i=e.opacity;return Ro(Oo(Eo(t.backgroundColor||"#141414"),Eo(n[r]),100*i))})):n}var jo={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},zo={},Bo={};Object.keys(jo).forEach((function(e){zo[e]=Fo(jo[e]),zo[e].primary=zo[e][5],Bo[e]=Fo(jo[e],{theme:"dark",backgroundColor:"#141414"}),Bo[e].primary=Bo[e][5]}));zo.red,zo.volcano,zo.gold,zo.orange,zo.yellow,zo.lime,zo.green,zo.cyan,zo.blue,zo.geekblue,zo.purple,zo.magenta,zo.grey;var Vo=function(e){var t=e.controlHeight;return{controlHeightSM:.75*t,controlHeightXS:.5*t,controlHeightLG:1.25*t}};var Uo={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},Ho=b(b({},Uo),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#f5222d",colorInfo:"#1677ff",colorTextBase:"",colorBgBase:"",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,\n'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',\n'Noto Color Emoji'",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1}),qo=function(){function e(t,n){var r;if(void 0===t&&(t=""),void 0===n&&(n={}),t instanceof e)return t;"number"===typeof t&&(t=function(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}(t)),this.originalInput=t;var i=Eo(t);this.originalInput=t,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(r=n.format)&&void 0!==r?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,n=e.g/255,r=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=ho(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.toHsv=function(){var e=yo(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=yo(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(n,"%, ").concat(r,"%)"):"hsva(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var e=mo(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=mo(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(n,"%, ").concat(r,"%)"):"hsla(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(e){return void 0===e&&(e=!1),bo(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),function(e,t,n,r,i){var o=[vo(Math.round(e).toString(16)),vo(Math.round(t).toString(16)),vo(Math.round(n).toString(16)),vo(_o(r))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(n,")"):"rgba(".concat(e,", ").concat(t,", ").concat(n,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var e=function(e){return"".concat(Math.round(100*lo(e,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*lo(e,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+bo(this.r,this.g,this.b,!1),t=0,n=Object.entries(xo);t<n.length;t++){var r=n[t],i=r[0];if(e===r[1])return i}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!==e&&void 0!==e?e:this.format;var n=!1,r=this.a<1&&this.a>=0;return t||!r||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=fo(n.l),new e(n)},e.prototype.brighten=function(t){void 0===t&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),new e(n)},e.prototype.darken=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=fo(n.l),new e(n)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=fo(n.s),new e(n)},e.prototype.saturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=fo(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){void 0===n&&(n=50);var r=this.toRgb(),i=new e(t).toRgb(),o=n/100;return new e({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},e.prototype.analogous=function(t,n){void 0===t&&(t=6),void 0===n&&(n=30);var r=this.toHsl(),i=360/n,o=[this];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(new e(r));return o},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var n=this.toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/t;t--;)a.push(new e({h:r,s:i,v:o})),o=(o+s)%1;return a},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb();return new e({r:r.r+(n.r-r.r)*n.a,g:r.g+(n.g-r.g)*n.a,b:r.b+(n.b-r.b)*n.a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,i=[this],o=360/t,a=1;a<t;a++)i.push(new e({h:(r+a*o)%360,s:n.s,l:n.l}));return i},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();var Wo=function(e){var t=e,n=e,r=e,i=e;return e<6&&e>=5?t=e+1:e<16&&e>=6?t=e+2:e>=16&&(t=16),e<7&&e>=5?n=4:e<8&&e>=7?n=5:e<14&&e>=8?n=6:e<16&&e>=14?n=7:e>=16&&(n=8),e<6&&e>=2?r=1:e>=6&&(r=2),e>4&&e<8?i=4:e>=8&&(i=6),{borderRadius:e>16?16:e,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:t,borderRadiusOuter:i}};function Ko(e){var t=e.motionUnit,n=e.motionBase,r=e.fontSize,i=e.borderRadius,o=e.lineWidth,a=function(e){var t=new Array(10).fill(null).map((function(t,n){var r=n-1,i=e*Math.pow(2.71828,r/5),o=n>1?Math.floor(i):Math.ceil(i);return 2*Math.floor(o/2)}));return t[1]=e,t.map((function(e){return{size:e,lineHeight:(e+8)/e}}))}(r);return b({motionDurationFast:(n+t).toFixed(1)+"s",motionDurationMid:(n+2*t).toFixed(1)+"s",motionDurationSlow:(n+3*t).toFixed(1)+"s",fontSizes:a.map((function(e){return e.size})),lineHeights:a.map((function(e){return e.lineHeight})),lineWidthBold:o+1},Wo(i))}var Go=function(e,t){return new qo(e).setAlpha(t).toRgbString()},Zo=function(e,t){return new qo(e).darken(t).toHexString()},Yo=function(e){var t=Fo(e);return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[4],6:t[5],7:t[6],8:t[4],9:t[5],10:t[6]}},Qo=function(e,t){var n=e||"#fff",r=t||"#000";return{colorBgBase:n,colorTextBase:r,colorText:Go(r,.88),colorTextSecondary:Go(r,.65),colorTextTertiary:Go(r,.45),colorTextQuaternary:Go(r,.25),colorFill:Go(r,.15),colorFillSecondary:Go(r,.06),colorFillTertiary:Go(r,.04),colorFillQuaternary:Go(r,.02),colorBgLayout:Zo(n,4),colorBgContainer:Zo(n,0),colorBgElevated:Zo(n,0),colorBgSpotlight:Go(r,.85),colorBorder:Zo(n,15),colorBorderSecondary:Zo(n,6)}};function $o(e){return e>=0&&e<=255}var Xo=function(e,t){var n=new qo(e).toRgb(),r=n.r,i=n.g,o=n.b;if(n.a<1)return e;for(var a=new qo(t).toRgb(),s=a.r,u=a.g,c=a.b,l=.01;l<=1;l+=.01){var f=Math.round((r-s*(1-l))/l),h=Math.round((i-u*(1-l))/l),d=Math.round((o-c*(1-l))/l);if($o(f)&&$o(h)&&$o(d))return new qo({r:f,g:h,b:d,a:Math.round(100*l)/100}).toRgbString()}return new qo({r:r,g:i,b:o,a:1}).toRgbString()},Jo=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function ea(e){var t=e.override,n=Jo(e,["override"]),r=b({},t);Object.keys(Ho).forEach((function(e){delete r[e]}));var i=b(b({},n),r),o=i.fontSizes,a=i.lineHeights,s=1200,u=1600,c=o[0];return b(b(b({},i),{colorLink:i.colorInfoText,colorLinkHover:i.colorInfoHover,colorLinkActive:i.colorInfoActive,colorFillContent:i.colorFillSecondary,colorFillContentHover:i.colorFill,colorFillAlter:i.colorFillQuaternary,colorBgContainerDisabled:i.colorFillTertiary,colorBorderBg:i.colorBgContainer,colorSplit:Xo(i.colorBorderSecondary,i.colorBgContainer),colorTextPlaceholder:i.colorTextQuaternary,colorTextDisabled:i.colorTextQuaternary,colorTextHeading:i.colorText,colorTextLabel:i.colorTextSecondary,colorTextDescription:i.colorTextTertiary,colorTextLightSolid:i.colorWhite,colorHighlight:i.colorError,colorBgTextHover:i.colorFillSecondary,colorBgTextActive:i.colorFill,colorIcon:i.colorTextTertiary,colorIconHover:i.colorText,colorErrorOutline:Xo(i.colorErrorBg,i.colorBgContainer),colorWarningOutline:Xo(i.colorWarningBg,i.colorBgContainer),fontSizeSM:c,fontSize:o[1],fontSizeLG:o[2],fontSizeXL:o[3],fontSizeHeading1:o[6],fontSizeHeading2:o[5],fontSizeHeading3:o[4],fontSizeHeading4:o[3],fontSizeHeading5:o[2],fontSizeIcon:c,lineHeight:a[1],lineHeightLG:a[2],lineHeightSM:a[0],lineHeightHeading1:a[6],lineHeightHeading2:a[5],lineHeightHeading3:a[4],lineHeightHeading4:a[3],lineHeightHeading5:a[2],lineWidth:i.lineWidth,controlOutlineWidth:2*i.lineWidth,controlInteractiveSize:i.controlHeight/2,controlItemBgHover:i.colorFillTertiary,controlItemBgActive:i.colorPrimaryBg,controlItemBgActiveHover:i.colorPrimaryBgHover,controlItemBgActiveDisabled:i.colorFill,controlTmpOutline:i.colorFillQuaternary,controlOutline:Xo(i.colorPrimaryBg,i.colorBgContainer),lineType:i.lineType,borderRadius:i.borderRadius,borderRadiusXS:i.borderRadiusXS,borderRadiusSM:i.borderRadiusSM,borderRadiusLG:i.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:i.sizeXXS,paddingXS:i.sizeXS,paddingSM:i.sizeSM,padding:i.size,paddingMD:i.sizeMD,paddingLG:i.sizeLG,paddingXL:i.sizeXL,paddingContentHorizontalLG:i.sizeLG,paddingContentVerticalLG:i.sizeMS,paddingContentHorizontal:i.sizeMS,paddingContentVertical:i.sizeSM,paddingContentHorizontalSM:i.size,paddingContentVerticalSM:i.sizeXS,marginXXS:i.sizeXXS,marginXS:i.sizeXS,marginSM:i.sizeSM,margin:i.size,marginMD:i.sizeMD,marginLG:i.sizeLG,marginXL:i.sizeXL,marginXXL:i.sizeXXL,boxShadow:"\n      0 1px 2px 0 rgba(0, 0, 0, 0.03),\n      0 1px 6px -1px rgba(0, 0, 0, 0.02),\n      0 2px 4px 0 rgba(0, 0, 0, 0.02)\n    ",boxShadowSecondary:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",screenXS:480,screenXSMin:480,screenXSMax:479,screenSM:576,screenSMMin:576,screenSMMax:575,screenMD:768,screenMDMin:768,screenMDMax:767,screenLG:992,screenLGMin:992,screenLGMax:991,screenXL:s,screenXLMin:s,screenXLMax:1199,screenXXL:u,screenXXLMin:u,screenXXLMax:1599,boxShadowPopoverArrow:"3px 3px 7px rgba(0, 0, 0, 0.1)",boxShadowCard:"\n      0 1px 2px -2px "+new qo("rgba(0, 0, 0, 0.16)").toRgbString()+",\n      0 3px 6px 0 "+new qo("rgba(0, 0, 0, 0.12)").toRgbString()+",\n      0 5px 12px 4px "+new qo("rgba(0, 0, 0, 0.09)").toRgbString()+"\n    ",boxShadowDrawerRight:"\n      -6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      -3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      -9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerLeft:"\n      6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerUp:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerDown:"\n      0 -6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 -3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 -9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var ta=Bi((function(e){var t=Object.keys(Uo).map((function(t){var n=Fo(e[t]);return new Array(10).fill(1).reduce((function(e,r,i){return e[t+"-"+(i+1)]=n[i],e}),{})})).reduce((function(e,t){return e=b(b({},e),t)}),{});return b(b(b(b(b(b({},e),t),function(e,t){var n=t.generateColorPalettes,r=t.generateNeutralColorPalettes,i=e.colorSuccess,o=e.colorWarning,a=e.colorError,s=e.colorInfo,u=e.colorPrimary,c=e.colorBgBase,l=e.colorTextBase,f=n(u),h=n(i),d=n(o),p=n(a),v=n(s);return b(b({},r(c,l)),{colorPrimaryBg:f[1],colorPrimaryBgHover:f[2],colorPrimaryBorder:f[3],colorPrimaryBorderHover:f[4],colorPrimaryHover:f[5],colorPrimary:f[6],colorPrimaryActive:f[7],colorPrimaryTextHover:f[8],colorPrimaryText:f[9],colorPrimaryTextActive:f[10],colorSuccessBg:h[1],colorSuccessBgHover:h[2],colorSuccessBorder:h[3],colorSuccessBorderHover:h[4],colorSuccessHover:h[4],colorSuccess:h[6],colorSuccessActive:h[7],colorSuccessTextHover:h[8],colorSuccessText:h[9],colorSuccessTextActive:h[10],colorErrorBg:p[1],colorErrorBgHover:p[2],colorErrorBorder:p[3],colorErrorBorderHover:p[4],colorErrorHover:p[4],colorError:p[5],colorErrorActive:p[7],colorErrorTextHover:p[8],colorErrorText:p[9],colorErrorTextActive:p[10],colorWarningBg:d[1],colorWarningBgHover:d[2],colorWarningBorder:d[3],colorWarningBorderHover:d[4],colorWarningHover:d[4],colorWarning:d[6],colorWarningActive:d[7],colorWarningTextHover:d[8],colorWarningText:d[9],colorWarningTextActive:d[10],colorInfoBg:v[1],colorInfoBgHover:v[2],colorInfoBorder:v[3],colorInfoBorderHover:v[4],colorInfoHover:v[4],colorInfo:v[6],colorInfoActive:v[7],colorInfoTextHover:v[8],colorInfoText:v[9],colorInfoTextActive:v[10],colorBgMask:new qo("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}(e,{generateColorPalettes:Yo,generateNeutralColorPalettes:Qo})),function(e){var t=e.sizeUnit,n=e.sizeStep;return{sizeXXL:t*(n+8),sizeXL:t*(n+4),sizeLG:t*(n+2),sizeMD:t*(n+1),sizeMS:t*n,size:t*n,sizeSM:t*(n-1),sizeXS:t*(n-2),sizeXXS:t*(n-3)}}(e)),Vo(e)),Ko(e))})),na={token:Ho,hashed:!0},ra=t.createContext(na);function ia(){var e=t.useContext(ra),n=e.token,r=e.hashed,i=e.theme,o=e.components,a=i||ta,s=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.salt,o=void 0===i?"":i,a=r.override,s=void 0===a?Ai:a,u=r.formatToken,c=t.useMemo((function(){return Object.assign.apply(Object,[{}].concat(S(n)))}),[n]),l=t.useMemo((function(){return mi(c)}),[c]),f=t.useMemo((function(){return mi(s)}),[s]),h=vi("token",[o,e.id,l,f],(function(){var t=x(x({},e.getDerivativeToken(c)),s);u&&(t=u(t));var n=gi(t,o);t._tokenKey=n,Ri(n);var r="".concat("css","-").concat(gr(n));return t._hashId=r,[t,r]}),(function(e){Oi(e[0]._tokenKey)}));return h}(a,[Ho,n],{salt:"5.0.1-"+(r||""),override:b({override:n},o),formatToken:ea}),u=c(s,2),l=u[0],f=u[1];return[a,l,r?f:""]}var oa="undefined"!==typeof CSSINJS_STATISTIC,aa=!0;function sa(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!oa)return b.apply(void 0,[{}].concat(t));aa=!1;var r={};return t.forEach((function(e){Object.keys(e).forEach((function(t){Object.defineProperty(r,t,{configurable:!0,enumerable:!0,get:function(){return e[t]}})}))})),aa=!0,r}var ua={};function ca(){}function la(e,n,r){return function(i){var o=c(ia(),3),a=o[0],s=o[1],u=o[2],l=(0,t.useContext)(Tn),f=l.getPrefixCls,h=l.iconPrefixCls,d=f();return Pi({theme:a,token:s,hashId:u,path:["Shared",d]},(function(){return[{"&":so(s)}]})),[Pi({theme:a,token:s,hashId:u,path:[e,i,h]},(function(){var t=function(e){var t,n=e,r=ca;return oa&&(t=new Set,n=new Proxy(e,{get:function(e,n){return aa&&t.add(n),e[n]}}),r=function(e,n){ua[e]={global:Array.from(t),component:n}}),{token:n,keys:t,flush:r}}(s),o=t.token,a=t.flush,c=b(b({},"function"===typeof r?r(o):r),s[e]),l=sa(o,{componentCls:"."+i,prefixCls:i,iconCls:"."+h,antCls:"."+d},c),f=n(l,{hashId:u,prefixCls:i,rootPrefixCls:d,iconPrefixCls:h,overrideComponentToken:s[e]});return a(e,c),[uo(s,i),f]})),u]}}var fa=function(e,t){var n,r=e.formItemCls;return w({},r,(w(n={},r+"-label > label",{height:t}),w(n,r+"-control-input",{minHeight:t}),n))},ha=function(e){var t,n=e.componentCls;return w({},e.componentCls,b(b(b({},ao(e)),function(e){var t;return w(t={legend:{display:"block",width:"100%",marginBottom:e.marginLG,padding:0,color:e.colorTextDescription,fontSize:e.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:e.lineWidth+"px "+e.lineType+" "+e.colorBorder},label:{fontSize:e.fontSize},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"}},"input[type='file']:focus,\n  input[type='radio']:focus,\n  input[type='checkbox']:focus",{outline:0,boxShadow:"0 0 0 "+e.controlOutlineWidth+"px "+e.controlOutline}),w(t,"output",{display:"block",paddingTop:15,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight}),t}(e)),(w(t={},n+"-text",{display:"inline-block",paddingInlineEnd:e.paddingSM}),w(t,"&-small",b({},fa(e,e.controlHeightSM))),w(t,"&-large",b({},fa(e,e.controlHeightLG))),t)))},da=function(e){var t,n,r,i=e.formItemCls,o=e.iconCls,a=e.componentCls,s=e.rootPrefixCls;return w({},i,b(b({},ao(e)),(w(r={marginBottom:e.marginLG,verticalAlign:"top","&-with-help":{transition:"none"}},"&-hidden,\n        &-hidden."+s+"-row",{display:"none"}),w(r,"&-has-warning",w({},i+"-split",{color:e.colorError})),w(r,"&-has-error",w({},i+"-split",{color:e.colorWarning})),w(r,i+"-label",{display:"inline-block",flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:e.lineHeight+" - 0.25em",whiteSpace:"unset"},"> label":(t={position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:e.controlHeight,color:e.colorTextHeading,fontSize:e.fontSize},w(t,"> "+o,{fontSize:e.fontSize,verticalAlign:"top"}),w(t,"&"+i+"-required:not("+i+"-required-mark-optional)::before",w({display:"inline-block",marginInlineEnd:e.marginXXS,color:e.colorError,fontSize:e.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"'},a+"-hide-required-mark &",{display:"none"})),w(t,i+"-optional",w({display:"inline-block",marginInlineStart:e.marginXXS,color:e.colorTextDescription},a+"-hide-required-mark &",{display:"none"})),w(t,i+"-tooltip",{color:e.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:e.marginXXS}),w(t,"&::after",{content:'":"',position:"relative",marginBlock:0,marginInlineStart:e.marginXXS/2,marginInlineEnd:e.marginXS}),w(t,"&"+i+"-no-colon::after",{content:'" "'}),t)}),w(r,i+"-control",(w(n={display:"flex",flexDirection:"column",flexGrow:1},"&:first-child:not([class^=\"'"+s+"-col-'\"]):not([class*=\"' "+s+"-col-'\"])",{width:"100%"}),w(n,"&-input",{position:"relative",display:"flex",alignItems:"center",minHeight:e.controlHeight,"&-content":{flex:"auto",maxWidth:"100%"}}),n)),w(r,i,{"&-explain, &-extra":{clear:"both",color:e.colorTextDescription,fontSize:e.fontSize,lineHeight:e.lineHeight,transition:"color "+e.motionDurationMid+" "+e.motionEaseOut},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:e.controlHeightSM},"&-explain":{"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning}}}),w(r,"&-with-help "+i+"-explain",{height:"auto",opacity:1}),w(r,i+"-feedback-icon",{fontSize:e.fontSize,textAlign:"center",visibility:"visible",animationName:qi,animationDuration:e.motionDurationMid,animationTimingFunction:e.motionEaseOutBack,pointerEvents:"none","&-success":{color:e.colorSuccess},"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning},"&-validating":{color:e.colorPrimary}}),r)))},pa=function(e){var t,n,r=e.componentCls,i=e.rootPrefixCls;return w({},r,(w(n={},"."+i+"-show-help",{transition:"opacity "+e.motionDurationSlow+" "+e.motionEaseInOut,"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}}}),w(n,"."+i+"-show-help-item",(w(t={overflow:"hidden",transition:"height "+e.motionDurationSlow+" "+e.motionEaseInOut+",\n                     opacity "+e.motionDurationSlow+" "+e.motionEaseInOut+",\n                     transform "+e.motionDurationSlow+" "+e.motionEaseInOut+" !important"},"&-appear,\n          &-enter",{transform:"translateY(-5px)",opacity:0,"&-active":{transform:"translateY(0)",opacity:1}}),w(t,"&-leave-active",{transform:"translateY(-5px)"}),t)),n))},va=function(e){var t,n=e.componentCls,r=e.formItemCls,i=e.rootPrefixCls;return w({},n+"-horizontal",(w(t={},r+"-label",{flexGrow:0}),w(t,r+"-control",{flex:"1 1 0",minWidth:0}),w(t,r+"-label."+i+"-col-24 + "+r+"-control",{minWidth:"unset"}),t))},ma=function(e){var t,n=e.componentCls,r=e.formItemCls;return w({},n+"-inline",w({display:"flex",flexWrap:"wrap"},r,(w(t={flex:"none",flexWrap:"nowrap",marginInlineEnd:e.margin,marginBottom:0,"&-with-help":{marginBottom:e.marginLG}},"> "+r+"-label,\n        > "+r+"-control",{display:"inline-block",verticalAlign:"top"}),w(t,"> "+r+"-label",{flex:"none"}),w(t,n+"-text",{display:"inline-block"}),w(t,r+"-has-feedback",{display:"inline-block"}),t)))},ga=function(e){return{margin:0,padding:"0 0 "+e.paddingXS+"px",whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{display:"none"}}}},ya=function(e){var t,n=e.componentCls,r=e.formItemCls,i=e.rootPrefixCls;return w(t={},n+"-vertical",w({},r,w({"&-row":{flexDirection:"column"},"&-label > label":{height:"auto"}},n+"-item-control",{width:"100%"}))),w(t,n+"-vertical "+r+"-label,\n      ."+i+"-col-24"+r+"-label,\n      ."+i+"-col-xl-24"+r+"-label",b({},ga(e))),w(t,"@media (max-width: "+e.screenSMMax+"px)",b(b({},function(e){var t,n=e.componentCls,r=e.formItemCls;return w(t={},r+" "+r+"-label",b({},ga(e))),w(t,n,w({},r,w({flexWrap:"wrap"},r+"-label,\n          "+r+"-control",{flex:"0 0 100%",maxWidth:"100%"}))),t}(e)),w({},n,w({},"."+i+"-col-xs-24"+r+"-label",b({},ga(e)))))),w(t,"@media (max-width: "+e.screenSMMax+"px)",w({},n,w({},"."+i+"-col-sm-24"+r+"-label",b({},ga(e))))),w(t,"@media (max-width: "+e.screenMDMax+"px)",w({},n,w({},"."+i+"-col-md-24"+r+"-label",b({},ga(e))))),w(t,"@media (max-width: "+e.screenLGMax+"px)",w({},n,w({},"."+i+"-col-lg-24"+r+"-label",b({},ga(e))))),t},ba=la("Form",(function(e,t){var n=t.rootPrefixCls,r=sa(e,{formItemCls:e.componentCls+"-item",rootPrefixCls:n});return[ha(r),da(r),pa(r),va(r),ma(r),ya(r),io(r),qi]})),_a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},wa=function(e,n){var r,i=t.useContext(Wn),o=t.useContext(Un),a=t.useContext(Tn),s=a.getPrefixCls,u=a.direction,l=a.form,f=e.prefixCls,h=e.className,d=void 0===h?"":h,p=e.size,m=void 0===p?i:p,g=e.disabled,y=void 0===g?o:g,_=e.form,k=e.colon,x=e.labelAlign,E=e.labelWrap,S=e.labelCol,T=e.wrapperCol,C=e.hideRequiredMark,I=e.layout,P=void 0===I?"horizontal":I,A=e.scrollToFirstError,N=e.requiredMark,R=e.onFinishFailed,O=e.name,M=_a(e,["prefixCls","className","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name"]),D=(0,t.useMemo)((function(){return void 0!==N?N:l&&void 0!==l.requiredMark?l.requiredMark:!C}),[C,N,l]),L=null!==k&&void 0!==k?k:null===l||void 0===l?void 0:l.colon,F=s("form",f),j=c(ba(F),2),z=j[0],B=j[1],V=wt()(F,(w(r={},F+"-"+P,!0),w(r,F+"-hide-required-mark",!1===D),w(r,F+"-rtl","rtl"===u),w(r,F+"-"+m,m),r),B,d),U=c(rr(_),1)[0],H=U.__INTERNAL__;H.name=O;var q=(0,t.useMemo)((function(){return{name:O,labelAlign:x,labelCol:S,labelWrap:E,wrapperCol:T,vertical:"vertical"===P,colon:L,requiredMark:D,itemRef:H.itemRef,form:U}}),[O,x,S,T,P,L,D,U]);t.useImperativeHandle(n,(function(){return U}));return z(t.createElement(Vn,{disabled:y},t.createElement(qn,{size:m},t.createElement(vt.Provider,{value:q},t.createElement(dt,b({id:O},M,{name:O,onFinishFailed:function(e){null===R||void 0===R||R(e);var t={block:"nearest"};A&&e.errorFields.length&&("object"===v(A)&&(t=A),U.scrollToField(e.errorFields[0].name,t))},form:U,className:V}))))))},ka=t.forwardRef(wa),xa=function(){return{status:(0,t.useContext)(yt).status}};xa.Context=yt;var Ea=xa,Sa=t.isValidElement;function Ta(e){return e&&Sa(e)&&e.type===t.Fragment}function Ca(e,n){return function(e,n,r){return Sa(e)?t.cloneElement(e,"function"===typeof r?r(e.props||{}):r):n}(e,e,n)}var Ia={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},Pa=(0,t.createContext)({});function Aa(e){return"object"===v(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===v(e.icon)||"function"===typeof e.icon)}function Na(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];if("class"===n)t.className=r,delete t.class;else t[n]=r;return t}),{})}function Ra(e,n,r){return r?t.createElement(e.tag,x(x({key:n},Na(e.attrs)),r),(e.children||[]).map((function(t,r){return Ra(t,"".concat(n,"-").concat(e.tag,"-").concat(r))}))):t.createElement(e.tag,x({key:n},Na(e.attrs)),(e.children||[]).map((function(t,r){return Ra(t,"".concat(n,"-").concat(e.tag,"-").concat(r))})))}function Oa(e){return Fo(e)[0]}function Ma(e){return e?Array.isArray(e)?e:[e]:[]}var Da="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",La=["icon","className","onClick","style","primaryColor","secondaryColor"],Fa={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var ja=function(e){var n,r,i=e.icon,o=e.className,a=e.onClick,s=e.style,u=e.primaryColor,c=e.secondaryColor,l=_(e,La),f=Fa;if(u&&(f={primaryColor:u,secondaryColor:c||Oa(u)}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Da,n=(0,t.useContext)(Pa).csp;(0,t.useEffect)((function(){mr(e,"@ant-design-icons",{prepend:!0,csp:n})}),[])}(),n=Aa(i),r="icon should be icon definiton, but got ".concat(i),V(n,"[@ant-design/icons] ".concat(r)),!Aa(i))return null;var h=i;return h&&"function"===typeof h.icon&&(h=x(x({},h),{},{icon:h.icon(f.primaryColor,f.secondaryColor)})),Ra(h.icon,"svg-".concat(h.name),x({className:o,onClick:a,style:s,"data-icon":h.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l))};ja.displayName="IconReact",ja.getTwoToneColors=function(){return x({},Fa)},ja.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;Fa.primaryColor=t,Fa.secondaryColor=n||Oa(t),Fa.calculated=!!n};var za=ja;function Ba(e){var t=c(Ma(e),2),n=t[0],r=t[1];return za.setTwoToneColors({primaryColor:n,secondaryColor:r})}var Va=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];Ba("#1890ff");var Ua=t.forwardRef((function(e,n){var r,i=e.className,o=e.icon,a=e.spin,s=e.rotate,u=e.tabIndex,l=e.onClick,f=e.twoToneColor,h=_(e,Va),d=t.useContext(Pa),p=d.prefixCls,v=void 0===p?"anticon":p,m=d.rootClassName,g=wt()(m,v,(w(r={},"".concat(v,"-").concat(o.name),!!o.name),w(r,"".concat(v,"-spin"),!!a||"loading"===o.name),r),i),y=u;void 0===y&&l&&(y=-1);var b=s?{msTransform:"rotate(".concat(s,"deg)"),transform:"rotate(".concat(s,"deg)")}:void 0,k=c(Ma(f),2),E=k[0],S=k[1];return t.createElement("span",x(x({role:"img","aria-label":o.name},h),{},{ref:n,tabIndex:y,onClick:l,className:g}),t.createElement(za,{icon:o,primaryColor:E,secondaryColor:S,style:b}))}));Ua.displayName="AntdIcon",Ua.getTwoToneColor=function(){var e=za.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},Ua.setTwoToneColor=Ba;var Ha=Ua,qa=function(e,n){return t.createElement(Ha,x(x({},e),{},{ref:n,icon:Ia}))};qa.displayName="CheckCircleFilled";var Wa=t.forwardRef(qa),Ka={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"},Ga=function(e,n){return t.createElement(Ha,x(x({},e),{},{ref:n,icon:Ka}))};Ga.displayName="CloseCircleFilled";var Za=t.forwardRef(Ga),Ya={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},Qa=function(e,n){return t.createElement(Ha,x(x({},e),{},{ref:n,icon:Ya}))};Qa.displayName="ExclamationCircleFilled";var $a=t.forwardRef(Qa),Xa={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},Ja=function(e,n){return t.createElement(Ha,x(x({},e),{},{ref:n,icon:Xa}))};Ja.displayName="LoadingOutlined";var es,ts=t.forwardRef(Ja),ns=It()?t.useLayoutEffect:t.useEffect,rs=ns,is=function(){if(!It()||!window.document.documentElement)return!1;if(void 0!==es)return es;var e=document.createElement("div");return e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e),es=1===e.scrollHeight,document.body.removeChild(e),es},os=["xxl","xl","lg","md","sm","xs"],as={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},ss=new Map,us=-1,cs={},ls={matchHandlers:{},dispatch:function(e){return cs=e,ss.forEach((function(e){return e(cs)})),ss.size>=1},subscribe:function(e){return ss.size||this.register(),us+=1,ss.set(us,e),e(cs),us},unsubscribe:function(e){ss.delete(e),ss.size||this.unregister()},unregister:function(){var e=this;Object.keys(as).forEach((function(t){var n=as[t],r=e.matchHandlers[n];null===r||void 0===r||r.mql.removeListener(null===r||void 0===r?void 0:r.listener)})),ss.clear()},register:function(){var e=this;Object.keys(as).forEach((function(t){var n=as[t],r=function(n){var r=n.matches;e.dispatch(b(b({},cs),w({},t,r)))},i=window.matchMedia(n);i.addListener(r),e.matchHandlers[n]={mql:i,listener:r},r(i)}))}},fs=ls,hs=(0,t.createContext)({}),ds=function(e){return w({},e.componentCls,{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around ":{justifyContent:"space-around"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}})},ps=function(e){return w({},e.componentCls,{position:"relative",maxWidth:"100%",minHeight:1})},vs=function(e,t){return function(e,t){for(var n=e.componentCls,r=e.gridColumns,i={},o=r;o>=0;o--)0===o?(i[""+n+t+"-"+o]={display:"none"},i[n+"-push-"+o]={insetInlineStart:"auto"},i[n+"-pull-"+o]={insetInlineEnd:"auto"},i[""+n+t+"-push-"+o]={insetInlineStart:"auto"},i[""+n+t+"-pull-"+o]={insetInlineEnd:"auto"},i[""+n+t+"-offset-"+o]={marginInlineEnd:0},i[""+n+t+"-order-"+o]={order:0}):(i[""+n+t+"-"+o]={display:"block",flex:"0 0 "+o/r*100+"%",maxWidth:o/r*100+"%"},i[""+n+t+"-push-"+o]={insetInlineStart:o/r*100+"%"},i[""+n+t+"-pull-"+o]={insetInlineEnd:o/r*100+"%"},i[""+n+t+"-offset-"+o]={marginInlineStart:o/r*100+"%"},i[""+n+t+"-order-"+o]={order:o});return i}(e,t)},ms=la("Grid",(function(e){return[ds(e)]})),gs=la("Grid",(function(e){var t=sa(e,{gridColumns:24}),n={"-sm":t.screenSMMin,"-md":t.screenMDMin,"-lg":t.screenLGMin,"-xl":t.screenXLMin,"-xxl":t.screenXXLMin};return[ps(t),vs(t,""),vs(t,"-xs"),Object.keys(n).map((function(e){return function(e,t,n){return w({},"@media (min-width: "+t+"px)",b({},vs(e,n)))}(t,n[e],e)})).reduce((function(e,t){return b(b({},e),t)}),{})]})),ys=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};In("top","middle","bottom","stretch"),In("start","end","center","space-around","space-between","space-evenly");function bs(e,n){var r=c(t.useState("string"===typeof e?e:""),2),i=r[0],o=r[1];return t.useEffect((function(){!function(){if("object"===v(e))for(var t=0;t<os.length;t++){var r=os[t];if(n[r]){var i=e[r];if(void 0!==i)return void o(i)}}}()}),[JSON.stringify(e),n]),i}var _s=t.forwardRef((function(e,n){var r,i=e.prefixCls,o=e.justify,a=e.align,s=e.className,u=e.style,l=e.children,f=e.gutter,h=void 0===f?0:f,d=e.wrap,p=ys(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),m=t.useContext(Tn),g=m.getPrefixCls,y=m.direction,_=c(t.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),2),k=_[0],x=_[1],E=c(t.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),2),S=E[0],T=E[1],C=bs(a,S),I=bs(o,S),P=function(){var e=c(t.useState(!1),2),n=e[0],r=e[1];return t.useEffect((function(){r(is())}),[]),n}(),A=t.useRef(h);t.useEffect((function(){var e=fs.subscribe((function(e){T(e);var t=A.current||0;(!Array.isArray(t)&&"object"===v(t)||Array.isArray(t)&&("object"===v(t[0])||"object"===v(t[1])))&&x(e)}));return function(){return fs.unsubscribe(e)}}),[]);var N=g("row",i),R=c(ms(N),2),O=R[0],M=R[1],D=function(){var e=[void 0,void 0];return(Array.isArray(h)?h:[h,void 0]).forEach((function(t,n){if("object"===v(t))for(var r=0;r<os.length;r++){var i=os[r];if(k[i]&&void 0!==t[i]){e[n]=t[i];break}}else e[n]=t})),e}(),L=wt()(N,(w(r={},N+"-no-wrap",!1===d),w(r,N+"-"+I,I),w(r,N+"-"+C,C),w(r,N+"-rtl","rtl"===y),r),s,M),F={},j=null!=D[0]&&D[0]>0?D[0]/-2:void 0,z=null!=D[1]&&D[1]>0?D[1]/-2:void 0;if(j&&(F.marginLeft=j,F.marginRight=j),P){var B=c(D,2);F.rowGap=B[1]}else z&&(F.marginTop=z,F.marginBottom=z);var V=c(D,2),U=V[0],H=V[1],q=t.useMemo((function(){return{gutter:[U,H],wrap:d,supportFlexGap:P}}),[U,H,d,P]);return O(t.createElement(hs.Provider,{value:q},t.createElement("div",b({},p,{className:L,style:b(b({},F),u),ref:n}),l)))}));var ws=_s,ks={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},xs=function(e,n){return t.createElement(Ha,x(x({},e),{},{ref:n,icon:ks}))};xs.displayName="QuestionCircleOutlined";var Es=t.forwardRef(xs),Ss=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var Ts=["xs","sm","md","lg","xl","xxl"],Cs=t.forwardRef((function(e,n){var r,i=t.useContext(Tn),o=i.getPrefixCls,a=i.direction,s=t.useContext(hs),u=s.gutter,l=s.wrap,f=s.supportFlexGap,h=e.prefixCls,d=e.span,p=e.order,m=e.offset,g=e.push,y=e.pull,_=e.className,k=e.children,x=e.flex,E=e.style,S=Ss(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),T=o("col",h),C=c(gs(T),2),I=C[0],P=C[1],A={};Ts.forEach((function(t){var n,r={},i=e[t];"number"===typeof i?r.span=i:"object"===v(i)&&(r=i||{}),delete S[t],A=b(b({},A),(w(n={},T+"-"+t+"-"+r.span,void 0!==r.span),w(n,T+"-"+t+"-order-"+r.order,r.order||0===r.order),w(n,T+"-"+t+"-offset-"+r.offset,r.offset||0===r.offset),w(n,T+"-"+t+"-push-"+r.push,r.push||0===r.push),w(n,T+"-"+t+"-pull-"+r.pull,r.pull||0===r.pull),w(n,T+"-rtl","rtl"===a),n))}));var N=wt()(T,(w(r={},T+"-"+d,void 0!==d),w(r,T+"-order-"+p,p),w(r,T+"-offset-"+m,m),w(r,T+"-push-"+g,g),w(r,T+"-pull-"+y,y),r),_,A,P),R={};if(u&&u[0]>0){var O=u[0]/2;R.paddingLeft=O,R.paddingRight=O}if(u&&u[1]>0&&!f){var M=u[1]/2;R.paddingTop=M,R.paddingBottom=M}return x&&(R.flex=function(e){return"number"===typeof e?e+" "+e+" auto":/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?"0 0 "+e:e}(x),!1!==l||R.minWidth||(R.minWidth=0)),I(t.createElement("div",b({},S,{style:b(b({},R),E),className:N,ref:n}),k))}));var Is=Cs,Ps=(0,t.createContext)(void 0),As={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Ns={lang:b({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),timePickerLocale:b({},As)},Rs="${label} is not a valid ${type}",Os={locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},DatePicker:Ns,TimePicker:As,Calendar:Ns,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Rs,method:Rs,array:Rs,object:Rs,number:Rs,date:Rs,boolean:Rs,integer:Rs,float:Rs,regexp:Rs,email:Rs,url:Rs,hex:Rs},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}},Ms=function(e){var n=e.componentName,r=void 0===n?"global":n,i=e.defaultLocale,o=e.children,a=t.useContext(Ps),s=t.useMemo((function(){var e,t=i||Os[r],n=null!==(e=null===a||void 0===a?void 0:a[r])&&void 0!==e?e:{};return b(b({},t instanceof Function?t():t),n||{})}),[r,i,a]);return o(s,t.useMemo((function(){var e=a&&a.locale;return a&&a.exist&&!e?Os.locale:e}),[a]),a)};function Ds(e,t,n,r){var i=kt.unstable_batchedUpdates?function(e){kt.unstable_batchedUpdates(n,e)}:n;return e.addEventListener&&e.addEventListener(t,i,r),{remove:function(){e.removeEventListener&&e.removeEventListener(t,i,r)}}}var Ls=(0,t.forwardRef)((function(e,n){var r=e.didUpdate,i=e.getContainer,o=e.children,a=(0,t.useRef)(),s=(0,t.useRef)();(0,t.useImperativeHandle)(n,(function(){return{}}));var u=(0,t.useRef)(!1);return!u.current&&It()&&(s.current=i(),a.current=s.current.parentNode,u.current=!0),(0,t.useEffect)((function(){null===r||void 0===r||r(e)})),(0,t.useEffect)((function(){return null===s.current.parentNode&&null!==a.current&&a.current.appendChild(s.current),function(){var e,t;null===(e=s.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(s.current)}}),[]),s.current?kt.createPortal(o,s.current):null})),Fs=Ls;function js(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}var zs=function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4))};function Bs(e){var t=e.prefixCls,n=e.motion,r=e.animation,i=e.transitionName;return n||(r?{motionName:"".concat(t,"-").concat(r)}:i?{motionName:i}:null)}function Vs(e){var n=e.prefixCls,r=e.visible,i=e.zIndex,o=e.mask,a=e.maskMotion,s=e.maskAnimation,u=e.maskTransitionName;if(!o)return null;var c={};return(a||u||s)&&(c=x({motionAppear:!0},Bs({motion:a,prefixCls:n,transitionName:u,animation:s}))),t.createElement(En,b({},c,{visible:r,removeOnLeave:!0}),(function(e){var r=e.className;return t.createElement("div",{style:{zIndex:i},className:wt()("".concat(n,"-mask"),r)})}))}var Us;function Hs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hs(Object(n),!0).forEach((function(t){Ks(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ws(e){return Ws="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ws(e)}function Ks(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gs={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function Zs(){if(void 0!==Us)return Us;Us="";var e=document.createElement("p").style;for(var t in Gs)t+"Transform"in e&&(Us=t);return Us}function Ys(){return Zs()?"".concat(Zs(),"TransitionProperty"):"transitionProperty"}function Qs(){return Zs()?"".concat(Zs(),"Transform"):"transform"}function $s(e,t){var n=Ys();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function Xs(e,t){var n=Qs();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}var Js,eu=/matrix\((.*)\)/,tu=/matrix3d\((.*)\)/;function nu(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function ru(e,t,n){var r=n;if("object"!==Ws(t))return"undefined"!==typeof r?("number"===typeof r&&(r="".concat(r,"px")),void(e.style[t]=r)):Js(e,t);for(var i in t)t.hasOwnProperty(i)&&ru(e,i,t[i])}function iu(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var i=e.document;"number"!==typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}function ou(e){return iu(e)}function au(e){return iu(e,!0)}function su(e){var t=function(e){var t,n,r,i=e.ownerDocument,o=i.body,a=i&&i.documentElement;return t=e.getBoundingClientRect(),n=Math.floor(t.left),r=Math.floor(t.top),{left:n-=a.clientLeft||o.clientLeft||0,top:r-=a.clientTop||o.clientTop||0}}(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=ou(r),t.top+=au(r),t}function uu(e){return null!==e&&void 0!==e&&e==e.window}function cu(e){return uu(e)?e.document:9===e.nodeType?e:e.ownerDocument}var lu=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),fu=/^(top|right|bottom|left)$/;function hu(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function du(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function pu(e,t,n){"static"===ru(e,"position")&&(e.style.position="relative");var r=-999,i=-999,o=hu("left",n),a=hu("top",n),s=du(o),u=du(a);"left"!==o&&(r=999),"top"!==a&&(i=999);var c="",l=su(e);("left"in t||"top"in t)&&(c=function(e){return e.style.transitionProperty||e.style[Ys()]}(e)||"",$s(e,"none")),"left"in t&&(e.style[s]="",e.style[o]="".concat(r,"px")),"top"in t&&(e.style[u]="",e.style[a]="".concat(i,"px")),nu(e);var f=su(e),h={};for(var d in t)if(t.hasOwnProperty(d)){var p=hu(d,n),v="left"===d?r:i,m=l[d]-f[d];h[p]=p===d?v+m:v-m}ru(e,h),nu(e),("left"in t||"top"in t)&&$s(e,c);var g={};for(var y in t)if(t.hasOwnProperty(y)){var b=hu(y,n),_=t[y]-l[y];g[b]=y===b?h[b]+_:h[b]-_}ru(e,g)}function vu(e,t){var n=su(e),r=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(Qs());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}(e),i={x:r.x,y:r.y};"left"in t&&(i.x=r.x+t.left-n.left),"top"in t&&(i.y=r.y+t.top-n.top),function(e,t){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("transform")||n.getPropertyValue(Qs());if(r&&"none"!==r){var i,o=r.match(eu);o?((i=(o=o[1]).split(",").map((function(e){return parseFloat(e,10)})))[4]=t.x,i[5]=t.y,Xs(e,"matrix(".concat(i.join(","),")"))):((i=r.match(tu)[1].split(",").map((function(e){return parseFloat(e,10)})))[12]=t.x,i[13]=t.y,Xs(e,"matrix3d(".concat(i.join(","),")")))}else Xs(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}(e,i)}function mu(e,t){for(var n=0;n<e.length;n++)t(e[n])}function gu(e){return"border-box"===Js(e,"boxSizing")}"undefined"!==typeof window&&(Js=window.getComputedStyle?function(e,t,n){var r=n,i="",o=cu(e);return(r=r||o.defaultView.getComputedStyle(e,null))&&(i=r.getPropertyValue(t)||r[t]),i}:function(e,t){var n=e.currentStyle&&e.currentStyle[t];if(lu.test(n)&&!fu.test(t)){var r=e.style,i=r.left,o=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,r.left="fontSize"===t?"1em":n||0,n=r.pixelLeft+"px",r.left=i,e.runtimeStyle.left=o}return""===n?"auto":n});var yu=["margin","border","padding"];function bu(e,t,n){var r,i={},o=e.style;for(r in t)t.hasOwnProperty(r)&&(i[r]=o[r],o[r]=t[r]);for(r in n.call(e),t)t.hasOwnProperty(r)&&(o[r]=i[r])}function _u(e,t,n){var r,i,o,a=0;for(i=0;i<t.length;i++)if(r=t[i])for(o=0;o<n.length;o++){var s=void 0;s="border"===r?"".concat(r).concat(n[o],"Width"):r+n[o],a+=parseFloat(Js(e,s))||0}return a}var wu={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function ku(e,t,n){var r=n;if(uu(e))return"width"===t?wu.viewportWidth(e):wu.viewportHeight(e);if(9===e.nodeType)return"width"===t?wu.docWidth(e):wu.docHeight(e);var i="width"===t?["Left","Right"]:["Top","Bottom"],o="width"===t?Math.floor(e.getBoundingClientRect().width):Math.floor(e.getBoundingClientRect().height),a=gu(e),s=0;(null===o||void 0===o||o<=0)&&(o=void 0,(null===(s=Js(e,t))||void 0===s||Number(s)<0)&&(s=e.style[t]||0),s=Math.floor(parseFloat(s))||0),void 0===r&&(r=a?1:-1);var u=void 0!==o||a,c=o||s;return-1===r?u?c-_u(e,["border","padding"],i):s:u?1===r?c:c+(2===r?-_u(e,["border"],i):_u(e,["margin"],i)):s+_u(e,yu.slice(r),i)}mu(["Width","Height"],(function(e){wu["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],wu["viewport".concat(e)](n))},wu["viewport".concat(e)]=function(t){var n="client".concat(e),r=t.document,i=r.body,o=r.documentElement[n];return"CSS1Compat"===r.compatMode&&o||i&&i[n]||o}}));var xu={position:"absolute",visibility:"hidden",display:"block"};function Eu(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t[0];return 0!==i.offsetWidth?r=ku.apply(void 0,t):bu(i,xu,(function(){r=ku.apply(void 0,t)})),r}function Su(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}mu(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);wu["outer".concat(t)]=function(t,n){return t&&Eu(t,e,n?0:1)};var n="width"===e?["Left","Right"]:["Top","Bottom"];wu[e]=function(t,r){var i=r;return void 0!==i?t?(gu(t)&&(i+=_u(t,["padding","border"],n)),ru(t,e,i)):void 0:t&&Eu(t,e,-1)}}));var Tu={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:cu,offset:function(e,t,n){if("undefined"===typeof t)return su(e);!function(e,t,n){if(n.ignoreShake){var r=su(e),i=r.left.toFixed(0),o=r.top.toFixed(0),a=t.left.toFixed(0),s=t.top.toFixed(0);if(i===a&&o===s)return}n.useCssRight||n.useCssBottom?pu(e,t,n):n.useCssTransform&&Qs()in document.body.style?vu(e,t):pu(e,t,n)}(e,t,n||{})},isWindow:uu,each:mu,css:ru,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:Su,getWindowScrollLeft:function(e){return ou(e)},getWindowScrollTop:function(e){return au(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)Tu.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};Su(Tu,wu);var Cu=Tu.getParent;function Iu(e){if(Tu.isWindow(e)||9===e.nodeType)return null;var t,n=Tu.getDocument(e).body,r=Tu.css(e,"position");if(!("fixed"===r||"absolute"===r))return"html"===e.nodeName.toLowerCase()?null:Cu(e);for(t=Cu(e);t&&t!==n&&9!==t.nodeType;t=Cu(t))if("static"!==(r=Tu.css(t,"position")))return t;return null}var Pu=Tu.getParent;function Au(e,t){for(var n={left:0,right:1/0,top:0,bottom:1/0},r=Iu(e),i=Tu.getDocument(e),o=i.defaultView||i.parentWindow,a=i.body,s=i.documentElement;r;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===r.clientWidth||r===a||r===s||"visible"===Tu.css(r,"overflow")){if(r===a||r===s)break}else{var u=Tu.offset(r);u.left+=r.clientLeft,u.top+=r.clientTop,n.top=Math.max(n.top,u.top),n.right=Math.min(n.right,u.left+r.clientWidth),n.bottom=Math.min(n.bottom,u.top+r.clientHeight),n.left=Math.max(n.left,u.left)}r=Iu(r)}var c=null;Tu.isWindow(e)||9===e.nodeType||(c=e.style.position,"absolute"===Tu.css(e,"position")&&(e.style.position="fixed"));var l=Tu.getWindowScrollLeft(o),f=Tu.getWindowScrollTop(o),h=Tu.viewportWidth(o),d=Tu.viewportHeight(o),p=s.scrollWidth,v=s.scrollHeight,m=window.getComputedStyle(a);if("hidden"===m.overflowX&&(p=o.innerWidth),"hidden"===m.overflowY&&(v=o.innerHeight),e.style&&(e.style.position=c),t||function(e){if(Tu.isWindow(e)||9===e.nodeType)return!1;var t=Tu.getDocument(e),n=t.body,r=null;for(r=Pu(e);r&&r!==n&&r!==t;r=Pu(r))if("fixed"===Tu.css(r,"position"))return!0;return!1}(e))n.left=Math.max(n.left,l),n.top=Math.max(n.top,f),n.right=Math.min(n.right,l+h),n.bottom=Math.min(n.bottom,f+d);else{var g=Math.max(p,l+h);n.right=Math.min(n.right,g);var y=Math.max(v,f+d);n.bottom=Math.min(n.bottom,y)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function Nu(e){var t,n,r;if(Tu.isWindow(e)||9===e.nodeType){var i=Tu.getWindow(e);t={left:Tu.getWindowScrollLeft(i),top:Tu.getWindowScrollTop(i)},n=Tu.viewportWidth(i),r=Tu.viewportHeight(i)}else t=Tu.offset(e),n=Tu.outerWidth(e),r=Tu.outerHeight(e);return t.width=n,t.height=r,t}function Ru(e,t){var n=t.charAt(0),r=t.charAt(1),i=e.width,o=e.height,a=e.left,s=e.top;return"c"===n?s+=o/2:"b"===n&&(s+=o),"c"===r?a+=i/2:"r"===r&&(a+=i),{left:a,top:s}}function Ou(e,t,n,r,i){var o=Ru(t,n[1]),a=Ru(e,n[0]),s=[a.left-o.left,a.top-o.top];return{left:Math.round(e.left-s[0]+r[0]-i[0]),top:Math.round(e.top-s[1]+r[1]-i[1])}}function Mu(e,t,n){return e.left<n.left||e.left+t.width>n.right}function Du(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function Lu(e,t,n){var r=[];return Tu.each(e,(function(e){r.push(e.replace(t,(function(e){return n[e]})))})),r}function Fu(e,t){return e[t]=-e[t],e}function ju(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function zu(e,t){e[0]=ju(e[0],t.width),e[1]=ju(e[1],t.height)}function Bu(e,t,n,r){var i=n.points,o=n.offset||[0,0],a=n.targetOffset||[0,0],s=n.overflow,u=n.source||e;o=[].concat(o),a=[].concat(a);var c={},l=0,f=Au(u,!(!(s=s||{})||!s.alwaysByViewport)),h=Nu(u);zu(o,h),zu(a,t);var d=Ou(h,t,i,o,a),p=Tu.merge(h,d);if(f&&(s.adjustX||s.adjustY)&&r){if(s.adjustX&&Mu(d,h,f)){var v=Lu(i,/[lr]/gi,{l:"r",r:"l"}),m=Fu(o,0),g=Fu(a,0);(function(e,t,n){return e.left>n.right||e.left+t.width<n.left})(Ou(h,t,v,m,g),h,f)||(l=1,i=v,o=m,a=g)}if(s.adjustY&&Du(d,h,f)){var y=Lu(i,/[tb]/gi,{t:"b",b:"t"}),b=Fu(o,1),_=Fu(a,1);(function(e,t,n){return e.top>n.bottom||e.top+t.height<n.top})(Ou(h,t,y,b,_),h,f)||(l=1,i=y,o=b,a=_)}l&&(d=Ou(h,t,i,o,a),Tu.mix(p,d));var w=Mu(d,h,f),k=Du(d,h,f);if(w||k){var x=i;w&&(x=Lu(i,/[lr]/gi,{l:"r",r:"l"})),k&&(x=Lu(i,/[tb]/gi,{t:"b",b:"t"})),i=x,o=n.offset||[0,0],a=n.targetOffset||[0,0]}c.adjustX=s.adjustX&&w,c.adjustY=s.adjustY&&k,(c.adjustX||c.adjustY)&&(p=function(e,t,n,r){var i=Tu.clone(e),o={width:t.width,height:t.height};return r.adjustX&&i.left<n.left&&(i.left=n.left),r.resizeWidth&&i.left>=n.left&&i.left+o.width>n.right&&(o.width-=i.left+o.width-n.right),r.adjustX&&i.left+o.width>n.right&&(i.left=Math.max(n.right-o.width,n.left)),r.adjustY&&i.top<n.top&&(i.top=n.top),r.resizeHeight&&i.top>=n.top&&i.top+o.height>n.bottom&&(o.height-=i.top+o.height-n.bottom),r.adjustY&&i.top+o.height>n.bottom&&(i.top=Math.max(n.bottom-o.height,n.top)),Tu.mix(i,o)}(d,h,f,c))}return p.width!==h.width&&Tu.css(u,"width",Tu.width(u)+p.width-h.width),p.height!==h.height&&Tu.css(u,"height",Tu.height(u)+p.height-h.height),Tu.offset(u,{left:p.left,top:p.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:i,offset:o,targetOffset:a,overflow:c}}function Vu(e,t,n){var r=n.target||t,i=Nu(r),o=!function(e,t){var n=Au(e,t),r=Nu(e);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}(r,n.overflow&&n.overflow.alwaysByViewport);return Bu(e,i,n,o)}Vu.__getOffsetParent=Iu,Vu.__getVisibleRectForElement=Au;var Uu=n(8111),Hu=n.n(Uu),qu=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),Wu="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,Ku="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),Gu="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(Ku):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var Zu=["top","right","bottom","left","width","height","size","weight"],Yu="undefined"!==typeof MutationObserver,Qu=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&s()}function a(){Gu(o)}function s(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(a,t);i=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){Wu&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Yu?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){Wu&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;Zu.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),$u=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},Xu=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||Ku},Ju=oc(0,0,0,0);function ec(e){return parseFloat(e)||0}function tc(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+ec(e["border-"+n+"-width"])}),0)}function nc(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return Ju;var r=Xu(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=ec(o)}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=ec(r.width),u=ec(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=tc(r,"left","right")+o),Math.round(u+a)!==n&&(u-=tc(r,"top","bottom")+a)),!function(e){return e===Xu(e).document.documentElement}(e)){var c=Math.round(s+o)-t,l=Math.round(u+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(l)&&(u-=l)}return oc(i.left,i.top,s,u)}var rc="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof Xu(e).SVGGraphicsElement}:function(e){return e instanceof Xu(e).SVGElement&&"function"===typeof e.getBBox};function ic(e){return Wu?rc(e)?function(e){var t=e.getBBox();return oc(0,0,t.width,t.height)}(e):nc(e):Ju}function oc(e,t,n,r){return{x:e,y:t,width:n,height:r}}var ac=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=oc(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=ic(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),sc=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return $u(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}(t);$u(this,{target:e,contentRect:n})},uc=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new qu,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof Xu(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new ac(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof Xu(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new sc(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),cc="undefined"!==typeof WeakMap?new WeakMap:new qu,lc=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Qu.getInstance(),r=new uc(t,n,this);cc.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){lc.prototype[e]=function(){var t;return(t=cc.get(this))[e].apply(t,arguments)}}));var fc="undefined"!==typeof Ku.ResizeObserver?Ku.ResizeObserver:lc;function hc(e,t){var n=null,r=null;var i=new fc((function(e){var i=c(e,1)[0].target;if(document.documentElement.contains(i)){var o=i.getBoundingClientRect(),a=o.width,s=o.height,u=Math.floor(a),l=Math.floor(s);n===u&&r===l||Promise.resolve().then((function(){t({width:u,height:l})})),n=u,r=l}}));return e&&i.observe(e),function(){i.disconnect()}}function dc(e){return"function"!==typeof e?null:e()}function pc(e){return"object"===v(e)&&e?e:null}var vc=function(e,n){var r=e.children,i=e.disabled,o=e.target,a=e.align,s=e.onAlign,u=e.monitorWindowResize,l=e.monitorBufferTime,f=void 0===l?0:l,h=t.useRef({}),d=t.useRef(),p=t.Children.only(r),v=t.useRef({});v.current.disabled=i,v.current.target=o,v.current.align=a,v.current.onAlign=s;var m=function(e,n){var r=t.useRef(!1),i=t.useRef(null);function o(){window.clearTimeout(i.current)}return[function t(a){if(o(),r.current&&!0!==a)i.current=window.setTimeout((function(){r.current=!1,t()}),n);else{if(!1===e())return;r.current=!0,i.current=window.setTimeout((function(){r.current=!1}),n)}},function(){r.current=!1,o()}]}((function(){var e=v.current,t=e.disabled,n=e.target,r=e.align,i=e.onAlign;if(!t&&n){var o,a=d.current,s=dc(n),u=pc(n);h.current.element=s,h.current.point=u,h.current.align=r;var c=document.activeElement;return s&&function(e){if(!e)return!1;if(e instanceof HTMLElement&&e.offsetParent)return!0;if(e instanceof SVGGraphicsElement&&e.getBBox){var t=e.getBBox(),n=t.width,r=t.height;if(n||r)return!0}if(e instanceof HTMLElement&&e.getBoundingClientRect){var i=e.getBoundingClientRect(),o=i.width,a=i.height;if(o||a)return!0}return!1}(s)?o=Vu(a,s,r):u&&(o=function(e,t,n){var r,i,o=Tu.getDocument(e),a=o.defaultView||o.parentWindow,s=Tu.getWindowScrollLeft(a),u=Tu.getWindowScrollTop(a),c=Tu.viewportWidth(a),l=Tu.viewportHeight(a),f={left:r="pageX"in t?t.pageX:s+t.clientX,top:i="pageY"in t?t.pageY:u+t.clientY,width:0,height:0},h=r>=0&&r<=s+c&&i>=0&&i<=u+l,d=[n.points[0],"cc"];return Bu(e,f,qs(qs({},n),{},{points:d}),h)}(a,u,r)),function(e,t){e!==document.activeElement&&ir(t,e)&&"function"===typeof e.focus&&e.focus()}(c,a),i&&o&&i(a,o),!0}return!1}),f),g=c(m,2),y=g[0],b=g[1],_=t.useRef({cancel:function(){}}),w=t.useRef({cancel:function(){}});t.useEffect((function(){var e=dc(o),t=pc(o);d.current!==w.current.element&&(w.current.cancel(),w.current.element=d.current,w.current.cancel=hc(d.current,y)),h.current.element===e&&function(e,t){return e===t||!(!e||!t)&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&e.clientX===t.clientX&&e.clientY===t.clientY)}(h.current.point,t)&&Hu()(h.current.align,a)||(y(),_.current.element!==e&&(_.current.cancel(),_.current.element=e,_.current.cancel=hc(e,y)))})),t.useEffect((function(){i?b():y()}),[i]);var k=t.useRef(null);return t.useEffect((function(){u?k.current||(k.current=Ds(window,"resize",y)):k.current&&(k.current.remove(),k.current=null)}),[u]),t.useEffect((function(){return function(){_.current.cancel(),w.current.cancel(),k.current&&k.current.remove(),b()}}),[]),t.useImperativeHandle(n,(function(){return{forceAlign:function(){return y(!0)}}})),t.isValidElement(p)&&(p=t.cloneElement(p,{ref:Tt(p.ref,d)})),p},mc=t.forwardRef(vc);mc.displayName="Align";var gc=mc,yc=["measure","alignPre","align",null,"motion"],bc=t.forwardRef((function(e,n){var r=e.visible,i=e.prefixCls,o=e.className,a=e.style,s=e.children,u=e.zIndex,l=e.stretch,f=e.destroyPopupOnHide,h=e.forceRender,d=e.align,p=e.point,v=e.getRootDomNode,g=e.getClassNameFromAlign,_=e.onAlign,w=e.onMouseEnter,k=e.onMouseLeave,E=e.onMouseDown,S=e.onTouchStart,T=e.onClick,C=(0,t.useRef)(),I=(0,t.useRef)(),P=c((0,t.useState)(),2),A=P[0],N=P[1],R=function(e){var n=c(t.useState({width:0,height:0}),2),r=n[0],i=n[1];return[t.useMemo((function(){var t={};if(e){var n=r.width,i=r.height;-1!==e.indexOf("height")&&i?t.height=i:-1!==e.indexOf("minHeight")&&i&&(t.minHeight=i),-1!==e.indexOf("width")&&n?t.width=n:-1!==e.indexOf("minWidth")&&n&&(t.minWidth=n)}return t}),[e,r]),function(e){var t=e.offsetWidth,n=e.offsetHeight,r=e.getBoundingClientRect(),o=r.width,a=r.height;Math.abs(t-o)<1&&Math.abs(n-a)<1&&(t=o,n=a),i({width:t,height:n})}]}(l),O=c(R,2),M=O[0],D=O[1];var L=function(e,n){var r=c(Qt(null),2),i=r[0],o=r[1],a=(0,t.useRef)();function s(e){o(e,!0)}function u(){rn.cancel(a.current)}return(0,t.useEffect)((function(){s("measure")}),[e]),(0,t.useEffect)((function(){"measure"===i&&n(),i&&(a.current=rn(y(m().mark((function e(){var t,n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=yc.indexOf(i),(n=yc[t+1])&&-1!==t&&s(n);case 3:case"end":return e.stop()}}),e)})))))}),[i]),(0,t.useEffect)((function(){return function(){u()}}),[]),[i,function(e){u(),a.current=rn((function(){s((function(e){switch(i){case"align":return"motion";case"motion":return"stable"}return e})),null===e||void 0===e||e()}))}]}(r,(function(){l&&D(v())})),F=c(L,2),j=F[0],z=F[1],B=c((0,t.useState)(0),2),V=B[0],U=B[1],H=(0,t.useRef)();function q(){var e;null===(e=C.current)||void 0===e||e.forceAlign()}function W(e,t){var n=g(t);A!==n&&N(n),U((function(e){return e+1})),"align"===j&&(null===_||void 0===_||_(e,t))}rs((function(){"alignPre"===j&&U(0)}),[j]),rs((function(){"align"===j&&(V<3?q():z((function(){var e;null===(e=H.current)||void 0===e||e.call(H)})))}),[V]);var K=x({},Bs(e));function G(){return new Promise((function(e){H.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=K[e];K[e]=function(e,n){return z(),null===t||void 0===t?void 0:t(e,n)}})),t.useEffect((function(){K.motionName||"motion"!==j||z()}),[K.motionName,j]),t.useImperativeHandle(n,(function(){return{forceAlign:q,getElement:function(){return I.current}}}));var Z=x(x({},M),{},{zIndex:u,opacity:"motion"!==j&&"stable"!==j&&r?0:void 0,pointerEvents:r||"stable"===j?void 0:"none"},a),Y=!0;null===d||void 0===d||!d.points||"align"!==j&&"stable"!==j||(Y=!1);var Q=s;return t.Children.count(s)>1&&(Q=t.createElement("div",{className:"".concat(i,"-content")},s)),t.createElement(En,b({visible:r,ref:I,leavedClassName:"".concat(i,"-hidden")},K,{onAppearPrepare:G,onEnterPrepare:G,removeOnLeave:f,forceRender:h}),(function(e,n){var r=e.className,a=e.style,s=wt()(i,o,A,r);return t.createElement(gc,{target:p||v,key:"popup",ref:C,monitorWindowResize:!0,disabled:Y,align:d,onAlign:W},t.createElement("div",{ref:n,className:s,onMouseEnter:w,onMouseLeave:k,onMouseDownCapture:E,onTouchStartCapture:S,onClick:T,style:x(x({},a),Z)},Q))}))}));bc.displayName="PopupInner";var _c=bc,wc=t.forwardRef((function(e,n){var r=e.prefixCls,i=e.visible,o=e.zIndex,a=e.children,s=e.mobile,u=(s=void 0===s?{}:s).popupClassName,c=s.popupStyle,l=s.popupMotion,f=void 0===l?{}:l,h=s.popupRender,d=e.onClick,p=t.useRef();t.useImperativeHandle(n,(function(){return{forceAlign:function(){},getElement:function(){return p.current}}}));var v=x({zIndex:o},c),m=a;return t.Children.count(a)>1&&(m=t.createElement("div",{className:"".concat(r,"-content")},a)),h&&(m=h(m)),t.createElement(En,b({visible:i,ref:p,removeOnLeave:!0},f),(function(e,n){var i=e.className,o=e.style,a=wt()(r,u,i);return t.createElement("div",{ref:n,className:a,onClick:d,style:x(x({},o),v)},m)}))}));wc.displayName="MobilePopupInner";var kc=wc,xc=["visible","mobile"],Ec=t.forwardRef((function(e,n){var r=e.visible,i=e.mobile,o=_(e,xc),a=c((0,t.useState)(r),2),s=a[0],u=a[1],l=c((0,t.useState)(!1),2),f=l[0],h=l[1],d=x(x({},o),{},{visible:s});(0,t.useEffect)((function(){u(r),r&&i&&h(zs())}),[r,i]);var p=f?t.createElement(kc,b({},d,{mobile:i,ref:n})):t.createElement(_c,b({},d,{ref:n}));return t.createElement("div",null,t.createElement(Vs,d),p)}));Ec.displayName="Popup";var Sc=Ec,Tc=t.createContext(null);function Cc(){}function Ic(){return""}function Pc(e){return e?e.ownerDocument:window.document}var Ac=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];var Nc=function(e){var n=function(n){N(i,n);var r=D(i);function i(e){var n,o;return T(this,i),w(P(n=r.call(this,e)),"popupRef",t.createRef()),w(P(n),"triggerRef",t.createRef()),w(P(n),"portalContainer",void 0),w(P(n),"attachId",void 0),w(P(n),"clickOutsideHandler",void 0),w(P(n),"touchOutsideHandler",void 0),w(P(n),"contextMenuOutsideHandler1",void 0),w(P(n),"contextMenuOutsideHandler2",void 0),w(P(n),"mouseDownTimeout",void 0),w(P(n),"focusTime",void 0),w(P(n),"preClickTime",void 0),w(P(n),"preTouchTime",void 0),w(P(n),"delayTimer",void 0),w(P(n),"hasPopupMouseDown",void 0),w(P(n),"onMouseEnter",(function(e){var t=n.props.mouseEnterDelay;n.fireEvents("onMouseEnter",e),n.delaySetPopupVisible(!0,t,t?null:e)})),w(P(n),"onMouseMove",(function(e){n.fireEvents("onMouseMove",e),n.setPoint(e)})),w(P(n),"onMouseLeave",(function(e){n.fireEvents("onMouseLeave",e),n.delaySetPopupVisible(!1,n.props.mouseLeaveDelay)})),w(P(n),"onPopupMouseEnter",(function(){n.clearDelayTimer()})),w(P(n),"onPopupMouseLeave",(function(e){var t;e.relatedTarget&&!e.relatedTarget.setTimeout&&ir(null===(t=n.popupRef.current)||void 0===t?void 0:t.getElement(),e.relatedTarget)||n.delaySetPopupVisible(!1,n.props.mouseLeaveDelay)})),w(P(n),"onFocus",(function(e){n.fireEvents("onFocus",e),n.clearDelayTimer(),n.isFocusToShow()&&(n.focusTime=Date.now(),n.delaySetPopupVisible(!0,n.props.focusDelay))})),w(P(n),"onMouseDown",(function(e){n.fireEvents("onMouseDown",e),n.preClickTime=Date.now()})),w(P(n),"onTouchStart",(function(e){n.fireEvents("onTouchStart",e),n.preTouchTime=Date.now()})),w(P(n),"onBlur",(function(e){n.fireEvents("onBlur",e),n.clearDelayTimer(),n.isBlurToHide()&&n.delaySetPopupVisible(!1,n.props.blurDelay)})),w(P(n),"onContextMenu",(function(e){e.preventDefault(),n.fireEvents("onContextMenu",e),n.setPopupVisible(!0,e)})),w(P(n),"onContextMenuClose",(function(){n.isContextMenuToShow()&&n.close()})),w(P(n),"onClick",(function(e){if(n.fireEvents("onClick",e),n.focusTime){var t;if(n.preClickTime&&n.preTouchTime?t=Math.min(n.preClickTime,n.preTouchTime):n.preClickTime?t=n.preClickTime:n.preTouchTime&&(t=n.preTouchTime),Math.abs(t-n.focusTime)<20)return;n.focusTime=0}n.preClickTime=0,n.preTouchTime=0,n.isClickToShow()&&(n.isClickToHide()||n.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var r=!n.state.popupVisible;(n.isClickToHide()&&!r||r&&n.isClickToShow())&&n.setPopupVisible(!n.state.popupVisible,e)})),w(P(n),"onPopupMouseDown",(function(){var e;(n.hasPopupMouseDown=!0,clearTimeout(n.mouseDownTimeout),n.mouseDownTimeout=window.setTimeout((function(){n.hasPopupMouseDown=!1}),0),n.context)&&(e=n.context).onPopupMouseDown.apply(e,arguments)})),w(P(n),"onDocumentClick",(function(e){if(!n.props.mask||n.props.maskClosable){var t=e.target,r=n.getRootDomNode(),i=n.getPopupDomNode();ir(r,t)&&!n.isContextMenuOnly()||ir(i,t)||n.hasPopupMouseDown||n.close()}})),w(P(n),"getRootDomNode",(function(){var e=n.props.getTriggerDOMNode;if(e)return e(n.triggerRef.current);try{var t=xt(n.triggerRef.current);if(t)return t}catch(r){}return kt.findDOMNode(P(n))})),w(P(n),"getPopupClassNameFromAlign",(function(e){var t=[],r=n.props,i=r.popupPlacement,o=r.builtinPlacements,a=r.prefixCls,s=r.alignPoint,u=r.getPopupClassNameFromAlign;return i&&o&&t.push(function(e,t,n,r){for(var i=n.points,o=Object.keys(e),a=0;a<o.length;a+=1){var s=o[a];if(js(e[s].points,i,r))return"".concat(t,"-placement-").concat(s)}return""}(o,a,e,s)),u&&t.push(u(e)),t.join(" ")})),w(P(n),"getComponent",(function(){var e=n.props,r=e.prefixCls,i=e.destroyPopupOnHide,o=e.popupClassName,a=e.onPopupAlign,s=e.popupMotion,u=e.popupAnimation,c=e.popupTransitionName,l=e.popupStyle,f=e.mask,h=e.maskAnimation,d=e.maskTransitionName,p=e.maskMotion,v=e.zIndex,m=e.popup,g=e.stretch,y=e.alignPoint,_=e.mobile,w=e.forceRender,k=e.onPopupClick,x=n.state,E=x.popupVisible,S=x.point,T=n.getPopupAlign(),C={};return n.isMouseEnterToShow()&&(C.onMouseEnter=n.onPopupMouseEnter),n.isMouseLeaveToHide()&&(C.onMouseLeave=n.onPopupMouseLeave),C.onMouseDown=n.onPopupMouseDown,C.onTouchStart=n.onPopupMouseDown,t.createElement(Sc,b({prefixCls:r,destroyPopupOnHide:i,visible:E,point:y&&S,className:o,align:T,onAlign:a,animation:u,getClassNameFromAlign:n.getPopupClassNameFromAlign},C,{stretch:g,getRootDomNode:n.getRootDomNode,style:l,mask:f,zIndex:v,transitionName:c,maskAnimation:h,maskTransitionName:d,maskMotion:p,ref:n.popupRef,motion:s,mobile:_,forceRender:w,onClick:k}),"function"===typeof m?m():m)})),w(P(n),"attachParent",(function(e){rn.cancel(n.attachId);var t,r=n.props,i=r.getPopupContainer,o=r.getDocument,a=n.getRootDomNode();i?(a||0===i.length)&&(t=i(a)):t=o(n.getRootDomNode()).body,t?t.appendChild(e):n.attachId=rn((function(){n.attachParent(e)}))})),w(P(n),"getContainer",(function(){if(!n.portalContainer){var e=(0,n.props.getDocument)(n.getRootDomNode()).createElement("div");e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",n.portalContainer=e}return n.attachParent(n.portalContainer),n.portalContainer})),w(P(n),"setPoint",(function(e){n.props.alignPoint&&e&&n.setState({point:{pageX:e.pageX,pageY:e.pageY}})})),w(P(n),"handlePortalUpdate",(function(){n.state.prevPopupVisible!==n.state.popupVisible&&n.props.afterPopupVisibleChange(n.state.popupVisible)})),w(P(n),"triggerContextValue",{onPopupMouseDown:n.onPopupMouseDown}),o="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,n.state={prevPopupVisible:o,popupVisible:o},Ac.forEach((function(e){n["fire".concat(e)]=function(t){n.fireEvents(e,t)}})),n}return I(i,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=Ds(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=Ds(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=Ds(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=Ds(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),rn.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,r=e.builtinPlacements;return t&&r?function(e,t,n){return x(x({},e[t]||{}),n)}(r,t,n):n}},{key:"setPopupVisible",value:function(e,t){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:r}),this.props.onPopupVisibleChange(e)),n&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,n){var r=this,i=1e3*t;if(this.clearDelayTimer(),i){var o=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){r.setPopupVisible(e,o),r.clearDelayTimer()}),i)}else this.setPopupVisible(e,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire".concat(e)]:t[e]||n[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var e=this.props.action;return"contextMenu"===e||1===e.length&&"contextMenu"===e[0]}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var n=this.state.popupVisible,r=this.props,i=r.children,o=r.forceRender,a=r.alignPoint,s=r.className,u=r.autoDestroy,c=t.Children.only(i),l={key:"trigger"};this.isContextMenuToShow()?l.onContextMenu=this.onContextMenu:l.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(l.onClick=this.onClick,l.onMouseDown=this.onMouseDown,l.onTouchStart=this.onTouchStart):(l.onClick=this.createTwoChains("onClick"),l.onMouseDown=this.createTwoChains("onMouseDown"),l.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(l.onMouseEnter=this.onMouseEnter,a&&(l.onMouseMove=this.onMouseMove)):l.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?l.onMouseLeave=this.onMouseLeave:l.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(l.onFocus=this.onFocus,l.onBlur=this.onBlur):(l.onFocus=this.createTwoChains("onFocus"),l.onBlur=this.createTwoChains("onBlur"));var f=wt()(c&&c.props&&c.props.className,s);f&&(l.className=f);var h=x({},l);Ct(c)&&(h.ref=Tt(this.triggerRef,c.ref));var d,p=t.cloneElement(c,h);return(n||this.popupRef.current||o)&&(d=t.createElement(e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!n&&u&&(d=null),t.createElement(Tc.Provider,{value:this.triggerContextValue},p,d)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.popupVisible,r={};return void 0!==n&&t.popupVisible!==n&&(r.popupVisible=n,r.prevPopupVisible=t.popupVisible),r}}]),i}(t.Component);return w(n,"contextType",Tc),w(n,"defaultProps",{prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:Ic,getDocument:Pc,onPopupVisibleChange:Cc,afterPopupVisibleChange:Cc,onPopupAlign:Cc,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1}),n}(Fs),Rc={adjustX:1,adjustY:1},Oc=[0,0],Mc={left:{points:["cr","cl"],overflow:Rc,offset:[-4,0],targetOffset:Oc},right:{points:["cl","cr"],overflow:Rc,offset:[4,0],targetOffset:Oc},top:{points:["bc","tc"],overflow:Rc,offset:[0,-4],targetOffset:Oc},bottom:{points:["tc","bc"],overflow:Rc,offset:[0,4],targetOffset:Oc},topLeft:{points:["bl","tl"],overflow:Rc,offset:[0,-4],targetOffset:Oc},leftTop:{points:["tr","tl"],overflow:Rc,offset:[-4,0],targetOffset:Oc},topRight:{points:["br","tr"],overflow:Rc,offset:[0,-4],targetOffset:Oc},rightTop:{points:["tl","tr"],overflow:Rc,offset:[4,0],targetOffset:Oc},bottomRight:{points:["tr","br"],overflow:Rc,offset:[0,4],targetOffset:Oc},rightBottom:{points:["bl","br"],overflow:Rc,offset:[4,0],targetOffset:Oc},bottomLeft:{points:["tl","bl"],overflow:Rc,offset:[0,4],targetOffset:Oc},leftBottom:{points:["br","bl"],overflow:Rc,offset:[-4,0],targetOffset:Oc}};function Dc(e){var n=e.showArrow,r=e.arrowContent,i=e.children,o=e.prefixCls,a=e.id,s=e.overlayInnerStyle,u=e.className,c=e.style;return t.createElement("div",{className:wt()("".concat(o,"-content"),u),style:c},!1!==n&&t.createElement("div",{className:"".concat(o,"-arrow"),key:"arrow"},r),t.createElement("div",{className:"".concat(o,"-inner"),id:a,role:"tooltip",style:s},"function"===typeof i?i():i))}var Lc,Fc=function(e,n){var r=e.overlayClassName,i=e.trigger,o=void 0===i?["hover"]:i,a=e.mouseEnterDelay,s=void 0===a?0:a,u=e.mouseLeaveDelay,c=void 0===u?.1:u,l=e.overlayStyle,f=e.prefixCls,h=void 0===f?"rc-tooltip":f,d=e.children,p=e.onVisibleChange,m=e.afterVisibleChange,g=e.transitionName,y=e.animation,w=e.motion,k=e.placement,E=void 0===k?"right":k,S=e.align,T=void 0===S?{}:S,C=e.destroyTooltipOnHide,I=void 0!==C&&C,P=e.defaultVisible,A=e.getTooltipContainer,N=e.overlayInnerStyle,R=e.arrowContent,O=e.overlay,M=e.id,D=e.showArrow,L=_(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"]),F=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(function(){return F.current}));var j=x({},L);"visible"in e&&(j.popupVisible=e.visible);var z=!1,B=!1;if("boolean"===typeof I)z=I;else if(I&&"object"===v(I)){var V=I.keepParent;z=!0===V,B=!1===V}return t.createElement(Nc,b({popupClassName:r,prefixCls:h,popup:function(){return t.createElement(Dc,{showArrow:D,arrowContent:R,key:"content",prefixCls:h,id:M,overlayInnerStyle:N},O)},action:o,builtinPlacements:Mc,popupPlacement:E,ref:F,popupAlign:T,getPopupContainer:A,onPopupVisibleChange:p,afterPopupVisibleChange:m,popupTransitionName:g,popupAnimation:y,popupMotion:w,defaultPopupVisible:P,destroyPopupOnHide:z,autoDestroy:B,mouseLeaveDelay:c,popupStyle:l,mouseEnterDelay:s},j),d)},jc=(0,t.forwardRef)(Fc);function zc(e){var n=t.useRef();n.current=e;var r=t.useCallback((function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return null===(e=n.current)||void 0===e?void 0:e.call.apply(e,[n].concat(r))}),[]);return r}function Bc(e){return void 0!==e}function Vc(e,n){var r=n||{},i=r.defaultValue,o=r.value,a=r.onChange,s=r.postState,u=c(Qt((function(){var t,n=void 0;return Bc(o)?(n=o,t=Lc.PROP):Bc(i)?(n="function"===typeof i?i():i,t=Lc.PROP):(n="function"===typeof e?e():e,t=Lc.INNER),[n,t,n]})),2),l=u[0],f=u[1],h=Bc(o)?o:l[0],d=s?s(h):h;!function(e,n){var r=t.useRef(!0);ns((function(){if(!r.current)return e()}),n),ns((function(){return r.current=!1,function(){r.current=!0}}),[])}((function(){f((function(e){var t=c(e,1)[0];return[o,Lc.PROP,t]}))}),[o]);var p=t.useRef(),v=zc((function(e,t){f((function(t){var n=c(t,3),r=n[0],i=n[1],o=n[2],a="function"===typeof e?e(r):e;if(a===r)return t;var s=i===Lc.INNER&&p.current!==o?o:r;return[a,Lc.INNER,s]}),t)})),m=zc(a);return rs((function(){var e=c(l,3),t=e[0],n=e[1],r=e[2];t!==r&&n===Lc.INNER&&(m(t,r),p.current=r)}),[l]),[d,v]}!function(e){e[e.INNER=0]="INNER",e[e.PROP=1]="PROP"}(Lc||(Lc={}));var Uc={adjustX:1,adjustY:1},Hc={adjustX:0,adjustY:0},qc=[0,0];function Wc(e){return"boolean"===typeof e?e?Uc:Hc:b(b({},Hc),e)}var Kc=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"],Gc=function(e,t,n,r,i){var o=e/2,a=o-n*(Math.sqrt(2)-1),s=o,u=o+n*(1-1/Math.sqrt(2)),c=o-n*(1-1/Math.sqrt(2)),l=2*o-t*(1/Math.sqrt(2)),f=t*(1/Math.sqrt(2)),h=4*o-l,d=f,p=4*o-u,v=c,m=4*o-a,g=s;return{borderRadius:{_skip_check_:!0,value:"0 0 "+t+"px"},pointerEvents:"none",width:2*e,height:2*e,overflow:"hidden","&::after":{content:'""',position:"absolute",width:e/Math.sqrt(2),height:e/Math.sqrt(2),bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:"0 0 "+t+"px 0"},transform:"translateY(50%) rotate(-135deg)",boxShadow:i,zIndex:0,background:"transparent"},"&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:2*e,height:e/2,background:r,clipPath:"path('M "+a+" "+s+" A "+n+" "+n+" 0 0 0 "+u+" "+c+" L "+l+" "+f+" A "+t+" "+t+" 0 0 1 "+h+" "+d+" L "+p+" "+v+" A "+n+" "+n+" 0 0 0 "+m+" "+g+" Z')",content:'""'}}};function Zc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.map((function(e){return""+t+e})).join(",")}function Yc(e,t){var n,r=e.componentCls,i=e.sizePopupArrow,o=e.marginXXS,a=e.borderRadiusXS,s=e.borderRadiusOuter,u=e.boxShadowPopoverArrow,c=t.colorBg,l=t.showArrowCls,f=t.contentRadius,h=function(e){var t=e.sizePopupArrow,n=e.contentRadius,r=e.borderRadiusOuter,i=e.limitVerticalRadius,o=t/2-Math.ceil(r*(Math.sqrt(2)-1)),a=(n>12?n+2:12)-o;return{dropdownArrowOffset:a,dropdownArrowOffsetVertical:i?8-o:a}}({sizePopupArrow:i,contentRadius:void 0===f?e.borderRadiusLG:f,borderRadiusOuter:s,limitVerticalRadius:t.limitVerticalRadius}),d=h.dropdownArrowOffsetVertical,p=h.dropdownArrowOffset,v=i/2+o;return w({},r,(w(n={},r+"-arrow",[b(b({position:"absolute",zIndex:1,display:"block"},Gc(i,a,s,c,u)),{"&:before":{background:c}})]),w(n,["&-placement-top "+r+"-arrow","&-placement-topLeft "+r+"-arrow","&-placement-topRight "+r+"-arrow"].join(","),{bottom:0,transform:"translateY(100%) rotate(180deg)"}),w(n,"&-placement-top "+r+"-arrow",{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"}),w(n,"&-placement-topLeft "+r+"-arrow",{left:{_skip_check_:!0,value:p}}),w(n,"&-placement-topRight "+r+"-arrow",{right:{_skip_check_:!0,value:p}}),w(n,["&-placement-bottom "+r+"-arrow","&-placement-bottomLeft "+r+"-arrow","&-placement-bottomRight "+r+"-arrow"].join(","),{top:0,transform:"translateY(-100%)"}),w(n,"&-placement-bottom "+r+"-arrow",{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"}),w(n,"&-placement-bottomLeft "+r+"-arrow",{left:{_skip_check_:!0,value:p}}),w(n,"&-placement-bottomRight "+r+"-arrow",{right:{_skip_check_:!0,value:p}}),w(n,["&-placement-left "+r+"-arrow","&-placement-leftTop "+r+"-arrow","&-placement-leftBottom "+r+"-arrow"].join(","),{right:{_skip_check_:!0,value:0},transform:"translateX(100%) rotate(90deg)"}),w(n,"&-placement-left "+r+"-arrow",{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"}),w(n,"&-placement-leftTop "+r+"-arrow",{top:d}),w(n,"&-placement-leftBottom "+r+"-arrow",{bottom:d}),w(n,["&-placement-right "+r+"-arrow","&-placement-rightTop "+r+"-arrow","&-placement-rightBottom "+r+"-arrow"].join(","),{left:{_skip_check_:!0,value:0},transform:"translateX(-100%) rotate(-90deg)"}),w(n,"&-placement-right "+r+"-arrow",{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"}),w(n,"&-placement-rightTop "+r+"-arrow",{top:d}),w(n,"&-placement-rightBottom "+r+"-arrow",{bottom:d}),w(n,Zc(["&-placement-topLeft","&-placement-top","&-placement-topRight"],l),{paddingBottom:v}),w(n,Zc(["&-placement-bottomLeft","&-placement-bottom","&-placement-bottomRight"],l),{paddingTop:v}),w(n,Zc(["&-placement-leftTop","&-placement-left","&-placement-leftBottom"],l),{paddingRight:{_skip_check_:!0,value:v}}),w(n,Zc(["&-placement-rightTop","&-placement-right","&-placement-rightBottom"],l),{paddingLeft:{_skip_check_:!0,value:v}}),n))}var Qc=function(e){var t=e.componentCls;return Kc.reduce((function(n,r){var i,o=e[r+"-6"];return n["&"+t+"-"+r]=(w(i={},t+"-inner",{backgroundColor:o}),w(i,t+"-arrow",{"--antd-arrow-background-color":o}),i),n}),{})},$c=function(e){var t,n=e.componentCls,r=e.tooltipMaxWidth,i=e.tooltipColor,o=e.tooltipBg,a=e.tooltipBorderRadius,s=e.zIndexPopup,u=e.controlHeight,c=e.boxShadowSecondary,l=e.paddingSM,f=e.paddingXS,h=e.tooltipRadiusOuter;return[w({},n,b(b(b(b({},ao(e)),(t={position:"absolute",zIndex:s,display:"block","&":[{width:"max-content"},{width:"intrinsic"}],maxWidth:r,visibility:"visible","&-hidden":{display:"none"},"--antd-arrow-background-color":o},w(t,n+"-inner",{minWidth:u,minHeight:u,padding:l/2+"px "+f+"px",color:i,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:o,borderRadius:a,boxShadow:c}),w(t,["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(","),w({},n+"-inner",{borderRadius:a>8?8:a})),w(t,n+"-content",{position:"relative"}),t)),Qc(e)),{"&-rtl":{direction:"rtl"}})),Yc(sa(e,{borderRadiusOuter:h}),{colorBg:"var(--antd-arrow-background-color)",showArrowCls:"",contentRadius:a,limitVerticalRadius:!0}),w({},n+"-pure",{position:"relative",maxWidth:"none"})]},Xc=function(e,t){var n=la("Tooltip",(function(e){if(!1===t)return[];var n=e.borderRadius,r=e.colorTextLightSolid,i=e.colorBgDefault,o=e.borderRadiusOuter,a=sa(e,{tooltipMaxWidth:250,tooltipColor:r,tooltipBorderRadius:n,tooltipBg:i,tooltipRadiusOuter:o>4?4:o});return[$c(a),ro(e,"zoom-big-fast")]}),(function(e){return{zIndexPopup:e.zIndexPopupBase+70,colorBgDefault:e.colorBgSpotlight}}));return n(e)},Jc=(In("success","processing","error","default","warning"),In("pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime")),el=new RegExp("^("+Jc.join("|")+")(-inverse)?$");function tl(e,t){var n=wt()(w({},e+"-"+t,t&&el.test(t))),r={},i={};return t&&!el.test(t)&&(r.background=t,i["--antd-arrow-background-color"]=t),{className:n,overlayStyle:r,arrowStyle:i}}var nl=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function rl(e,n){var r=e.type;if((!0===r.__ANT_BUTTON||"button"===e.type)&&e.props.disabled||!0===r.__ANT_SWITCH&&(e.props.disabled||e.props.loading)||!0===r.__ANT_RADIO&&e.props.disabled){var i=function(e,t){var n={},r=b({},e);return t.forEach((function(t){e&&t in e&&(n[t]=e[t],delete r[t])})),{picked:n,omitted:r}}(e.props.style,["position","left","right","top","bottom","float","display","zIndex"]),o=i.picked,a=i.omitted,s=b(b({display:"inline-block"},o),{cursor:"not-allowed",width:e.props.block?"100%":void 0}),u=Ca(e,{style:b(b({},a),{pointerEvents:"none"}),className:null});return t.createElement("span",{style:s,className:wt()(e.props.className,n+"-disabled-compatible-wrapper")},u)}return e}var il=t.forwardRef((function(e,n){var r,i,o=e.prefixCls,a=e.openClassName,s=e.getTooltipContainer,u=e.overlayClassName,l=e.color,f=e.overlayInnerStyle,h=e.children,d=e.afterOpenChange,p=e.afterVisibleChange,v=t.useContext(Tn),m=v.getPopupContainer,g=v.getPrefixCls,y=v.direction;var _=c(Vc(!1,{value:null!==(r=e.open)&&void 0!==r?r:e.visible,defaultValue:null!==(i=e.defaultOpen)&&void 0!==i?i:e.defaultVisible}),2),k=_[0],x=_[1],E=function(){var t=e.title,n=e.overlay;return!t&&!n&&0!==t},S=function(){var t=e.builtinPlacements,n=e.arrowPointAtCenter,r=void 0!==n&&n,i=e.autoAdjustOverflow;return t||function(e){var t=e.arrowWidth,n=void 0===t?4:t,r=e.horizontalArrowShift,i=void 0===r?16:r,o=e.verticalArrowShift,a=void 0===o?8:o,s=e.autoAdjustOverflow,u=e.arrowPointAtCenter,c={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(i+n),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(a+n)]},topRight:{points:["br","tc"],offset:[i+n,-4]},rightTop:{points:["tl","cr"],offset:[4,-(a+n)]},bottomRight:{points:["tr","bc"],offset:[i+n,4]},rightBottom:{points:["bl","cr"],offset:[4,a+n]},bottomLeft:{points:["tl","bc"],offset:[-(i+n),4]},leftBottom:{points:["br","cl"],offset:[-4,a+n]}};return Object.keys(c).forEach((function(e){c[e]=u?b(b({},c[e]),{overflow:Wc(s),targetOffset:qc}):b(b({},Mc[e]),{overflow:Wc(s)}),c[e].ignoreShake=!0})),c}({arrowPointAtCenter:r,autoAdjustOverflow:void 0===i||i})},T=e.getPopupContainer,C=e.placement,I=void 0===C?"top":C,P=e.mouseEnterDelay,A=void 0===P?.1:P,N=e.mouseLeaveDelay,R=void 0===N?.1:N,O=e.overlayStyle,M=nl(e,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),D=g("tooltip",o),L=g(),F=e["data-popover-inject"],j=k;"open"in e||"visible"in e||!E()||(j=!1);var z=rl(Sa(h)&&!Ta(h)?h:t.createElement("span",null,h),D),B=z.props,V=B.className&&"string"!==typeof B.className?B.className:wt()(B.className,w({},a||D+"-open",!0)),U=c(Xc(D,!F),2),H=U[0],q=U[1],W=tl(D,l),K=b(b({},f),W.overlayStyle),G=W.arrowStyle,Z=wt()(u,w({},D+"-rtl","rtl"===y),W.className,q);return H(t.createElement(jc,b({},M,{placement:I,mouseEnterDelay:A,mouseLeaveDelay:R,prefixCls:D,overlayClassName:Z,overlayStyle:b(b({},G),O),getTooltipContainer:T||s||m,ref:n,builtinPlacements:S(),overlay:function(){var t=e.title,n=e.overlay;return 0===t?t:n||t||""}(),visible:j,onVisibleChange:function(t){var n,r;x(!E()&&t),E()||(null===(n=e.onOpenChange)||void 0===n||n.call(e,t),null===(r=e.onVisibleChange)||void 0===r||r.call(e,t))},afterVisibleChange:null!==d&&void 0!==d?d:p,onPopupAlign:function(e,t){var n=S(),r=Object.keys(n).find((function(e){var r,i;return n[e].points[0]===(null===(r=t.points)||void 0===r?void 0:r[0])&&n[e].points[1]===(null===(i=t.points)||void 0===i?void 0:i[1])}));if(r){var i=e.getBoundingClientRect(),o={top:"50%",left:"50%"};/top|Bottom/.test(r)?o.top=i.height-t.offset[1]+"px":/Top|bottom/.test(r)&&(o.top=-t.offset[1]+"px"),/left|Right/.test(r)?o.left=i.width-t.offset[0]+"px":/right|Left/.test(r)&&(o.left=-t.offset[0]+"px"),e.style.transformOrigin=o.left+" "+o.top}},overlayInnerStyle:K,arrowContent:t.createElement("span",{className:D+"-arrow-content"}),motion:{motionName:Mn(L,"zoom-big-fast",e.transitionName),motionDeadline:1e3}}),j?Ca(z,{className:V}):z))}));il._InternalPanelDoNotUseOrYouWillBeFired=function(e){var n=e.prefixCls,r=e.className,i=e.placement,o=void 0===i?"top":i,a=e.title,s=e.color,u=e.overlayInnerStyle,l=(0,t.useContext(Tn).getPrefixCls)("tooltip",n),f=c(Xc(l,!0),2),h=f[0],d=f[1],p=tl(l,s),v=b(b({},u),p.overlayStyle),m=p.arrowStyle;return h(t.createElement("div",{className:wt()(d,l,l+"-pure",l+"-placement-"+o,r,p.className),style:m},t.createElement(Dc,b({},e,{className:d,prefixCls:l,overlayInnerStyle:v}),a)))};var ol=il,al=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var sl=function(e){var n=e.prefixCls,r=e.label,i=e.htmlFor,o=e.labelCol,a=e.labelAlign,s=e.colon,u=e.required,l=e.requiredMark,f=e.tooltip,h=function(e,n){var r=t.useContext(Ps),i=t.useMemo((function(){var t,i=n||Os[e],o=null!==(t=null===r||void 0===r?void 0:r[e])&&void 0!==t?t:{};return b(b({},"function"===typeof i?i():i),o||{})}),[e,n,r]);return[i]}("Form"),d=c(h,1)[0];return r?t.createElement(vt.Consumer,{key:"label"},(function(e){var c,h,p=e.vertical,m=e.labelAlign,g=e.labelCol,y=e.labelWrap,_=e.colon,k=o||g||{},x=a||m,E=n+"-item-label",S=wt()(E,"left"===x&&E+"-left",k.className,w({},E+"-wrap",!!y)),T=r,C=!0===s||!1!==_&&!1!==s;C&&!p&&"string"===typeof r&&""!==r.trim()&&(T=r.replace(/[:|\uff1a]\s*$/,""));var I=function(e){return e?"object"!==v(e)||t.isValidElement(e)?{title:e}:e:null}(f);if(I){var P=I.icon,A=void 0===P?t.createElement(Es,null):P,N=al(I,["icon"]),R=t.createElement(ol,b({},N),t.cloneElement(A,{className:n+"-item-tooltip",title:""}));T=t.createElement(t.Fragment,null,T,R)}"optional"!==l||u||(T=t.createElement(t.Fragment,null,T,t.createElement("span",{className:n+"-item-optional",title:""},(null===d||void 0===d?void 0:d.optional)||(null===(h=Os.Form)||void 0===h?void 0:h.optional))));var O=wt()((w(c={},n+"-item-required",u),w(c,n+"-item-required-mark-optional","optional"===l),w(c,n+"-item-no-colon",!C),c));return t.createElement(Is,b({},k,{className:S}),t.createElement("label",{htmlFor:i,className:O,title:"string"===typeof r?r:""},T))})):null},ul=function(e){var n=e.prefixCls,r=e.status,i=e.wrapperCol,o=e.children,a=e.errors,s=e.warnings,u=e._internalItemRender,c=e.extra,l=e.help,f=e.fieldId,h=e.marginBottom,d=e.onErrorVisibleChanged,p=n+"-item",v=t.useContext(vt),m=i||v.wrapperCol||{},g=wt()(p+"-control",m.className),y=t.useMemo((function(){return b({},v)}),[v]);delete y.labelCol,delete y.wrapperCol;var _=t.createElement("div",{className:p+"-control-input"},t.createElement("div",{className:p+"-control-input-content"},o)),w=t.useMemo((function(){return{prefixCls:n,status:r}}),[n,r]),k=null!==h||a.length||s.length?t.createElement("div",{style:{display:"flex",flexWrap:"nowrap"}},t.createElement(gt.Provider,{value:w},t.createElement(zn,{fieldId:f,errors:a,warnings:s,help:l,helpStatus:r,className:p+"-explain-connected",onVisibleChanged:d})),!!h&&t.createElement("div",{style:{width:0,height:h}})):null,x={};f&&(x.id=f+"_extra");var E=c?t.createElement("div",b({},x,{className:p+"-extra"}),c):null,S=u&&"pro_table_render"===u.mark&&u.render?u.render(e,{input:_,errorList:k,extra:E}):t.createElement(t.Fragment,null,_,k,E);return t.createElement(vt.Provider,{value:y},t.createElement(Is,b({},m,{className:g}),S))},cl=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},ll={success:Wa,warning:$a,error:Za,validating:ts};function fl(e){var n,r=e.prefixCls,i=e.className,o=e.style,a=e.help,s=e.errors,u=e.warnings,l=e.validateStatus,f=e.meta,h=e.hasFeedback,d=e.hidden,p=e.children,v=e.fieldId,m=e.isRequired,g=e.onSubItemMetaChange,y=cl(e,["prefixCls","className","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","isRequired","onSubItemMetaChange"]),_=r+"-item",k=t.useContext(vt).requiredMark,x=t.useRef(null),E=Ln(s),S=Ln(u),T=void 0!==a&&null!==a,C=!!(T||s.length||u.length),I=c(t.useState(null),2),P=I[0],A=I[1];rs((function(){if(C&&x.current){var e=getComputedStyle(x.current);A(parseInt(e.marginBottom,10))}}),[C]);var N="";void 0!==l?N=l:f.validating?N="validating":E.length?N="error":S.length?N="warning":f.touched&&(N="success");var R=t.useMemo((function(){var e;if(h){var n=N&&ll[N];e=n?t.createElement("span",{className:wt()(_+"-feedback-icon",_+"-feedback-icon-"+N)},t.createElement(n,null)):null}return{status:N,hasFeedback:h,feedbackIcon:e,isFormItemInput:!0}}),[N,h]),O=(w(n={},_,!0),w(n,_+"-with-help",T||E.length||S.length),w(n,""+i,!!i),w(n,_+"-has-feedback",N&&h),w(n,_+"-has-success","success"===N),w(n,_+"-has-warning","warning"===N),w(n,_+"-has-error","error"===N),w(n,_+"-is-validating","validating"===N),w(n,_+"-hidden",d),n);return t.createElement("div",{className:wt()(O),style:o,ref:x},t.createElement(ws,b({className:_+"-row"},pt(y,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","required","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol"])),t.createElement(sl,b({htmlFor:v,required:m,requiredMark:k},e,{prefixCls:r})),t.createElement(ul,b({},e,f,{errors:E,warnings:S,prefixCls:r,status:N,help:a,marginBottom:P,onErrorVisibleChanged:function(e){e||A(null)}}),t.createElement(mt.Provider,{value:g},t.createElement(yt.Provider,{value:R},p)))),!!P&&t.createElement("div",{className:_+"-margin-offset",style:{marginBottom:-P}}))}In("success","warning","error","validating","");var hl=t.memo((function(e){return e.children}),(function(e,t){return e.value===t.value&&e.update===t.update&&e.childProps.length===t.childProps.length&&e.childProps.every((function(e,n){return e===t.childProps[n]}))}));var dl=function(e){var n=e.name,r=e.noStyle,i=e.className,o=e.dependencies,a=e.prefixCls,s=e.shouldUpdate,u=e.rules,l=e.children,f=e.required,h=e.label,d=e.messageVariables,p=e.trigger,m=void 0===p?"onChange":p,g=e.validateTrigger,y=e.hidden,_=(0,t.useContext)(Tn).getPrefixCls,w=(0,t.useContext)(vt).name,k="function"===typeof l,x=(0,t.useContext)(mt),E=(0,t.useContext)(q).validateTrigger,T=void 0!==g?g:E,C=function(e){return!(void 0===e||null===e)}(n),I=_("form",a),P=c(ba(I),2),A=P[0],N=P[1],R=t.useContext(Qe),O=t.useRef(),M=function(e){var n=c(t.useState(e),2),r=n[0],i=n[1],o=(0,t.useRef)(null),a=(0,t.useRef)([]),s=(0,t.useRef)(!1);return t.useEffect((function(){return s.current=!1,function(){s.current=!0,rn.cancel(o.current),o.current=null}}),[]),[r,function(e){s.current||(null===o.current&&(a.current=[],o.current=rn((function(){o.current=null,i((function(e){var t=e;return a.current.forEach((function(e){t=e(t)})),t}))}))),a.current.push(e))}]}({}),D=c(M,2),L=D[0],F=D[1],j=c(Qt((function(){return{errors:[],warnings:[],touched:!1,validating:!1,name:[]}})),2),z=j[0],B=j[1],V=function(e,t){F((function(n){var r=b({},n),i=[].concat(S(e.name.slice(0,-1)),S(t)).join("__SPLIT__");return e.destroy?delete r[i]:r[i]=e,r}))},U=c(t.useMemo((function(){var e=S(z.errors),t=S(z.warnings);return Object.values(L).forEach((function(n){e.push.apply(e,S(n.errors||[])),t.push.apply(t,S(n.warnings||[]))})),[e,t]}),[L,z.errors,z.warnings]),2),H=U[0],W=U[1],K=function(){var e=t.useContext(vt).itemRef,n=t.useRef({});return function(t,r){var i=r&&"object"===v(r)&&r.ref,o=t.join("_");return n.current.name===o&&n.current.originRef===i||(n.current.name=o,n.current.originRef=i,n.current.ref=Tt(e(t),i)),n.current.ref}}();function G(n,o,a){return r&&!y?n:t.createElement(fl,b({key:"row"},e,{className:wt()(i,N),prefixCls:I,fieldId:o,isRequired:a,errors:H,warnings:W,meta:z,onSubItemMetaChange:V}),n)}if(!C&&!k&&!o)return A(G(l));var Z={};return"string"===typeof h?Z.label=h:n&&(Z.label=String(n)),d&&(Z=b(b({},Z),d)),A(t.createElement(Ye,b({},e,{messageVariables:Z,trigger:m,validateTrigger:T,onMetaChange:function(e){var t=null===R||void 0===R?void 0:R.getKey(e.name);if(B(e.destroy?{errors:[],warnings:[],touched:!1,validating:!1,name:[]}:e,!0),r&&x){var n=e.name;if(e.destroy)n=O.current||n;else if(void 0!==t){var i=c(t,2),o=i[0],a=i[1];n=[o].concat(S(a)),O.current=n}x(e,n)}}}),(function(r,i,a){var c=er(n).length&&i?i.name:[],h=tr(c,w),d=void 0!==f?f:!(!u||!u.some((function(e){if(e&&"object"===v(e)&&e.required&&!e.warningOnly)return!0;if("function"===typeof e){var t=e(a);return t&&t.required&&!t.warningOnly}return!1}))),p=b({},r),g=null;if(Array.isArray(l)&&C)g=l;else if(k&&(!s&&!o||C));else if(!o||k||C)if(Sa(l)){var y=b(b({},l.props),p);if(y.id||(y.id=h),e.help||H.length>0||W.length>0||e.extra){var _=[];(e.help||H.length>0)&&_.push(h+"_help"),e.extra&&_.push(h+"_extra"),y["aria-describedby"]=_.join(" ")}H.length>0&&(y["aria-invalid"]="true"),d&&(y["aria-required"]="true"),Ct(l)&&(y.ref=K(c,l)),new Set([].concat(S(er(m)),S(er(T)))).forEach((function(e){y[e]=function(){for(var t,n,r,i,o,a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];null===(r=p[e])||void 0===r||(t=r).call.apply(t,[p].concat(s)),null===(o=(i=l.props)[e])||void 0===o||(n=o).call.apply(n,[i].concat(s))}}));var x=[y["aria-required"],y["aria-invalid"],y["aria-describedby"]];g=t.createElement(hl,{value:p[e.valuePropName||"value"],update:l,childProps:x},Ca(l,y))}else g=k&&(s||o)&&!C?l(a):l;else;return G(g,h,d)})))};dl.useStatus=Ea;var pl=dl,vl=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},ml=function(e){var n=e.prefixCls,r=e.children,i=vl(e,["prefixCls","children"]),o=(0,t.useContext(Tn).getPrefixCls)("form",n),a=t.useMemo((function(){return{prefixCls:o,status:"error"}}),[o]);return t.createElement($e,b({},i),(function(e,n,i){return t.createElement(gt.Provider,{value:a},r(e.map((function(e){return b(b({},e),{fieldKey:e.key})})),n,{errors:i.errors,warnings:i.warnings}))}))};var gl=ka;gl.Item=pl,gl.List=ml,gl.ErrorList=zn,gl.useForm=rr,gl.useFormInstance=function(){return(0,t.useContext)(vt).form},gl.useWatch=ft,gl.Provider=function(e){var n=pt(e,["prefixCls"]);return t.createElement(at,b({},n))},gl.create=function(){};var yl=gl;function bl(e,t,n){var r=t?"> *":"";return{"&-item:not(&-last-item)":{marginInlineEnd:-e.lineWidth},"&-item":b(b(w({},"&:hover "+r+", &:focus "+r+", &:active "+r,{zIndex:2}),n?w({},"&"+n,{zIndex:2}):{}),w({},"&[disabled] "+r,{zIndex:0}))}}function _l(e,t){var n,r=t?"> "+t:"";return w(n={},"&-item:not(&-first-item):not(&-last-item) "+r,{borderRadius:0}),w(n,"&-item&-first-item",w({},"& "+r+", &"+e+"-sm "+r+", &"+e+"-lg "+r,{borderStartEndRadius:0,borderEndEndRadius:0})),w(n,"&-item&-last-item",w({},"& "+r+", &"+e+"-sm "+r+", &"+e+"-lg "+r,{borderStartStartRadius:0,borderEndStartRadius:0})),n}function wl(e,t,n,r){return{"&-compact":b(b({},bl(e,n,r)),_l(t,n))}}var kl=function(e){return{borderColor:e.inputBorderHoverColor,borderInlineEndWidth:e.lineWidth}},xl=function(e){return{borderColor:e.inputBorderHoverColor,boxShadow:"0 0 0 "+e.controlOutlineWidth+"px "+e.controlOutline,borderInlineEndWidth:e.lineWidth,outline:0}},El=function(e){return{color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"&:hover":b({},kl(sa(e,{inputBorderHoverColor:e.colorBorder})))}},Sl=function(e){return{padding:e.inputPaddingVerticalLG+"px "+e.inputPaddingHorizontal+"px",fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG,borderRadius:e.borderRadiusLG}},Tl=function(e){return{padding:e.inputPaddingVerticalSM+"px "+(e.controlPaddingHorizontalSM-1)+"px",borderRadius:e.borderRadiusSM}},Cl=function(e){var t=e.componentCls,n=e.colorError,r=e.colorWarning,i=e.colorErrorOutline,o=e.colorWarningOutline,a=e.colorErrorBorderHover,s=e.colorWarningBorderHover;return{"&-status-error:not(&-disabled):not(&-borderless)&":w({borderColor:n,"&:hover":{borderColor:a},"&:focus, &-focused":b({},xl(sa(e,{inputBorderActiveColor:n,inputBorderHoverColor:n,controlOutline:i})))},t+"-prefix",{color:n}),"&-status-warning:not(&-disabled):not(&-borderless)&":w({borderColor:r,"&:hover":{borderColor:s},"&:focus, &-focused":b({},xl(sa(e,{inputBorderActiveColor:r,inputBorderHoverColor:r,controlOutline:o})))},t+"-prefix",{color:r})}},Il=function(e){return b(b({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:e.inputPaddingVertical+"px "+e.inputPaddingHorizontal+"px",color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,backgroundColor:e.colorBgContainer,backgroundImage:"none",borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:e.colorBorder,borderRadius:e.borderRadius,transition:"all "+e.motionDurationMid},function(e){return{"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:e,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}}(e.colorTextPlaceholder)),{"&:hover":b({},kl(e)),"&:focus, &-focused":b({},xl(e)),"&-disabled, &[disabled]":b({},El(e)),"&-borderless":{"&, &:hover, &:focus, &-focused, &-disabled, &[disabled]":{backgroundColor:"transparent",border:"none",boxShadow:"none"}},"textarea&":{maxWidth:"100%",height:"auto",minHeight:e.controlHeight,lineHeight:e.lineHeight,verticalAlign:"bottom",transition:"all "+e.motionDurationSlow+", height 0s"},"&-textarea":{"&-rtl":{direction:"rtl"}},"&-lg":b({},Sl(e)),"&-sm":b({},Tl(e)),"&-rtl":{direction:"rtl"}})},Pl=function(e){var t,n=e.prefixCls,r=e.componentCls,i=e.controlHeightSM,o=(i-2*e.lineWidth-16)/2;return w({},""+r,b(b(b(b(b({},ao(e)),Il(e)),Cl(e)),wl(e,n)),{'&[type="color"]':(t={height:e.controlHeight},w(t,"&"+r+"-lg",{height:e.controlHeightLG}),w(t,"&"+r+"-sm",{height:i,paddingTop:o,paddingBottom:o}),t)}))},Al=function(e){var t,n=e.componentCls,r=e.inputAffixPadding,i=e.colorTextDescription,o=e.motionDurationSlow,a=e.colorIcon,s=e.colorIconHover,u=e.iconCls;return w({},n+"-affix-wrapper",b(b(b(b(b({},Il(e)),(t={display:"inline-flex","&:not(&-disabled):hover":b(b({},kl(e)),w({zIndex:1},n+"-search-with-button &",{zIndex:0})),"&-focused, &:focus":{zIndex:1},"&-disabled":w({},n+"[disabled]",{background:"transparent"})},w(t,"> input"+n,{padding:0,fontSize:"inherit",border:"none",borderRadius:0,outline:"none","&:focus":{boxShadow:"none !important"}}),w(t,"&::before",{width:0,visibility:"hidden",content:'"\\a0"'}),w(t,""+n,{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:e.paddingXS}},"&-show-count-suffix":{color:i},"&-show-count-has-suffix":{marginInlineEnd:e.paddingXXS},"&-prefix":{marginInlineEnd:r},"&-suffix":{marginInlineStart:r}}),t)),function(e){var t,n=e.componentCls;return w(t={},n+"-clear-icon",{margin:0,color:e.colorIcon,fontSize:e.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:"color "+e.motionDurationSlow,"&:hover":{color:e.colorTextDescription},"&:active":{color:e.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:"0 "+e.inputAffixPadding+"px"}}),w(t,"&-textarea-with-clear-btn",w({padding:"0 !important",border:"0 !important"},n+"-clear-icon",{position:"absolute",insetBlockStart:e.paddingXS,insetInlineEnd:e.paddingXS,zIndex:1})),t}(e)),w({},""+u+n+"-password-icon",{color:a,cursor:"pointer",transition:"all "+o,"&:hover":{color:s}})),Cl(e)))},Nl=function(e){var t=e.componentCls,n=e.colorError,r=e.colorSuccess,i=e.borderRadiusLG,o=e.borderRadiusSM;return w({},t+"-group",b(b(b({},ao(e)),function(e){var t,n,r,i,o,a,s,u=e.componentCls,c=e.antCls;return w(s={position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0},"&[class*='col-']",{paddingInlineEnd:e.paddingXS,"&:last-child":{paddingInlineEnd:0}}),w(s,"&-lg "+u+", &-lg > "+u+"-group-addon",b({},Sl(e))),w(s,"&-sm "+u+", &-sm > "+u+"-group-addon",b({},Tl(e))),w(s,"&-lg "+c+"-select-single "+c+"-select-selector",{height:e.controlHeightLG}),w(s,"&-sm "+c+"-select-single "+c+"-select-selector",{height:e.controlHeightSM}),w(s,"> "+u,{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}}),w(s,u+"-group",(w(r={},"&-addon, &-wrap",{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}}),w(r,"&-wrap > *",{display:"block !important"}),w(r,"&-addon",(w(n={position:"relative",padding:"0 "+e.inputPaddingHorizontal+"px",color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,textAlign:"center",backgroundColor:e.colorFillAlter,border:e.lineWidth+"px "+e.lineType+" "+e.colorBorder,borderRadius:e.borderRadius,transition:"all "+e.motionDurationSlow},c+"-select",(w(t={margin:"-"+(e.inputPaddingVertical+1)+"px -"+e.inputPaddingHorizontal+"px"},"&"+c+"-select-single:not("+c+"-select-customize-input)",w({},c+"-select-selector",{backgroundColor:"inherit",border:e.lineWidth+"px "+e.lineType+" transparent",boxShadow:"none"})),w(t,"&-open, &-focused",w({},c+"-select-selector",{color:e.colorPrimary})),t)),w(n,c+"-cascader-picker",w({margin:"-9px -"+e.inputPaddingHorizontal+"px",backgroundColor:"transparent"},c+"-cascader-input",{textAlign:"start",border:0,boxShadow:"none"})),n)),w(r,"&-addon:first-child",{borderInlineEnd:0}),w(r,"&-addon:last-child",{borderInlineStart:0}),r)),w(s,""+u,{float:"inline-start",width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":w({zIndex:1,borderInlineEndWidth:1},u+"-search-with-button &",{zIndex:0})}),w(s,"> "+u+":first-child, "+u+"-group-addon:first-child",w({borderStartEndRadius:0,borderEndEndRadius:0},c+"-select "+c+"-select-selector",{borderStartEndRadius:0,borderEndEndRadius:0})),w(s,"> "+u+"-affix-wrapper",(w(i={},"&:not(:first-child) "+u,{borderStartStartRadius:0,borderEndStartRadius:0}),w(i,"&:not(:last-child) "+u,{borderStartEndRadius:0,borderEndEndRadius:0}),i)),w(s,"> "+u+":last-child, "+u+"-group-addon:last-child",w({borderStartStartRadius:0,borderEndStartRadius:0},c+"-select "+c+"-select-selector",{borderStartStartRadius:0,borderEndStartRadius:0})),w(s,u+"-affix-wrapper",w({"&:not(:last-child)":w({borderStartEndRadius:0,borderEndEndRadius:0},u+"-search &",{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius})},"&:not(:first-child), "+u+"-search &:not(:first-child)",{borderStartStartRadius:0,borderEndStartRadius:0})),w(s,"&&-compact",b(b({display:"block"},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),(w(a={},u+"-group-addon, "+u+"-group-wrap, > "+u,{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:e.lineWidth,"&:hover":{zIndex:1},"&:focus":{zIndex:1}}}),w(a,"& > *",{display:"inline-block",float:"none",verticalAlign:"top",borderRadius:0}),w(a,"& > "+u+"-affix-wrapper",{display:"inline-flex"}),w(a,"& > "+c+"-picker-range",{display:"inline-flex"}),w(a,"& > *:not(:last-child)",{marginInlineEnd:-e.lineWidth,borderInlineEndWidth:e.lineWidth}),w(a,""+u,{float:"none"}),w(a,"& > "+c+"-select > "+c+"-select-selector,\n      & > "+c+"-select-auto-complete "+u+",\n      & > "+c+"-cascader-picker "+u+",\n      & > "+u+"-group-wrapper "+u,{borderInlineEndWidth:e.lineWidth,borderRadius:0,"&:hover":{zIndex:1},"&:focus":{zIndex:1}}),w(a,"& > "+c+"-select-focused",{zIndex:1}),w(a,"& > "+c+"-select > "+c+"-select-arrow",{zIndex:1}),w(a,"& > *:first-child,\n      & > "+c+"-select:first-child > "+c+"-select-selector,\n      & > "+c+"-select-auto-complete:first-child "+u+",\n      & > "+c+"-cascader-picker:first-child "+u,{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius}),w(a,"& > *:last-child,\n      & > "+c+"-select:last-child > "+c+"-select-selector,\n      & > "+c+"-cascader-picker:last-child "+u+",\n      & > "+c+"-cascader-picker-focused:last-child "+u,{borderInlineEndWidth:e.lineWidth,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius}),w(a,"& > "+c+"-select-auto-complete "+u,{verticalAlign:"top"}),w(a,u+"-group-wrapper + "+u+"-group-wrapper",w({marginInlineStart:-e.lineWidth},u+"-affix-wrapper",{borderRadius:0})),w(a,u+"-group-wrapper:not(:last-child)",w({},"&"+u+"-search > "+u+"-group",(w(o={},"& > "+u+"-group-addon > "+u+"-search-button",{borderRadius:0}),w(o,"& > "+u,{borderStartStartRadius:e.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:e.borderRadius}),o))),a))),s}(e)),{"&-rtl":{direction:"rtl"},"&-wrapper":{display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":w({},t+"-group-addon",{borderRadius:i}),"&-sm":w({},t+"-group-addon",{borderRadius:o}),"&-status-error":w({},t+"-group-addon",{color:n,borderColor:n}),"&-status-warning":w({},t+"-group-addon:last-child",{color:r,borderColor:r})}}))},Rl=function(e){var t,n,r,i=e.componentCls,o=e.antCls,a=i+"-search";return w({},a,(w(r={},""+i,{"&:hover, &:focus":w({borderColor:e.colorPrimaryHover},"+ "+i+"-group-addon "+a+"-button:not("+o+"-btn-primary)",{borderInlineStartColor:e.colorPrimaryHover})}),w(r,i+"-affix-wrapper",{borderRadius:0}),w(r,i+"-lg",{lineHeight:e.lineHeightLG-2e-4}),w(r,"> "+i+"-group",w({},"> "+i+"-group-addon:last-child",(w(t={insetInlineStart:-1,padding:0,border:0},a+"-button",{paddingTop:0,paddingBottom:0,borderStartStartRadius:0,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius,borderEndStartRadius:0}),w(t,a+"-button:not("+o+"-btn-primary)",w({color:e.colorTextDescription,"&:hover":{color:e.colorPrimaryHover},"&:active":{color:e.colorPrimaryActive}},"&"+o+"-btn-loading::before",{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0})),t))),w(r,a+"-button",{height:e.controlHeight,"&:hover, &:focus":{zIndex:1}}),w(r,"&-large "+a+"-button",{height:e.controlHeightLG}),w(r,"&-small "+a+"-button",{height:e.controlHeightSM}),w(r,"&-rtl",{direction:"rtl"}),w(r,"&"+i+"-compact-item",(w(n={},"&:not("+i+"-compact-last-item)",w({},i+"-group-addon",w({},i+"-search-button",{marginInlineEnd:-e.lineWidth,borderRadius:0}))),w(n,"&:not("+i+"-compact-first-item)",w({},i+","+i+"-affix-wrapper",{borderRadius:0})),w(n,"> "+i+"-group-addon "+i+"-search-button,\n        > "+i+",\n        "+i+"-affix-wrapper",{"&:hover,&:focus,&:active":{zIndex:2}}),w(n,"> "+i+"-affix-wrapper-focused",{zIndex:2}),n)),r))};var Ol=function(e){var t,n,r=e.componentCls,i=e.inputPaddingHorizontal,o=e.paddingLG,a=r+"-textarea";return w({},a,(w(n={position:"relative"},a+"-suffix",{position:"absolute",top:0,insetInlineEnd:i,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto"}),w(n,"&-status-error,\n        &-status-warning,\n        &-status-success,\n        &-status-validating",w({},"&"+a+"-has-feedback",w({},""+r,{paddingInlineEnd:o}))),w(n,"&-show-count",(w(t={},"> "+r,{height:"100%"}),w(t,"&::after",{position:"absolute",bottom:0,insetInlineEnd:0,color:e.colorTextDescription,whiteSpace:"nowrap",content:"attr(data-count)",pointerEvents:"none",display:"block",transform:"translateY(100%)"}),t)),n))},Ml=la("Input",(function(e){var t=function(e){return sa(e,{inputAffixPadding:e.paddingXXS,inputPaddingVertical:Math.max(Math.round((e.controlHeight-e.fontSize*e.lineHeight)/2*10)/10-e.lineWidth,3),inputPaddingVerticalLG:Math.ceil((e.controlHeightLG-e.fontSizeLG*e.lineHeightLG)/2*10)/10-e.lineWidth,inputPaddingVerticalSM:Math.max(Math.round((e.controlHeightSM-e.fontSize*e.lineHeight)/2*10)/10-e.lineWidth,0),inputPaddingHorizontal:e.controlPaddingHorizontal-e.lineWidth,inputPaddingHorizontalSM:e.controlPaddingHorizontalSM-e.lineWidth,inputBorderHoverColor:e.colorPrimaryHover,inputBorderActiveColor:e.colorPrimaryHover})}(e);return[Pl(t),Ol(t),Al(t),Nl(t),Rl(t)]})),Dl=function(e){var n,r=(0,t.useContext)(Tn),i=r.getPrefixCls,o=r.direction,a=e.prefixCls,s=e.className,u=void 0===s?"":s,l=i("input-group",a),f=i("input"),h=c(Ml(f),2),d=h[0],p=h[1],v=wt()(l,(w(n={},l+"-lg","large"===e.size),w(n,l+"-sm","small"===e.size),w(n,l+"-compact",e.compact),w(n,l+"-rtl","rtl"===o),n),p,u),m=(0,t.useContext)(yt),g=(0,t.useMemo)((function(){return b(b({},m),{isFormItemInput:!1})}),[m]);return d(t.createElement("span",{className:v,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},t.createElement(yt.Provider,{value:g},e.children)))};function Ll(e){return!(!e.addonBefore&&!e.addonAfter)}function Fl(e){return!!(e.prefix||e.suffix||e.allowClear)}function jl(e,t,n,r){if(n){var i=t;if("click"===t.type){var o=e.cloneNode(!0);return i=Object.create(t,{target:{value:o},currentTarget:{value:o}}),o.value="",void n(i)}if(void 0!==r)return i=Object.create(t,{target:{value:e},currentTarget:{value:e}}),e.value=r,void n(i);n(i)}}function zl(e){return"undefined"===typeof e||null===e?"":String(e)}var Bl=function(e){var n=e.inputElement,r=e.prefixCls,i=e.prefix,o=e.suffix,a=e.addonBefore,s=e.addonAfter,u=e.className,c=e.style,l=e.affixWrapperClassName,f=e.groupClassName,h=e.wrapperClassName,d=e.disabled,p=e.readOnly,m=e.focused,g=e.triggerFocus,y=e.allowClear,b=e.value,_=e.handleReset,k=e.hidden,x=(0,t.useRef)(null),E=(0,t.cloneElement)(n,{value:b,hidden:k});if(Fl(e)){var S,T="".concat(r,"-affix-wrapper"),C=wt()(T,(w(S={},"".concat(T,"-disabled"),d),w(S,"".concat(T,"-focused"),m),w(S,"".concat(T,"-readonly"),p),w(S,"".concat(T,"-input-with-clear-btn"),o&&y&&b),S),!Ll(e)&&u,l),I=(o||y)&&t.createElement("span",{className:"".concat(r,"-suffix")},function(){var e;if(!y)return null;var n=!d&&!p&&b,i="".concat(r,"-clear-icon"),a="object"===v(y)&&null!==y&&void 0!==y&&y.clearIcon?y.clearIcon:"\u2716";return t.createElement("span",{onClick:_,onMouseDown:function(e){return e.preventDefault()},className:wt()(i,(e={},w(e,"".concat(i,"-hidden"),!n),w(e,"".concat(i,"-has-suffix"),!!o),e)),role:"button",tabIndex:-1},a)}(),o);E=t.createElement("span",{className:C,style:c,hidden:!Ll(e)&&k,onClick:function(e){var t;null!==(t=x.current)&&void 0!==t&&t.contains(e.target)&&(null===g||void 0===g||g())},ref:x},i&&t.createElement("span",{className:"".concat(r,"-prefix")},i),(0,t.cloneElement)(n,{style:null,value:b,hidden:null}),I)}if(Ll(e)){var P="".concat(r,"-group"),A="".concat(P,"-addon"),N=wt()("".concat(r,"-wrapper"),P,h),R=wt()("".concat(r,"-group-wrapper"),u,f);return t.createElement("span",{className:R,style:c,hidden:k},t.createElement("span",{className:N},a&&t.createElement("span",{className:A},a),(0,t.cloneElement)(E,{style:null,hidden:null}),s&&t.createElement("span",{className:A},s)))}return E},Vl=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","type","inputClassName"],Ul=(0,t.forwardRef)((function(e,n){var r=e.autoComplete,i=e.onChange,o=e.onFocus,a=e.onBlur,s=e.onPressEnter,u=e.onKeyDown,l=e.prefixCls,f=void 0===l?"rc-input":l,h=e.disabled,d=e.htmlSize,p=e.className,m=e.maxLength,g=e.suffix,y=e.showCount,k=e.type,x=void 0===k?"text":k,E=e.inputClassName,T=_(e,Vl),C=c(Vc(e.defaultValue,{value:e.value}),2),I=C[0],P=C[1],A=c((0,t.useState)(!1),2),N=A[0],R=A[1],O=(0,t.useRef)(null),M=function(e){O.current&&function(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var r=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r)}}}}(O.current,e)};(0,t.useImperativeHandle)(n,(function(){return{focus:M,blur:function(){var e;null===(e=O.current)||void 0===e||e.blur()},setSelectionRange:function(e,t,n){var r;null===(r=O.current)||void 0===r||r.setSelectionRange(e,t,n)},select:function(){var e;null===(e=O.current)||void 0===e||e.select()},input:O.current}})),(0,t.useEffect)((function(){R((function(e){return(!e||!h)&&e}))}),[h]);var D=function(t){void 0===e.value&&P(t.target.value),O.current&&jl(O.current,t,i)},L=function(e){s&&"Enter"===e.key&&s(e),null===u||void 0===u||u(e)},F=function(e){R(!0),null===o||void 0===o||o(e)},j=function(e){R(!1),null===a||void 0===a||a(e)};return t.createElement(Bl,b({},T,{prefixCls:f,className:p,inputElement:function(){var n=pt(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","affixWrapperClassName","groupClassName","inputClassName","wrapperClassName","htmlSize"]);return t.createElement("input",b({autoComplete:r},n,{onChange:D,onFocus:F,onBlur:j,onKeyDown:L,className:wt()(f,w({},"".concat(f,"-disabled"),h),E,!Ll(e)&&!Fl(e)&&p),ref:O,size:d,type:x}))}(),handleReset:function(e){P(""),M(),O.current&&jl(O.current,e,i)},value:zl(I),focused:N,triggerFocus:M,suffix:function(){var e=Number(m)>0;if(g||y){var n=zl(I),r=S(n).length,i="object"===v(y)?y.formatter({value:n,count:r,maxLength:m}):"".concat(r).concat(e?" / ".concat(m):"");return t.createElement(t.Fragment,null,!!y&&t.createElement("span",{className:wt()("".concat(f,"-show-count-suffix"),w({},"".concat(f,"-show-count-has-suffix"),!!g))},i),g)}return null}(),disabled:h}))})),Hl=Ul,ql=t.createContext(null),Wl=function(e,n){var r=t.useContext(ql),i=t.useMemo((function(){var t;if(!r)return"";var i=r.compactDirection,o=r.isFirstItem,a=r.isLastItem,s="vertical"===i?"-vertical-":"-";return wt()((w(t={},e+"-compact"+s+"item",!0),w(t,e+"-compact"+s+"first-item",o),w(t,e+"-compact"+s+"last-item",a),w(t,e+"-compact"+s+"item-rtl","rtl"===n),t))}),[e,n,r]);return{compactSize:null===r||void 0===r?void 0:r.compactSize,compactDirection:null===r||void 0===r?void 0:r.compactDirection,compactItemClassnames:i}},Kl=function(e){var n=e.children;return t.createElement(ql.Provider,{value:null},n)};In("warning","error","");function Gl(e,t,n){var r;return wt()((w(r={},e+"-status-success","success"===t),w(r,e+"-status-warning","warning"===t),w(r,e+"-status-error","error"===t),w(r,e+"-status-validating","validating"===t),w(r,e+"-has-feedback",n),r))}var Zl=function(e,t){return t||e};function Yl(e,n){var r=(0,t.useRef)([]),i=function(){r.current.push(setTimeout((function(){var t,n,r,i;(null===(t=e.current)||void 0===t?void 0:t.input)&&"password"===(null===(n=e.current)||void 0===n?void 0:n.input.getAttribute("type"))&&(null===(r=e.current)||void 0===r?void 0:r.input.hasAttribute("value"))&&(null===(i=e.current)||void 0===i||i.input.removeAttribute("value"))})))};return(0,t.useEffect)((function(){return n&&i(),function(){return r.current.forEach((function(e){e&&clearTimeout(e)}))}}),[]),i}var Ql=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function $l(e,t,n,r){if(n){var i=t;if("click"===t.type){var o=e.cloneNode(!0);return i=Object.create(t,{target:{value:o},currentTarget:{value:o}}),o.value="",void n(i)}if(void 0!==r)return i=Object.create(t,{target:{value:e},currentTarget:{value:e}}),e.value=r,void n(i);n(i)}}var Xl=(0,t.forwardRef)((function(e,n){var r,i,o,a=e.prefixCls,s=e.bordered,u=void 0===s||s,l=e.status,f=e.size,h=e.disabled,d=e.onBlur,p=e.onFocus,m=e.suffix,g=e.allowClear,y=e.addonAfter,_=e.addonBefore,k=e.className,x=e.onChange,E=Ql(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","onChange"]),S=t.useContext(Tn),T=S.getPrefixCls,C=S.direction,I=S.input,P=T("input",a),A=(0,t.useRef)(null),N=c(Ml(P),2),R=N[0],O=N[1],M=Wl(P,C),D=M.compactSize,L=M.compactItemClassnames,F=t.useContext(Wn),j=D||f||F,z=t.useContext(Un),B=null!==h&&void 0!==h?h:z,V=(0,t.useContext)(yt),U=V.status,H=V.hasFeedback,q=V.feedbackIcon,W=Zl(U,l),K=function(e){return!!(e.prefix||e.suffix||e.allowClear)}(e)||!!H,G=(0,t.useRef)(K);(0,t.useEffect)((function(){K&&G.current,G.current=K}),[K]);var Z,Y=Yl(A,!0),Q=(H||m)&&t.createElement(t.Fragment,null,m,H&&q);return"object"===v(g)&&(null===g||void 0===g?void 0:g.clearIcon)?Z=g:g&&(Z={clearIcon:t.createElement(Za,null)}),R(t.createElement(Hl,b({ref:Tt(n,A),prefixCls:P,autoComplete:null===I||void 0===I?void 0:I.autoComplete},E,{disabled:B||void 0,onBlur:function(e){Y(),null===d||void 0===d||d(e)},onFocus:function(e){Y(),null===p||void 0===p||p(e)},suffix:Q,allowClear:Z,className:wt()(k,L),onChange:function(e){Y(),null===x||void 0===x||x(e)},addonAfter:y&&t.createElement(Kl,null,t.createElement(bt,{override:!0,status:!0},y)),addonBefore:_&&t.createElement(Kl,null,t.createElement(bt,{override:!0,status:!0},_)),inputClassName:wt()((r={},w(r,P+"-sm","small"===j),w(r,P+"-lg","large"===j),w(r,P+"-rtl","rtl"===C),w(r,P+"-borderless",!u),r),!K&&Gl(P,W),O),affixWrapperClassName:wt()((i={},w(i,P+"-affix-wrapper-sm","small"===j),w(i,P+"-affix-wrapper-lg","large"===j),w(i,P+"-affix-wrapper-rtl","rtl"===C),w(i,P+"-affix-wrapper-borderless",!u),i),Gl(P+"-affix-wrapper",W,H),O),wrapperClassName:wt()(w({},P+"-group-rtl","rtl"===C),O),groupClassName:wt()((o={},w(o,P+"-group-wrapper-sm","small"===j),w(o,P+"-group-wrapper-lg","large"===j),w(o,P+"-group-wrapper-rtl","rtl"===C),o),Gl(P+"-group-wrapper",W,H),O)})))})),Jl=Xl,ef={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},tf=function(e,n){return t.createElement(Ha,x(x({},e),{},{ref:n,icon:ef}))};tf.displayName="EyeInvisibleOutlined";var nf=t.forwardRef(tf),rf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},of=function(e,n){return t.createElement(Ha,x(x({},e),{},{ref:n,icon:rf}))};of.displayName="EyeOutlined";var af=t.forwardRef(of),sf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},uf=function(e){return e?t.createElement(af,null):t.createElement(nf,null)},cf={click:"onClick",hover:"onMouseOver"},lf=t.forwardRef((function(e,n){var r=e.visibilityToggle,i=void 0===r||r,o="object"===v(i)&&void 0!==i.visible,a=c((0,t.useState)((function(){return!!o&&i.visible})),2),s=a[0],u=a[1],l=(0,t.useRef)(null);t.useEffect((function(){o&&u(i.visible)}),[o,i]);var f=Yl(l),h=function(){e.disabled||(s&&f(),u((function(e){var t,n=!e;return"object"===v(i)&&(null===(t=i.onVisibleChange)||void 0===t||t.call(i,n)),n})))},d=function(r){var o=r.getPrefixCls,a=e.className,u=e.prefixCls,c=e.inputPrefixCls,f=e.size,d=sf(e,["className","prefixCls","inputPrefixCls","size"]),p=o("input",c),v=o("input-password",u),m=i&&function(n){var r,i=e.action,o=void 0===i?"click":i,a=e.iconRender,u=cf[o]||"",c=(void 0===a?uf:a)(s),l=(w(r={},u,h),w(r,"className",n+"-icon"),w(r,"key","passwordIcon"),w(r,"onMouseDown",(function(e){e.preventDefault()})),w(r,"onMouseUp",(function(e){e.preventDefault()})),r);return t.cloneElement(t.isValidElement(c)?c:t.createElement("span",null,c),l)}(v),g=wt()(v,a,w({},v+"-"+f,!!f)),y=b(b({},pt(d,["suffix","iconRender","visibilityToggle"])),{type:s?"text":"password",className:g,prefixCls:p,suffix:m});return f&&(y.size=f),t.createElement(Jl,b({ref:Tt(n,l)},y))};return t.createElement(Cn,null,d)}));var ff=lf,hf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},df=function(e,n){return t.createElement(Ha,x(x({},e),{},{ref:n,icon:hf}))};df.displayName="SearchOutlined";var pf=t.forwardRef(df),vf=0,mf={};function gf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=vf++,r=t;function i(){(r-=1)<=0?(e(),delete mf[n]):mf[n]=rn(i)}return mf[n]=rn(i),n}gf.cancel=function(e){void 0!==e&&(rn.cancel(mf[e]),delete mf[e])},gf.ids=mf;var yf,bf=function(e){var t,n=new Di("waveEffect",{"100%":{boxShadow:"0 0 0 6px var(--antd-wave-shadow-color)"}}),r=new Di("fadeEffect",{"100%":{opacity:0}});return[(t={},w(t,e.clickAnimatingWithoutExtraNodeTrue+",\n      "+e.clickAnimatingTrue,{"--antd-wave-shadow-color":e.colorPrimary,"--scroll-bar":0,position:"relative"}),w(t,e.clickAnimatingWithoutExtraNodeTrueAfter+",\n      & "+e.clickAnimatingNode,{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:0,bottom:0,display:"block",borderRadius:"inherit",boxShadow:"0 0 0 0 var(--antd-wave-shadow-color)",opacity:.2,animation:{_skip_check_:!0,value:r.getName(e.hashId)+" 2s "+e.motionEaseOutCirc+", "+n.getName(e.hashId)+" 0.4s "+e.motionEaseOutCirc},animationFillMode:"forwards",content:'""',pointerEvents:"none"}),t),{},n,r]};function _f(e){return!e||null===e.offsetParent||e.hidden}function wf(e){return e instanceof Document?e.body:Array.from(e.childNodes).find((function(e){return(null===e||void 0===e?void 0:e.nodeType)===Node.ELEMENT_NODE}))}function kf(e){return e&&"#fff"!==e&&"#ffffff"!==e&&"rgb(255, 255, 255)"!==e&&"rgba(255, 255, 255, 1)"!==e&&function(e){var t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(t&&t[1]&&t[2]&&t[3])||!(t[1]===t[2]&&t[2]===t[3])}(e)&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&"transparent"!==e}function xf(e){var t=getComputedStyle(e),n=t.getPropertyValue("border-top-color"),r=t.getPropertyValue("border-color"),i=t.getPropertyValue("background-color");return kf(n)?n:kf(r)?r:i}var Ef=function(e){N(r,e);var n=D(r);function r(){var e;return T(this,r),(e=n.apply(this,arguments)).containerRef=t.createRef(),e.animationStart=!1,e.destroyed=!1,e.onClick=function(t,n){var r,i,o=e.props,a=o.insertExtraNode;if(!o.disabled&&t&&!_f(t)&&!t.className.includes("-leave")){e.extraNode=document.createElement("div");var s=P(e).extraNode,u=e.context.getPrefixCls;s.className=u("")+"-click-animating-node";var c=e.getAttributeName();if(t.setAttribute(c,"true"),kf(n)){s.style.borderColor=n;var l=(null===(r=t.getRootNode)||void 0===r?void 0:r.call(t))||t.ownerDocument,f=null!==(i=wf(l))&&void 0!==i?i:l;yf=mr("\n      ["+u("")+"-click-animating-without-extra-node='true']::after, ."+u("")+"-click-animating-node {\n        --antd-wave-shadow-color: "+n+";\n      }","antd-wave",{csp:e.csp,attachTo:f})}a&&t.appendChild(s),["transition","animation"].forEach((function(n){t.addEventListener(n+"start",e.onTransitionStart),t.addEventListener(n+"end",e.onTransitionEnd)}))}},e.onTransitionStart=function(t){if(!e.destroyed){var n=e.containerRef.current;t&&t.target===n&&!e.animationStart&&e.resetEffect(n)}},e.onTransitionEnd=function(t){t&&"fadeEffect"===t.animationName&&e.resetEffect(t.target)},e.bindAnimationEvent=function(t){if(t&&t.getAttribute&&!t.getAttribute("disabled")&&!t.className.includes("disabled")){var n=function(n){if("INPUT"!==n.target.tagName&&!_f(n.target)){e.resetEffect(t);var r=xf(t);e.clickWaveTimeoutId=window.setTimeout((function(){return e.onClick(t,r)}),0),gf.cancel(e.animationStartId),e.animationStart=!0,e.animationStartId=gf((function(){e.animationStart=!1}),10)}};return t.addEventListener("click",n,!0),{cancel:function(){t.removeEventListener("click",n,!0)}}}},e.renderWave=function(n){var r=n.csp,i=e.props.children;if(e.csp=r,!t.isValidElement(i))return i;var o=e.containerRef;return Ct(i)&&(o=Tt(i.ref,e.containerRef)),Ca(i,{ref:o})},e}return I(r,[{key:"componentDidMount",value:function(){this.destroyed=!1;var e=this.containerRef.current;e&&1===e.nodeType&&(this.instance=this.bindAnimationEvent(e))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var e=this.context.getPrefixCls;return this.props.insertExtraNode?e("")+"-click-animating":e("")+"-click-animating-without-extra-node"}},{key:"resetEffect",value:function(e){var t=this;if(e&&e!==this.extraNode&&e instanceof Element){var n=this.props.insertExtraNode,r=this.getAttributeName();e.setAttribute(r,"false"),yf&&(yf.innerHTML=""),n&&this.extraNode&&e.contains(this.extraNode)&&e.removeChild(this.extraNode),["transition","animation"].forEach((function(n){e.removeEventListener(n+"start",t.onTransitionStart),e.removeEventListener(n+"end",t.onTransitionEnd)}))}}},{key:"render",value:function(){return t.createElement(Cn,null,this.renderWave)}}]),r}(t.Component);Ef.contextType=Tn;var Sf=(0,t.forwardRef)((function(e,n){return function(){var e=c(ia(),3),n=e[0],r=e[1],i=e[2],o=(0,(0,t.useContext)(Tn).getPrefixCls)(),a="["+o+"-click-animating='true']",s="["+o+"-click-animating-without-extra-node='true']",u="."+o+"-click-animating-node",l=b(b({},r),{hashId:i,clickAnimatingNode:u,clickAnimatingTrue:a,clickAnimatingWithoutExtraNodeTrue:s,clickAnimatingWithoutExtraNodeTrueAfter:s+"::after"});Pi({theme:n,token:r,hashId:i,path:["wave"]},(function(){return[bf(l)]}))}(),t.createElement(Ef,b({ref:n},e))})),Tf=Sf,Cf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},If=t.createContext(void 0),Pf=function(e){var n,r=t.useContext(Tn),i=r.getPrefixCls,o=r.direction,a=e.prefixCls,s=e.size,u=e.className,l=Cf(e,["prefixCls","size","className"]),f=i("btn-group",a),h=c(ia(),3)[2],d="";switch(s){case"large":d="lg";break;case"small":d="sm"}var p=wt()(f,(w(n={},f+"-"+d,d),w(n,f+"-rtl","rtl"===o),n),u,h);return t.createElement(If.Provider,{value:s},t.createElement("div",b({},l,{className:p})))},Af=function(){return{width:0,opacity:0,transform:"scale(0)"}},Nf=function(e){return{width:e.scrollWidth,opacity:1,transform:"scale(1)"}},Rf=function(e){var n=e.prefixCls,r=!!e.loading;return e.existIcon?t.createElement("span",{className:n+"-loading-icon"},t.createElement(ts,null)):t.createElement(En,{visible:r,motionName:n+"-loading-icon-motion",removeOnLeave:!0,onAppearStart:Af,onAppearActive:Nf,onEnterStart:Af,onEnterActive:Nf,onLeaveStart:Nf,onLeaveActive:Af},(function(e,r){var i=e.className,o=e.style;return t.createElement("span",{className:n+"-loading-icon",style:o,ref:r},t.createElement(ts,{className:i}))}))},Of=function(e,t){return w({},"> span, > "+e,{"&:not(:last-child)":w({},"&, & > "+e,{"&:not(:disabled)":{borderInlineEndColor:t}}),"&:not(:first-child)":w({},"&, & > "+e,{"&:not(:disabled)":{borderInlineStartColor:t}})})},Mf=function(e){var t,n,r=e.componentCls,i=e.fontSize,o=e.lineWidth,a=e.colorPrimaryHover,s=e.colorErrorHover;return w({},r+"-group",[(n={position:"relative",display:"inline-flex"},w(n,"> span, > "+r,{"&:not(:last-child)":w({},"&, & > "+r,{borderStartEndRadius:0,borderEndEndRadius:0}),"&:not(:first-child)":w({marginInlineStart:-o},"&, & > "+r,{borderStartStartRadius:0,borderEndStartRadius:0})}),w(n,r,(t={position:"relative",zIndex:1},w(t,"&:hover,\n          &:focus,\n          &:active",{zIndex:2}),w(t,"&[disabled]",{zIndex:0}),t)),w(n,r+"-icon-only",{fontSize:i}),n),Of(r+"-primary",a),Of(r+"-danger",s)])};function Df(e){return{"&-item:not(&-last-item)":{marginBottom:-e.lineWidth},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function Lf(e){return{"&-item:not(&-first-item):not(&-last-item)":{borderRadius:0},"&-item&-first-item":w({},"&, &"+e+"-sm, &"+e+"-lg",{borderEndEndRadius:0,borderEndStartRadius:0}),"&-item&-last-item":w({},"&, &"+e+"-sm, &"+e+"-lg",{borderStartStartRadius:0,borderStartEndRadius:0})}}var Ff=function(e){var t,n,r=e.componentCls,i=e.iconCls;return w({},r,b(b(b((w(t={outline:"none",position:"relative",display:"inline-block",fontWeight:400,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",backgroundColor:"transparent",border:e.lineWidth+"px "+e.lineType+" transparent",cursor:"pointer",transition:"all "+e.motionDurationMid+" "+e.motionEaseInOut,userSelect:"none",touchAction:"manipulation",lineHeight:e.lineHeight,color:e.colorText,"> span":{display:"inline-block"}},"> "+i+" + span, > span + "+i,{marginInlineStart:e.marginXS}),w(t,"&"+r+"-block",{width:"100%"}),w(t,"&:not(:disabled)",b({},function(e){return{"&:focus-visible":b({},co(e))}}(e))),t),wl(e,r)),function(e,t){return{"&-compact-vertical":b(b({},Df(e)),Lf(t))}}(e,r)),(w(n={"&-icon-only&-compact-item":{flex:"none"}},"&-compact-item"+r+"-primary",{"&:not([disabled]) + &:not([disabled])":{position:"relative","&:after":{position:"absolute",top:-e.lineWidth,insetInlineStart:-e.lineWidth,display:"inline-block",width:e.lineWidth,height:"calc(100% + "+2*e.lineWidth+"px)",backgroundColor:e.colorPrimaryBorder,content:'""'}}}),w(n,"&-compact-vertical-item",w({},"&"+r+"-primary",{"&:not([disabled]) + &:not([disabled])":{position:"relative","&:after":{position:"absolute",top:-e.lineWidth,insetInlineStart:-e.lineWidth,display:"inline-block",width:"calc(100% + "+2*e.lineWidth+"px)",height:e.lineWidth,backgroundColor:e.colorPrimaryBorder,content:'""'}}})),n)))},jf=function(e,t){return{"&:not(:disabled)":{"&:hover":e,"&:active":t}}},zf=function(e){return{minWidth:e.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}},Bf=function(e){return{borderRadius:e.controlHeight,paddingInlineStart:e.controlHeight/2,paddingInlineEnd:e.controlHeight/2,width:"auto"}},Vf=function(e,t,n,r,i,o,a){return w({},"&"+e+"-background-ghost",b(b({color:t||void 0,backgroundColor:"transparent",borderColor:n||void 0,boxShadow:"none"},jf(b({backgroundColor:"transparent"},o),b({backgroundColor:"transparent"},a))),{"&:disabled":{cursor:"not-allowed",color:r||void 0,borderColor:i||void 0}}))},Uf=function(e){return{"&:disabled":{cursor:"not-allowed",borderColor:e.colorBorder,color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,boxShadow:"none"}}},Hf=function(e){return b({},Uf(e))},qf=function(e){return{"&:disabled":{cursor:"not-allowed",color:e.colorTextDisabled}}},Wf=function(e){return b(b(b(b(b({},Hf(e)),{backgroundColor:e.colorBgContainer,borderColor:e.colorBorder,boxShadow:"0 "+e.controlOutlineWidth+"px 0 "+e.controlTmpOutline}),jf({color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),Vf(e.componentCls,e.colorBgContainer,e.colorBgContainer,e.colorTextDisabled,e.colorBorder)),w({},"&"+e.componentCls+"-dangerous",b(b(b({color:e.colorError,borderColor:e.colorError},jf({color:e.colorErrorHover,borderColor:e.colorErrorBorder},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),Vf(e.componentCls,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder)),Uf(e))))},Kf=function(e){var t,n=e.componentCls;return w(t={},n+"-default",Wf(e)),w(t,n+"-primary",function(e){return b(b(b(b(b({},Hf(e)),{color:e.colorTextLightSolid,backgroundColor:e.colorPrimary,boxShadow:"0 "+e.controlOutlineWidth+"px 0 "+e.controlOutline}),jf({color:e.colorTextLightSolid,backgroundColor:e.colorPrimaryHover},{color:e.colorTextLightSolid,backgroundColor:e.colorPrimaryActive})),Vf(e.componentCls,e.colorPrimary,e.colorPrimary,e.colorTextDisabled,e.colorBorder,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),w({},"&"+e.componentCls+"-dangerous",b(b(b({backgroundColor:e.colorError,boxShadow:"0 "+e.controlOutlineWidth+"px 0 "+e.colorErrorOutline},jf({backgroundColor:e.colorErrorHover},{backgroundColor:e.colorErrorActive})),Vf(e.componentCls,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder,{color:e.colorErrorHover,borderColor:e.colorErrorHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),Uf(e))))}(e)),w(t,n+"-dashed",function(e){return b(b({},Wf(e)),{borderStyle:"dashed"})}(e)),w(t,n+"-link",function(e){return b(b(b({color:e.colorLink},jf({color:e.colorLinkHover},{color:e.colorLinkActive})),qf(e)),w({},"&"+e.componentCls+"-dangerous",b(b({color:e.colorError},jf({color:e.colorErrorHover},{color:e.colorErrorActive})),qf(e))))}(e)),w(t,n+"-text",function(e){return b(b(b({},jf({color:e.colorText,backgroundColor:e.colorBgTextHover},{color:e.colorText,backgroundColor:e.colorBgTextActive})),qf(e)),w({},"&"+e.componentCls+"-dangerous",b(b({color:e.colorError},qf(e)),jf({color:e.colorErrorHover,backgroundColor:e.colorErrorBg},{color:e.colorErrorHover,backgroundColor:e.colorErrorBg}))))}(e)),t},Gf=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.componentCls,i=e.iconCls,o=Math.max(0,(e.controlHeight-e.fontSize*e.lineHeight)/2-e.lineWidth),a=e.buttonPaddingHorizontal-e.lineWidth,s=r+"-icon-only";return[w({},""+r+n,(t={fontSize:e.fontSize,height:e.controlHeight,padding:o+"px "+a+"px",borderRadius:e.borderRadius},w(t,"&"+s,{width:e.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,"> span":{transform:"scale(1.143)"}}),w(t,"&"+r+"-loading",{opacity:e.opacityLoading,cursor:"default"}),w(t,r+"-loading-icon",{transition:"width "+e.motionDurationSlow+" "+e.motionEaseInOut+", opacity "+e.motionDurationSlow+" "+e.motionEaseInOut}),w(t,"&:not("+s+") "+r+"-loading-icon > "+i,{marginInlineEnd:e.marginXS}),t)),w({},""+r+r+"-circle"+n,zf(e)),w({},""+r+r+"-round"+n,Bf(e))]},Zf=function(e){return Gf(e)},Yf=function(e){var t=sa(e,{controlHeight:e.controlHeightSM,padding:e.paddingXS,buttonPaddingHorizontal:8,borderRadius:e.borderRadiusSM});return Gf(t,e.componentCls+"-sm")},Qf=function(e){var t=sa(e,{controlHeight:e.controlHeightLG,fontSize:e.fontSizeLG,borderRadius:e.borderRadiusLG});return Gf(t,e.componentCls+"-lg")},$f=la("Button",(function(e){var t=sa(e,{colorOutlineDefault:e.controlTmpOutline,buttonPaddingHorizontal:e.paddingContentHorizontal});return[Ff(t),Yf(t),Zf(t),Qf(t),Kf(t),Mf(t)]})),Xf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Jf=/^[\u4e00-\u9fa5]{2}$/,eh=Jf.test.bind(Jf);function th(e){return"text"===e||"link"===e}function nh(e,n){var r=!1,i=[];return t.Children.forEach(e,(function(e){var t=v(e),n="string"===t||"number"===t;if(r&&n){var o=i.length-1,a=i[o];i[o]=""+a+e}else i.push(e);r=n})),t.Children.map(i,(function(e){return function(e,n){if(null!==e&&void 0!==e){var r=n?" ":"";return"string"!==typeof e&&"number"!==typeof e&&"string"===typeof e.type&&eh(e.props.children)?Ca(e,{children:e.props.children.split("").join(r)}):"string"===typeof e?eh(e)?t.createElement("span",null,e.split("").join(r)):t.createElement("span",null,e):Ta(e)?t.createElement("span",null,e):e}}(e,n)}))}In("default","primary","ghost","dashed","link","text"),In("default","circle","round"),In("submit","button","reset");var rh=function(e,n){var r,i=e.loading,o=void 0!==i&&i,a=e.prefixCls,s=e.type,u=void 0===s?"default":s,l=e.danger,f=e.shape,h=void 0===f?"default":f,d=e.size,p=e.disabled,v=e.className,m=e.children,g=e.icon,y=e.ghost,_=void 0!==y&&y,k=e.block,x=void 0!==k&&k,E=e.htmlType,S=void 0===E?"button":E,T=Xf(e,["loading","prefixCls","type","danger","shape","size","disabled","className","children","icon","ghost","block","htmlType"]),C=t.useContext(Tn),I=C.getPrefixCls,P=C.autoInsertSpaceInButton,A=C.direction,N=I("btn",a),R=c($f(N),2),O=R[0],M=R[1],D=t.useContext(Wn),L=t.useContext(Un),F=null!==p&&void 0!==p?p:L,j=t.useContext(If),z=c(t.useState(!!o),2),B=z[0],V=z[1],U=c(t.useState(!1),2),H=U[0],q=U[1],W=n||t.createRef(),K=function(){return 1===t.Children.count(m)&&!g&&!th(u)},G="boolean"===typeof o?o:(null===o||void 0===o?void 0:o.delay)||!0;t.useEffect((function(){var e=null;return"number"===typeof G?e=window.setTimeout((function(){e=null,V(G)}),G):V(G),function(){e&&(window.clearTimeout(e),e=null)}}),[G]),t.useEffect((function(){if(W&&W.current&&!1!==P){var e=W.current.textContent;K()&&eh(e)?H||q(!0):H&&q(!1)}}),[W]);var Z=function(t){var n=e.onClick;B||F?t.preventDefault():null===n||void 0===n||n(t)},Y=!1!==P,Q=Wl(N,A),$=Q.compactSize,X=Q.compactItemClassnames,J=$||j||d||D,ee=J&&{large:"lg",small:"sm",middle:void 0}[J]||"",te=B?"loading":g,ne=pt(T,["navigate"]),re=wt()(N,M,(w(r={},N+"-"+h,"default"!==h&&h),w(r,N+"-"+u,u),w(r,N+"-"+ee,ee),w(r,N+"-icon-only",!m&&0!==m&&!!te),w(r,N+"-background-ghost",_&&!th(u)),w(r,N+"-loading",B),w(r,N+"-two-chinese-chars",H&&Y&&!B),w(r,N+"-block",x),w(r,N+"-dangerous",!!l),w(r,N+"-rtl","rtl"===A),w(r,N+"-disabled",void 0!==ne.href&&F),r),X,v),ie=g&&!B?g:t.createElement(Rf,{existIcon:!!g,prefixCls:N,loading:!!B}),oe=m||0===m?nh(m,K()&&Y):null;if(void 0!==ne.href)return O(t.createElement("a",b({},ne,{className:re,onClick:Z,ref:W}),ie,oe));var ae=t.createElement("button",b({},T,{type:S,className:re,onClick:Z,disabled:F,ref:W}),ie,oe);return th(u)||(ae=t.createElement(Tf,{disabled:!!B},ae)),O(ae)},ih=t.forwardRef(rh);ih.Group=Pf,ih.__ANT_BUTTON=!0;var oh=ih,ah=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},sh=t.forwardRef((function(e,n){var r,i,o=e.prefixCls,a=e.inputPrefixCls,s=e.className,u=e.size,c=e.suffix,l=e.enterButton,f=void 0!==l&&l,h=e.addonAfter,d=e.loading,p=e.disabled,v=e.onSearch,m=e.onChange,g=e.onCompositionStart,y=e.onCompositionEnd,_=ah(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),k=t.useContext(Tn),x=k.getPrefixCls,E=k.direction,S=t.useContext(Wn),T=t.useRef(!1),C=x("input-search",o),I=x("input",a),P=Wl(C,E).compactSize||u||S,A=t.useRef(null),N=function(e){var t;document.activeElement===(null===(t=A.current)||void 0===t?void 0:t.input)&&e.preventDefault()},R=function(e){var t,n;v&&v(null===(n=null===(t=A.current)||void 0===t?void 0:t.input)||void 0===n?void 0:n.value,e)},O="boolean"===typeof f?t.createElement(pf,null):null,M=C+"-button",D=f||{},L=D.type&&!0===D.type.__ANT_BUTTON;i=L||"button"===D.type?Ca(D,b({onMouseDown:N,onClick:function(e){var t,n;null===(n=null===(t=null===D||void 0===D?void 0:D.props)||void 0===t?void 0:t.onClick)||void 0===n||n.call(t,e),R(e)},key:"enterButton"},L?{className:M,size:P}:{})):t.createElement(oh,{className:M,type:f?"primary":void 0,size:P,disabled:p,key:"enterButton",onMouseDown:N,onClick:R,loading:d,icon:O},f),h&&(i=[i,Ca(h,{key:"addonAfter"})]);var F=wt()(C,(w(r={},C+"-rtl","rtl"===E),w(r,C+"-"+P,!!P),w(r,C+"-with-button",!!f),r),s);return t.createElement(Jl,b({ref:Tt(A,n),onPressEnter:function(e){T.current||d||R(e)}},_,{size:P,onCompositionStart:function(e){T.current=!0,null===g||void 0===g||g(e)},onCompositionEnd:function(e){T.current=!1,null===y||void 0===y||y(e)},prefixCls:I,addonAfter:i,suffix:c,onChange:function(e){e&&e.target&&"click"===e.type&&v&&v(e.target.value,e),m&&m(e)},className:F,disabled:p}))}));var uh=sh,ch=new Map;var lh=new fc((function(e){e.forEach((function(e){var t,n=e.target;null===(t=ch.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}));var fh=function(e){N(n,e);var t=D(n);function n(){return T(this,n),t.apply(this,arguments)}return I(n,[{key:"render",value:function(){return this.props.children}}]),n}(t.Component),hh=t.createContext(null);function dh(e){var n=e.children,r=e.disabled,i=t.useRef(null),o=t.useRef(null),a=t.useContext(hh),s="function"===typeof n,u=s?n(i):n,c=t.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),l=!s&&t.isValidElement(u)&&Ct(u),f=l?u.ref:null,h=t.useMemo((function(){return Tt(f,i)}),[f,i]),d=t.useRef(e);d.current=e;var p=t.useCallback((function(e){var t=d.current,n=t.onResize,r=t.data,i=e.getBoundingClientRect(),o=i.width,s=i.height,u=e.offsetWidth,l=e.offsetHeight,f=Math.floor(o),h=Math.floor(s);if(c.current.width!==f||c.current.height!==h||c.current.offsetWidth!==u||c.current.offsetHeight!==l){var p={width:f,height:h,offsetWidth:u,offsetHeight:l};c.current=p;var v=u===Math.round(o)?o:u,m=l===Math.round(s)?s:l,g=x(x({},p),{},{offsetWidth:v,offsetHeight:m});null===a||void 0===a||a(g,e,r),n&&Promise.resolve().then((function(){n(g,e)}))}}),[]);return t.useEffect((function(){var e,t,n=xt(i.current)||xt(o.current);return n&&!r&&(e=n,t=p,ch.has(e)||(ch.set(e,new Set),lh.observe(e)),ch.get(e).add(t)),function(){return function(e,t){ch.has(e)&&(ch.get(e).delete(t),ch.get(e).size||(lh.unobserve(e),ch.delete(e)))}(n,p)}}),[i.current,r]),t.createElement(fh,{ref:o},l?t.cloneElement(u,{ref:h}):u)}function ph(e){var n=e.children;return("function"===typeof n?[n]:F(n)).map((function(n,r){var i=(null===n||void 0===n?void 0:n.key)||"".concat("rc-observer-key","-").concat(r);return t.createElement(dh,b({},e,{key:i}),n)}))}ph.Collection=function(e){var n=e.children,r=e.onBatchResize,i=t.useRef(0),o=t.useRef([]),a=t.useContext(hh),s=t.useCallback((function(e,t,n){i.current+=1;var s=i.current;o.current.push({size:e,element:t,data:n}),Promise.resolve().then((function(){s===i.current&&(null===r||void 0===r||r(o.current),o.current=[])})),null===a||void 0===a||a(e,t,n)}),[r,a]);return t.createElement(hh.Provider,{value:s},n)};var vh,mh=ph,gh="\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n  pointer-events: none !important;\n",yh=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],bh={};function _h(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&bh[n])return bh[n];var r=window.getComputedStyle(e),i=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),o=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),a=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),s=yh.map((function(e){return"".concat(e,":").concat(r.getPropertyValue(e))})).join(";"),u={sizingStyle:s,paddingSize:o,borderSize:a,boxSizing:i};return t&&n&&(bh[n]=u),u}var wh=["prefixCls","onPressEnter","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],kh=t.forwardRef((function(e,n){var r=e.prefixCls,i=void 0===r?"rc-textarea":r,o=(e.onPressEnter,e.defaultValue),a=e.value,s=e.autoSize,u=e.onResize,l=e.className,f=e.style,h=e.disabled,d=e.onChange,p=(e.onInternalAutoSize,_(e,wh)),m=c(Vc(o,{value:a,postState:function(e){return null!==e&&void 0!==e?e:""}}),2),g=m[0],y=m[1],k=t.useRef();t.useImperativeHandle(n,(function(){return{textArea:k.current}}));var E=c(t.useMemo((function(){return s&&"object"===v(s)?[s.minRows,s.maxRows]:[]}),[s]),2),S=E[0],T=E[1],C=!!s,I=c(t.useState(2),2),P=I[0],A=I[1],N=c(t.useState(),2),R=N[0],O=N[1],M=function(){A(0)};rs((function(){C&&M()}),[a,S,T,C]),rs((function(){if(0===P)A(1);else if(1===P){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;vh||((vh=document.createElement("textarea")).setAttribute("tab-index","-1"),vh.setAttribute("aria-hidden","true"),document.body.appendChild(vh)),e.getAttribute("wrap")?vh.setAttribute("wrap",e.getAttribute("wrap")):vh.removeAttribute("wrap");var i=_h(e,t),o=i.paddingSize,a=i.borderSize,s=i.boxSizing,u=i.sizingStyle;vh.setAttribute("style","".concat(u,";").concat(gh)),vh.value=e.value||e.placeholder||"";var c,l=void 0,f=void 0,h=vh.scrollHeight;if("border-box"===s?h+=a:"content-box"===s&&(h-=o),null!==n||null!==r){vh.value=" ";var d=vh.scrollHeight-o;null!==n&&(l=d*n,"border-box"===s&&(l=l+o+a),h=Math.max(l,h)),null!==r&&(f=d*r,"border-box"===s&&(f=f+o+a),c=h>f?"":"hidden",h=Math.min(f,h))}var p={height:h,overflowY:c,resize:"none"};return l&&(p.minHeight=l),f&&(p.maxHeight=f),p}(k.current,!1,S,T);A(2),O(e)}else!function(){try{if(document.activeElement===k.current){var e=k.current,t=e.selectionStart,n=e.selectionEnd,r=e.scrollTop;k.current.setSelectionRange(t,n),k.current.scrollTop=r}}catch(Gn){}}()}),[P]);var D=t.useRef(),L=function(){rn.cancel(D.current)};t.useEffect((function(){return L}),[]);var F=C?R:null,j=x(x({},f),F);return 0!==P&&1!==P||(j.overflowY="hidden",j.overflowX="hidden"),t.createElement(mh,{onResize:function(e){2===P&&(null===u||void 0===u||u(e),s&&(L(),D.current=rn((function(){M()}))))},disabled:!(s||u)},t.createElement("textarea",b({},p,{ref:k,style:j,className:wt()(i,l,w({},"".concat(i,"-disabled"),h)),disabled:h,value:g,onChange:function(e){y(e.target.value),null===d||void 0===d||d(e)}})))})),xh=kh,Eh=function(e){N(r,e);var n=D(r);function r(e){var t;T(this,r),(t=n.call(this,e)).resizableTextArea=void 0,t.focus=function(){t.resizableTextArea.textArea.focus()},t.saveTextArea=function(e){t.resizableTextArea=e},t.handleChange=function(e){var n=t.props.onChange;t.setValue(e.target.value),n&&n(e)},t.handleKeyDown=function(e){var n=t.props,r=n.onPressEnter,i=n.onKeyDown;13===e.keyCode&&r&&r(e),i&&i(e)};var i="undefined"===typeof e.value||null===e.value?e.defaultValue:e.value;return t.state={value:i},t}return I(r,[{key:"setValue",value:function(e,t){"value"in this.props||this.setState({value:e},t)}},{key:"blur",value:function(){this.resizableTextArea.textArea.blur()}},{key:"render",value:function(){return t.createElement(xh,b({},this.props,{value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,ref:this.saveTextArea}))}}],[{key:"getDerivedStateFromProps",value:function(e){return"value"in e?{value:e.value}:null}}]),r}(t.Component),Sh=Eh,Th=In("text","input");var Ch=function(e){N(r,e);var n=D(r);function r(){return T(this,r),n.apply(this,arguments)}return I(r,[{key:"renderClearIcon",value:function(e){var n,r=this.props,i=r.value,o=r.disabled,a=r.readOnly,s=r.handleReset,u=r.suffix,c=!o&&!a&&i,l=e+"-clear-icon";return t.createElement(Za,{onClick:s,onMouseDown:function(e){return e.preventDefault()},className:wt()((n={},w(n,l+"-hidden",!c),w(n,l+"-has-suffix",!!u),n),l),role:"button"})}},{key:"renderTextAreaWithClearIcon",value:function(e,n,r){var i,o=this.props,a=o.value,s=o.allowClear,u=o.className,c=o.style,l=o.direction,f=o.bordered,h=o.hidden,d=o.status,p=o.hashId,v=r.status,m=r.hasFeedback;if(!s)return Ca(n,{value:a});var g,y=wt()(e+"-affix-wrapper",e+"-affix-wrapper-textarea-with-clear-btn",Gl(e+"-affix-wrapper",Zl(v,d),m),(w(i={},e+"-affix-wrapper-rtl","rtl"===l),w(i,e+"-affix-wrapper-borderless",!f),w(i,""+u,!((g=this.props).addonBefore||g.addonAfter)&&u),i),p);return t.createElement("span",{className:y,style:c,hidden:h},Ca(n,{style:null,value:a}),this.renderClearIcon(e))}},{key:"render",value:function(){var e=this;return t.createElement(yt.Consumer,null,(function(t){var n=e.props,r=n.prefixCls,i=n.inputType,o=n.element;if(i===Th[0])return e.renderTextAreaWithClearIcon(r,o,t)}))}}]),r}(t.Component),Ih=Ch,Ph=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Ah(e,t){return S(e||"").slice(0,t).join("")}function Nh(e,t,n,r){var i=n;return e?i=Ah(n,r):S(t||"").length<n.length&&S(n||"").length>r&&(i=t),i}var Rh=t.forwardRef((function(e,n){var r,i=e.prefixCls,o=e.bordered,a=void 0===o||o,s=e.showCount,u=void 0!==s&&s,l=e.maxLength,f=e.className,h=e.style,d=e.size,p=e.disabled,m=e.onCompositionStart,g=e.onCompositionEnd,y=e.onChange,_=e.status,k=Ph(e,["prefixCls","bordered","showCount","maxLength","className","style","size","disabled","onCompositionStart","onCompositionEnd","onChange","status"]),x=t.useContext(Tn),E=x.getPrefixCls,T=x.direction,C=t.useContext(Wn),I=t.useContext(Un),P=null!==p&&void 0!==p?p:I,A=t.useContext(yt),N=A.status,R=A.hasFeedback,O=A.feedbackIcon,M=Zl(N,_),D=t.useRef(null),L=t.useRef(null),F=c(t.useState(!1),2),j=F[0],z=F[1],B=t.useRef(),V=t.useRef(0),U=c(Vc(k.defaultValue,{value:k.value}),2),H=U[0],q=U[1],W=k.hidden,K=function(e,t){void 0===k.value&&(q(e),null===t||void 0===t||t())},G=Number(l)>0,Z=E("input",i),Y=c(Ml(Z),2),Q=Y[0],$=Y[1];t.useImperativeHandle(n,(function(){var e;return{resizableTextArea:null===(e=D.current)||void 0===e?void 0:e.resizableTextArea,focus:function(e){var t,n;!function(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var r=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r)}}}}(null===(n=null===(t=D.current)||void 0===t?void 0:t.resizableTextArea)||void 0===n?void 0:n.textArea,e)},blur:function(){var e;return null===(e=D.current)||void 0===e?void 0:e.blur()}}}));var X=t.createElement(Sh,b({},pt(k,["allowClear"]),{disabled:P,className:wt()((r={},w(r,Z+"-borderless",!a),w(r,f,f&&!u),w(r,Z+"-sm","small"===C||"small"===d),w(r,Z+"-lg","large"===C||"large"===d),r),Gl(Z,M),$),style:u?{resize:null===h||void 0===h?void 0:h.resize}:h,prefixCls:Z,onCompositionStart:function(e){z(!0),B.current=H,V.current=e.currentTarget.selectionStart,null===m||void 0===m||m(e)},onChange:function(e){var t=e.target.value;!j&&G&&(t=Nh(e.target.selectionStart>=l+1||e.target.selectionStart===t.length||!e.target.selectionStart,H,t,l));K(t),$l(e.currentTarget,e,y,t)},onCompositionEnd:function(e){var t;z(!1);var n=e.currentTarget.value;G&&(n=Nh(V.current>=l+1||V.current===(null===(t=B.current)||void 0===t?void 0:t.length),B.current,n,l));n!==H&&(K(n),$l(e.currentTarget,e,y,n)),null===g||void 0===g||g(e)},ref:D})),J=function(e){return"undefined"===typeof e||null===e?"":String(e)}(H);j||!G||null!==k.value&&void 0!==k.value||(J=Ah(J,l));var ee=t.createElement(Ih,b({disabled:P},k,{prefixCls:Z,direction:T,inputType:"text",value:J,element:X,handleReset:function(e){var t,n,r;K(""),null===(t=D.current)||void 0===t||t.focus(),$l(null===(r=null===(n=D.current)||void 0===n?void 0:n.resizableTextArea)||void 0===r?void 0:r.textArea,e,y)},ref:L,bordered:a,status:_,style:u?void 0:h,hashId:$}));if(u||R){var te,ne=S(J).length,re="";return re="object"===v(u)?u.formatter({value:J,count:ne,maxLength:l}):ne+(G?" / "+l:""),t.createElement("div",{hidden:W,className:wt()(Z+"-textarea",(te={},w(te,Z+"-textarea-rtl","rtl"===T),w(te,Z+"-textarea-show-count",u),te),Gl(Z+"-textarea",M,R),f,$),style:h,"data-count":re},ee,R&&t.createElement("span",{className:Z+"-textarea-suffix"},O))}return Q(ee)})),Oh=Rh,Mh=Jl;Mh.Group=Dl,Mh.Search=uh,Mh.TextArea=Oh,Mh.Password=ff;var Dh=Mh;function Lh(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function Fh(e,t,n){return Fh=O()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&A(i,n.prototype),i},Fh.apply(null,arguments)}function jh(e){var t="function"===typeof Map?new Map:void 0;return jh=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Fh(e,arguments,R(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),A(n,e)},jh(e)}var zh=!1,Bh=!1,Vh="${JSCORE_VERSION}",Uh=function(e,t){if(!e)throw Hh(t)},Hh=function(e){return new Error("Firebase Database ("+Vh+") INTERNAL ASSERT FAILED: "+e)},qh=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Wh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,f=(3&o)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(qh(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Kh=function(e){var t=qh(e);return Wh.encodeByteArray(t,!0)},Gh=function(e){return Kh(e).replace(/\./g,"")},Zh=function(e){try{return Wh.decodeString(e,!0)}catch(Gn){console.error("base64Decode failed: ",Gn)}return null};function Yh(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Yh(e[n],t[n]));return e}function Qh(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function $h(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qh())}function Xh(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Gn){return!1}}function Jh(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ed(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function td(){var e=Qh();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function nd(){return!0===zh||!0===Bh}function rd(){return"object"===typeof indexedDB}function id(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(qW){t(qW)}}))}function od(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}function ad(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}var sd=function(){try{return ad().__FIREBASE_DEFAULTS__||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/mapty",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Gn){return}var t=e&&Zh(e[1]);return t&&JSON.parse(t)}}()}catch(Gn){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(Gn))}},ud=function(){var e;return null===(e=sd())||void 0===e?void 0:e.config},cd=function(){function e(){var t=this;T(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return I(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function ld(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Gh(JSON.stringify({alg:"none",type:"JWT"})),Gh(JSON.stringify(o)),""].join(".")}var fd=function(e){N(n,e);var t=D(n);function n(e,r,i){var o;return T(this,n),(o=t.call(this,r)).code=e,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(P(o),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(P(o),hd.prototype.create),o}return I(n)}(jh(Error)),hd=function(){function e(t,n,r){T(this,e),this.service=t,this.serviceName=n,this.errors=r}return I(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?dd(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),a=new fd(n,o,t);return a}}]),e}();function dd(e,t){return e.replace(pd,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var pd=/\{\$([^}]+)}/g;function vd(e){return JSON.parse(e)}function md(e){return JSON.stringify(e)}var gd=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=vd(Zh(o[0])||""),n=vd(Zh(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(Gn){}return{header:t,claims:n,data:r,signature:i}},yd=function(e){var t=gd(e).claims;return"object"===typeof t&&t.hasOwnProperty("iat")?t.iat:null};function bd(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _d(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function wd(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function kd(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function xd(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,o=n;i<o.length;i++){var a=o[i];if(!r.includes(a))return!1;var s=e[a],u=t[a];if(Ed(s)&&Ed(u)){if(!xd(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Ed(e){return null!==e&&"object"===typeof e}function Sd(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Td(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Cd(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Id=function(){function e(){T(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return I(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var o=16;o<80;o++){var a=n[o-3]^n[o-8]^n[o-14]^n[o-16];n[o]=4294967295&(a<<1|a>>>31)}for(var s,u,c=this.chain_[0],l=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=h^l&(f^h),u=1518500249):(s=l^f^h,u=1859775393):p<60?(s=l&f|h&(l|f),u=2400959708):(s=l^f^h,u=3395469782);var v=(c<<5|c>>>27)+s+d+u+n[p]&4294967295;d=h,h=f,f=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}]),e}();function Pd(e,t){var n=new Ad(e,t);return n.subscribe.bind(n)}var Ad=function(){function e(t,n){var r=this;T(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return I(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Lh(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(o){r.e(o)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Nd),void 0===r.error&&(r.error=Nd),void 0===r.complete&&(r.complete=Nd);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(Gn){}})),this.observers.push(r),o}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(Gn){"undefined"!==typeof console&&console.error&&console.error(Gn)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Nd(){}var Rd=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function Od(e,t){return"".concat(e," failed: ").concat(t," argument ")}function Md(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(Od(e,t)+"must be a valid function.")}function Dd(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(Od(e,t)+"must be a valid context object.")}var Ld=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},Fd=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},jd=144e5;function zd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(jd,r+i)}function Bd(e){return e&&e._delegate?e._delegate:e}var Vd=function(){function e(t,n,r){T(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return I(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ud="[DEFAULT]",Hd=function(){function e(t,n){T(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return I(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new cd;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(Gn){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Gn){if(r)return null;throw Gn}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ud})}catch(Gn){}var t,n=Lh(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],o=r[1],a=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:a});o.resolve(s)}catch(Gn){}}}catch(u){n.e(u)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ud;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=y(m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(S(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),S(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ud;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ud;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),a=Lh(this.instancesDeferred.entries());try{for(a.s();!(i=a.n()).done;){var s=c(i.value,2),u=s[0],l=s[1],f=this.normalizeInstanceIdentifier(u);r===f&&l.resolve(o)}}catch(h){a.e(h)}finally{a.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Lh(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;try{o(e,t)}catch(zL){}}}catch(a){i.e(a)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:qd(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(zL){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ud;return this.component?this.component.multipleInstances?e:Ud:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function qd(e){return e===Ud?void 0:e}var Wd,Kd,Gd=function(){function e(t){T(this,e),this.name=t,this.providers=new Map}return I(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Hd(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Zd=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Kd||(Kd={}));var Yd={debug:Kd.DEBUG,verbose:Kd.VERBOSE,info:Kd.INFO,warn:Kd.WARN,error:Kd.ERROR,silent:Kd.SILENT},Qd=Kd.INFO,$d=(w(Wd={},Kd.DEBUG,"log"),w(Wd,Kd.VERBOSE,"log"),w(Wd,Kd.INFO,"info"),w(Wd,Kd.WARN,"warn"),w(Wd,Kd.ERROR,"error"),Wd),Xd=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=$d[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,o=arguments.length,a=new Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(a))}},Jd=function(){function e(t){T(this,e),this.name=t,this._logLevel=Qd,this._logHandler=Xd,this._userLogHandler=null,Zd.push(this)}return I(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Kd))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Yd[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Kd.DEBUG].concat(t)),this._logHandler.apply(this,[this,Kd.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Kd.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Kd.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Kd.INFO].concat(t)),this._logHandler.apply(this,[this,Kd.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Kd.WARN].concat(t)),this._logHandler.apply(this,[this,Kd.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Kd.ERROR].concat(t)),this._logHandler.apply(this,[this,Kd.ERROR].concat(t))}}]),e}();var ep,tp;var np=new WeakMap,rp=new WeakMap,ip=new WeakMap,op=new WeakMap,ap=new WeakMap;var sp={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return rp.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ip.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return lp(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function up(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(tp||(tp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(fp(this),n),lp(np.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return lp(e.apply(fp(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=e.call.apply(e,[fp(this),t].concat(r));return ip.set(o,t.sort?t.sort():[t]),lp(o)}}function cp(e){return"function"===typeof e?up(e):(e instanceof IDBTransaction&&function(e){if(!rp.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=function(){t(),r()},o=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));rp.set(e,t)}}(e),function(e,t){return t.some((function(t){return e instanceof t}))}(e,ep||(ep=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,sp):e)}function lp(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",o)},i=function(){t(lp(e.result)),r()},o=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((function(t){t instanceof IDBCursor&&np.set(t,e)})).catch((function(){})),ap.set(t,e),t}(e);if(op.has(e))return op.get(e);var t=cp(e);return t!==e&&(op.set(e,t),ap.set(t,e)),t}var fp=function(e){return ap.get(e)};var hp,dp,pp=["get","getKey","getAll","getAllKeys","count"],vp=["put","add","delete","clear"],mp=new Map;function gp(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(mp.get(t))return mp.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=vp.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||pp.includes(n))){var o=function(){var e=y(m().mark((function e(t){var o,a,s,u,c,l,f=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=this.transaction(t,i?"readwrite":"readonly"),s=a.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(o=s)[n].apply(o,c),i&&a.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return mp.set(t,o),o}}}sp=function(e){return x(x({},e),{},{get:function(t,n,r){return gp(t,n)||e.get(t,n,r)},has:function(t,n){return!!gp(t,n)||e.has(t,n)}})}(sp);var yp=function(){function e(t){T(this,e),this.container=t}return I(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var bp="@firebase/app",_p="0.8.4",wp=new Jd("@firebase/app"),kp="[DEFAULT]",xp=(w(hp={},bp,"fire-core"),w(hp,"@firebase/app-compat","fire-core-compat"),w(hp,"@firebase/analytics","fire-analytics"),w(hp,"@firebase/analytics-compat","fire-analytics-compat"),w(hp,"@firebase/app-check","fire-app-check"),w(hp,"@firebase/app-check-compat","fire-app-check-compat"),w(hp,"@firebase/auth","fire-auth"),w(hp,"@firebase/auth-compat","fire-auth-compat"),w(hp,"@firebase/database","fire-rtdb"),w(hp,"@firebase/database-compat","fire-rtdb-compat"),w(hp,"@firebase/functions","fire-fn"),w(hp,"@firebase/functions-compat","fire-fn-compat"),w(hp,"@firebase/installations","fire-iid"),w(hp,"@firebase/installations-compat","fire-iid-compat"),w(hp,"@firebase/messaging","fire-fcm"),w(hp,"@firebase/messaging-compat","fire-fcm-compat"),w(hp,"@firebase/performance","fire-perf"),w(hp,"@firebase/performance-compat","fire-perf-compat"),w(hp,"@firebase/remote-config","fire-rc"),w(hp,"@firebase/remote-config-compat","fire-rc-compat"),w(hp,"@firebase/storage","fire-gcs"),w(hp,"@firebase/storage-compat","fire-gcs-compat"),w(hp,"@firebase/firestore","fire-fst"),w(hp,"@firebase/firestore-compat","fire-fst-compat"),w(hp,"fire-js","fire-js"),w(hp,"firebase","fire-js-all"),hp),Ep=new Map,Sp=new Map;function Tp(e,t){try{e.container.addComponent(t)}catch(Gn){wp.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),Gn)}}function Cp(e,t){e.container.addOrOverwriteComponent(t)}function Ip(e){var t=e.name;if(Sp.has(t))return wp.debug("There were multiple attempts to register component ".concat(t,".")),!1;Sp.set(t,e);var n,r=Lh(Ep.values());try{for(r.s();!(n=r.n()).done;){Tp(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Pp(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ap(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:kp;Pp(e,t).clearInstance(n)}function Np(){Sp.clear()}var Rp=(w(dp={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),w(dp,"bad-app-name","Illegal App name: '{$appName}"),w(dp,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),w(dp,"app-deleted","Firebase App named '{$appName}' already deleted"),w(dp,"no-options","Need to provide options, when not being deployed to hosting via source."),w(dp,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),w(dp,"invalid-log-argument","First argument to `onLog` must be null or a function."),w(dp,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),w(dp,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),w(dp,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),w(dp,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),dp),Op=new hd("app","Firebase",Rp),Mp=function(){function e(t,n,r){var i=this;T(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vd("app",(function(){return i}),"PUBLIC"))}return I(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Op.create("app-deleted",{appName:this._name})}}]),e}(),Dp="9.14.0";function Lp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:kp,automaticDataCollectionEnabled:!1},t),o=i.name;if("string"!==typeof o||!o)throw Op.create("bad-app-name",{appName:String(o)});if(n||(n=ud()),!n)throw Op.create("no-options");var a=Ep.get(o);if(a){if(xd(n,a.options)&&xd(i,a.config))return a;throw Op.create("duplicate-app",{appName:o})}var s,u=new Gd(o),c=Lh(Sp.values());try{for(c.s();!(s=c.n()).done;){var l=s.value;u.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new Mp(n,i,u);return Ep.set(o,f),f}function Fp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kp,t=Ep.get(e);if(!t&&e===kp)return Lp();if(!t)throw Op.create("no-app",{appName:e});return t}function jp(){return Array.from(Ep.values())}function zp(e){return Bp.apply(this,arguments)}function Bp(){return(Bp=y(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Ep.has(n)){e.next=6;break}return Ep.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vp(e,t,n){var r,i=null!==(r=xp[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&a&&s.push("and"),a&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void wp.warn(s.join(" "))}Ip(new Vd("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Up(e,t){if(null!==e&&"function"!==typeof e)throw Op.create("invalid-log-argument");!function(e,t){var n,r=Lh(Zd);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Yd[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];var s=o.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Kd[n].toLowerCase(),message:s,args:o,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(o){r.e(o)}finally{r.f()}}(e,t)}function Hp(e){var t;t=e,Zd.forEach((function(e){e.setLogLevel(t)}))}var qp="firebase-heartbeat-store",Wp=null;function Kp(){return Wp||(Wp=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,o=n.blocking,a=n.terminated,s=indexedDB.open(e,t),u=lp(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(lp(s.result),e.oldVersion,e.newVersion,lp(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){a&&e.addEventListener("close",(function(){return a()})),o&&e.addEventListener("versionchange",(function(){return o()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(qp)}}).catch((function(e){throw Op.create("idb-open",{originalErrorMessage:e.message})}))),Wp}function Gp(e){return Zp.apply(this,arguments)}function Zp(){return Zp=y(m().mark((function e(t){var n,r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kp();case 3:return r=e.sent,e.abrupt("return",r.transaction(qp).objectStore(qp).get($p(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof fd?wp.warn(e.t0.message):(i=Op.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),wp.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Zp.apply(this,arguments)}function Yp(e,t){return Qp.apply(this,arguments)}function Qp(){return Qp=y(m().mark((function e(t,n){var r,i,o,a,s;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kp();case 3:return i=e.sent,o=i.transaction(qp,"readwrite"),a=o.objectStore(qp),e.next=8,a.put(n,$p(t));case 8:return e.abrupt("return",o.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof fd?wp.warn(e.t0.message):(s=Op.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),wp.warn(s.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Qp.apply(this,arguments)}function $p(e){return"".concat(e.name,"!").concat(e.options.appId)}var Xp=function(){function e(t){var n=this;T(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new rv(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return I(e,[{key:"triggerHeartbeat",value:function(){var e=y(m().mark((function e(){var t,n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Jp(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=y(m().mark((function e(){var t,n,r,i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Jp(),n=ev(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,o=Gh(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",o);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Jp(){return(new Date).toISOString().substring(0,10)}function ev(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),o=Lh(e);try{var a=function(){var e=t.value,o=r.find((function(t){return t.agent===e.agent}));if(o){if(o.dates.push(e.date),iv(r)>n)return o.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),iv(r)>n)return r.pop(),"break";i=i.slice(1)};for(o.s();!(t=o.n()).done;){var s=a();if("break"===s)break}}catch(u){o.e(u)}finally{o.f()}return{heartbeatsToSend:r,unsentEntries:i}}var tv,nv,rv=function(){function e(t){T(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return I(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(rd()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",id().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=y(m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Gp(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=y(m().mark((function e(t){var n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Yp(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=y(m().mark((function e(t){var n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Yp(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(S(r.heartbeats),S(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function iv(e){return Gh(JSON.stringify({version:2,heartbeats:e})).length}tv="",Ip(new Vd("platform-logger",(function(e){return new yp(e)}),"PRIVATE")),Ip(new Vd("heartbeat",(function(e){return new Xp(e)}),"PRIVATE")),Vp(bp,_p,tv),Vp(bp,_p,"esm2017"),Vp("fire-js","");var ov=function(){function e(t,n){var r=this;T(this,e),this._delegate=t,this.firebase=n,Tp(t,new Vd("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return I(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),zp(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kp;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kp;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Tp(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Cp(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),av=(w(nv={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),w(nv,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),nv),sv=new hd("app-compat","Firebase",av);var uv=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Lp(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(bd(n,i.name))return n[i.name];var o=new t(i,r);return n[i.name]=o,o},app:i,registerVersion:Vp,setLogLevel:Hp,onLog:Up,apps:null,SDK_VERSION:Dp,INTERNAL:{registerComponent:function(e){var n=e.name,o=n.replace("-compat","");if(Ip(e)&&"PUBLIC"===e.type){var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[o])throw sv.create("invalid-app-argument",{appName:n});return e[o]()};void 0!==e.serviceProps&&Yh(a,e.serviceProps),r[o]=a,t.prototype[o]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[o]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!bd(n,e=e||kp))throw sv.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(ov);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Yh(n,e)},createSubscribe:Pd,ErrorFactory:hd,deepExtend:Yh}),n}(),cv=new Jd("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){cv.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var lv=self.firebase.SDK_VERSION;lv&&lv.indexOf("LITE")>=0&&cv.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var fv=uv;!function(e){Vp("@firebase/app-compat","0.1.39",e)}();function hv(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=R(e)););return e}function dv(){return dv="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=hv(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},dv.apply(this,arguments)}fv.registerVersion("firebase","9.14.0","app-compat");function pv(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var vv;Object.create;var mv="facebook.com",gv="github.com",yv="google.com",bv="password",_v="twitter.com",wv="EMAIL_SIGNIN",kv="PASSWORD_RESET",xv="RECOVER_EMAIL",Ev="REVERT_SECOND_FACTOR_ADDITION",Sv="VERIFY_AND_CHANGE_EMAIL",Tv="VERIFY_EMAIL";function Cv(){return w({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Iv=function(){var e;return w(e={},"admin-restricted-operation","This operation is restricted to administrators only."),w(e,"argument-error",""),w(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),w(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),w(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),w(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),w(e,"cordova-not-ready","Cordova framework is not ready."),w(e,"cors-unsupported","This browser is not supported."),w(e,"credential-already-in-use","This credential is already associated with a different user account."),w(e,"custom-token-mismatch","The custom token corresponds to a different audience."),w(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),w(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),w(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),w(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),w(e,"email-already-in-use","The email address is already in use by another account."),w(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),w(e,"expired-action-code","The action code has expired."),w(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),w(e,"internal-error","An internal AuthError has occurred."),w(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),w(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),w(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),w(e,"invalid-auth-event","An internal AuthError has occurred."),w(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),w(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),w(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),w(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),w(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),w(e,"invalid-email","The email address is badly formatted."),w(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),w(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),w(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),w(e,"invalid-credential","The supplied auth credential is malformed or has expired."),w(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),w(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),w(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),w(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),w(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),w(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),w(e,"wrong-password","The password is invalid or the user does not have a password."),w(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),w(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),w(e,"invalid-provider-id","The specified provider ID is invalid."),w(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),w(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),w(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),w(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),w(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),w(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),w(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),w(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),w(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),w(e,"missing-continue-uri","A continue URL must be provided in the request."),w(e,"missing-iframe-start","An internal AuthError has occurred."),w(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),w(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),w(e,"missing-multi-factor-info","No second factor identifier is provided."),w(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),w(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),w(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),w(e,"app-deleted","This instance of FirebaseApp has been deleted."),w(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),w(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),w(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),w(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),w(e,"no-auth-event","An internal AuthError has occurred."),w(e,"no-such-provider","User was not linked to an account with the given provider."),w(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),w(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),w(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),w(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),w(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),w(e,"provider-already-linked","User can only be linked to one identity for the given provider."),w(e,"quota-exceeded","The project's quota for this operation has been exceeded."),w(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),w(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),w(e,"rejected-credential","The request contains malformed or mismatching credentials."),w(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),w(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),w(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),w(e,"timeout","The operation has timed out."),w(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),w(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),w(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),w(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),w(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),w(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),w(e,"unverified-email","The operation requires a verified email."),w(e,"user-cancelled","The user did not grant your application the permissions it requested."),w(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),w(e,"user-disabled","The user account has been disabled by an administrator."),w(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),w(e,"user-signed-out",""),w(e,"weak-password","The password must be 6 characters long or more."),w(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),w(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Pv=Cv,Av=new hd("auth","Firebase",Cv()),Nv=new Jd("@firebase/auth");function Rv(e){if(Nv.logLevel<=Kd.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Nv.error.apply(Nv,["Auth (".concat(Dp,"): ").concat(e)].concat(n))}}function Ov(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Fv.apply(void 0,[e].concat(n))}function Mv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Fv.apply(void 0,[e].concat(n))}function Dv(e,t,n){var r=Object.assign(Object.assign({},Pv()),w({},t,n));return new hd("auth","Firebase",r).create(t,{appName:e.name})}function Lv(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Ov(e,"argument-error"),Dv(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Fv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,o=n[0],a=S(n.slice(1));return a[0]&&(a[0].appName=e.name),(i=e._errorFactory).create.apply(i,[o].concat(S(a)))}return Av.create.apply(Av,[e].concat(n))}function jv(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Fv.apply(void 0,[t].concat(r))}}function zv(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Rv(t),new Error(t)}function Bv(e,t){e||zv(t)}var Vv=new Map;function Uv(e){Bv(e instanceof Function,"Expected a class definition");var t=Vv.get(e);return t?(Bv(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Vv.set(e,t),t)}function Hv(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function qv(){return"http:"===Wv()||"https:"===Wv()}function Wv(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Kv=function(){function e(t,n){T(this,e),this.shortDelay=t,this.longDelay=n,Bv(n>t,"Short delay should be less than long delay!"),this.isMobile=$h()||ed()}return I(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(qv()||Jh()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Gv(e,t){Bv(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Zv=function(){function e(){T(this,e)}return I(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void zv("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void zv("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void zv("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Yv=(w(vv={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),w(vv,"MISSING_CUSTOM_TOKEN","internal-error"),w(vv,"INVALID_IDENTIFIER","invalid-email"),w(vv,"MISSING_CONTINUE_URI","internal-error"),w(vv,"INVALID_PASSWORD","wrong-password"),w(vv,"MISSING_PASSWORD","internal-error"),w(vv,"EMAIL_EXISTS","email-already-in-use"),w(vv,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),w(vv,"INVALID_IDP_RESPONSE","invalid-credential"),w(vv,"INVALID_PENDING_TOKEN","invalid-credential"),w(vv,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),w(vv,"MISSING_REQ_TYPE","internal-error"),w(vv,"EMAIL_NOT_FOUND","user-not-found"),w(vv,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),w(vv,"EXPIRED_OOB_CODE","expired-action-code"),w(vv,"INVALID_OOB_CODE","invalid-action-code"),w(vv,"MISSING_OOB_CODE","internal-error"),w(vv,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),w(vv,"INVALID_ID_TOKEN","invalid-user-token"),w(vv,"TOKEN_EXPIRED","user-token-expired"),w(vv,"USER_NOT_FOUND","user-token-expired"),w(vv,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),w(vv,"INVALID_CODE","invalid-verification-code"),w(vv,"INVALID_SESSION_INFO","invalid-verification-id"),w(vv,"INVALID_TEMPORARY_PROOF","invalid-credential"),w(vv,"MISSING_SESSION_INFO","missing-verification-id"),w(vv,"SESSION_EXPIRED","code-expired"),w(vv,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),w(vv,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),w(vv,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),w(vv,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),w(vv,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),w(vv,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),w(vv,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),w(vv,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),w(vv,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),w(vv,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),w(vv,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),vv),Qv=new Kv(3e4,6e4);function $v(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Xv(e,t,n,r){return Jv.apply(this,arguments)}function Jv(){return Jv=y(m().mark((function e(t,n,r,i){var o,a=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.length>4&&void 0!==a[4]?a[4]:{},e.abrupt("return",em(t,o,y(m().mark((function e(){var o,a,s,u;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={},a={},i&&("GET"===n?a=i:o={body:JSON.stringify(i)}),s=Sd(Object.assign({key:t.config.apiKey},a)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Zv.fetch()(im(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},o)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Jv.apply(this,arguments)}function em(e,t,n){return tm.apply(this,arguments)}function tm(){return tm=y(m().mark((function e(t,n,r){var i,o,a,s,u,l,f,h,d,p;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Yv),n),e.prev=2,o=new om(t),e.next=6,Promise.race([r(),o.promise]);case 6:return a=e.sent,o.clearNetworkTimeout(),e.next=10,a.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw am(t,"account-exists-with-different-credential",s);case 13:if(!a.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=a.ok?s.errorMessage:s.error.message,l=u.split(" : "),f=c(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw am(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw am(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw am(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Dv(t,p,d);case 34:Ov(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof fd)){e.next=41;break}throw e.t0;case 41:Ov(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),tm.apply(this,arguments)}function nm(e,t,n,r){return rm.apply(this,arguments)}function rm(){return rm=y(m().mark((function e(t,n,r,i){var o,a,s=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Xv(t,n,r,i,o);case 3:return"mfaPendingCredential"in(a=e.sent)&&Ov(t,"multi-factor-auth-required",{_serverResponse:a}),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)}))),rm.apply(this,arguments)}function im(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Gv(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var om=function(){function e(t){var n=this;T(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Mv(n.auth,"network-request-failed"))}),Qv.get())}))}return I(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function am(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Mv(e,t,r);return i.customData._tokenResponse=n,i}function sm(e,t){return um.apply(this,arguments)}function um(){return um=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xv(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),um.apply(this,arguments)}function cm(e,t){return lm.apply(this,arguments)}function lm(){return lm=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xv(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),lm.apply(this,arguments)}function fm(e,t){return hm.apply(this,arguments)}function hm(){return hm=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xv(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),hm.apply(this,arguments)}function dm(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(Gn){}}function pm(){return pm=y(m().mark((function e(t){var n,r,i,o,a,s,u=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Bd(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,jv((o=mm(i))&&o.exp&&o.auth_time&&o.iat,r.auth,"internal-error"),a="object"===typeof o.firebase?o.firebase:void 0,s=null===a||void 0===a?void 0:a.sign_in_provider,e.abrupt("return",{claims:o,token:i,authTime:dm(vm(o.auth_time)),issuedAtTime:dm(vm(o.iat)),expirationTime:dm(vm(o.exp)),signInProvider:s||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),pm.apply(this,arguments)}function vm(e){return 1e3*Number(e)}function mm(e){var t,n=c(e.split("."),3),r=n[0],i=n[1],o=n[2];if(void 0===r||void 0===i||void 0===o)return Rv("JWT malformed, contained fewer than 3 sections"),null;try{var a=Zh(i);return a?JSON.parse(a):(Rv("Failed to decode base64 JWT payload"),null)}catch(Gn){return Rv("Caught error parsing JWT payload as JSON",null===(t=Gn)||void 0===t?void 0:t.toString()),null}}function gm(e,t){return ym.apply(this,arguments)}function ym(){return ym=y(m().mark((function e(t,n){var r=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof fd&&bm(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),ym.apply(this,arguments)}function bm(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var _m=function(){function e(t){T(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return I(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(y(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=y(m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),wm=function(){function e(t,n){T(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return I(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=dm(this.lastLoginAt),this.creationTime=dm(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function km(e){return xm.apply(this,arguments)}function xm(){return xm=y(m().mark((function e(t){var n,r,i,o,a,s,u,c,l,f,h;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,gm(t,fm(r,{idToken:i}));case 6:jv(null===(o=e.sent)||void 0===o?void 0:o.users.length,r,"internal-error"),a=o.users[0],t._notifyReloadListener(a),s=(null===(n=a.providerUserInfo)||void 0===n?void 0:n.length)?Tm(a.providerUserInfo):[],u=Sm(t.providerData,s),c=t.isAnonymous,l=!(t.email&&a.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new wm(a.createdAt,a.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),xm.apply(this,arguments)}function Em(){return(Em=y(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Bd(t),e.next=3,km(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sm(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(S(n),S(t))}function Tm(e){return e.map((function(e){var t=e.providerId,n=pv(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Cm(e,t){return Im.apply(this,arguments)}function Im(){return Im=y(m().mark((function e(t,n){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,em(t,{},y(m().mark((function e(){var r,i,o,a,s,u;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sd({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,o=i.tokenApiHost,a=i.apiKey,s=im(t,o,"/v1/token","key=".concat(a)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Zv.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Im.apply(this,arguments)}var Pm=function(){function e(){T(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return I(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){jv(e.idToken,"internal-error"),jv("undefined"!==typeof e.idToken,"internal-error"),jv("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=mm(e);return jv(t,"internal-error"),jv("undefined"!==typeof t.exp,"internal-error"),jv("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=y(m().mark((function e(t){var n,r=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],jv(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=y(m().mark((function e(t,n){var r,i,o,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cm(t,n);case 2:r=e.sent,i=r.accessToken,o=r.refreshToken,a=r.expiresIn,this.updateTokensAndExpiration(i,o,Number(a));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return zv("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,o=n.expirationTime,a=new e;return r&&(jv("string"===typeof r,"internal-error",{appName:t}),a.refreshToken=r),i&&(jv("string"===typeof i,"internal-error",{appName:t}),a.accessToken=i),o&&(jv("number"===typeof o,"internal-error",{appName:t}),a.expirationTime=o),a}}]),e}();function Am(e,t){jv("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Nm=function(){function e(t){T(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,o=pv(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _m(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?S(o.providerData):[],this.metadata=new wm(o.createdAt||void 0,o.lastLoginAt||void 0)}return I(e,[{key:"getIdToken",value:function(){var e=y(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gm(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(jv(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return pm.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Em.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(jv(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){jv(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=y(m().mark((function e(t){var n,r,i=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,km(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=y(m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,gm(this,sm(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,o,a,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,p=null!==(a=n.photoURL)&&void 0!==a?a:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,_=n.emailVerified,w=n.isAnonymous,k=n.providerData,x=n.stsTokenManager;jv(b&&x,t,"internal-error");var E=Pm.fromJSON(this.name,x);jv("string"===typeof b,t,"internal-error"),Am(f,t.name),Am(h,t.name),jv("boolean"===typeof _,t,"internal-error"),jv("boolean"===typeof w,t,"internal-error"),Am(d,t.name),Am(p,t.name),Am(v,t.name),Am(m,t.name),Am(g,t.name),Am(y,t.name);var S=new e({uid:b,auth:t,email:h,emailVerified:_,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:g,lastLoginAt:y});return k&&Array.isArray(k)&&(S.providerData=k.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=y(m().mark((function t(n,r){var i,o,a,s=arguments;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(o=new Pm).updateFromServerResponse(r),a=new e({uid:r.localId,auth:n,stsTokenManager:o,isAnonymous:i}),t.next=6,km(a);case 6:return t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Rm=function(){function e(){T(this,e),this.type="NONE",this.storage={}}return I(e,[{key:"_isAvailable",value:function(){var e=y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=y(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Rm.type="NONE";var Om=Rm;function Mm(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Dm=function(){function e(t,n,r){T(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,o=i.config,a=i.name;this.fullUserKey=Mm(this.userKey,o.apiKey,a),this.fullPersistenceKey=Mm("persistence",o.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return I(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=y(m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Nm._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=y(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=y(m().mark((function t(n,r){var i,o,a,s,u,c,l,f,h,d,p,v=arguments;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Uv(Om),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:o=t.sent.filter((function(e){return e})),a=o[0]||Uv(Om),s=Mm(i,n.config.apiKey,n.name),u=null,c=Lh(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=Nm._fromJSON(n,h),f!==a&&(u=d),a=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=o.filter((function(e){return e._shouldAllowMigration})),a._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(a,n,i));case 40:if(a=p[0],!u){t.next=44;break}return t.next=44,a._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===a){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(a,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Lm(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Bm(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Fm(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Um(t))return"Blackberry";if(Hm(t))return"Webos";if(jm(t))return"Safari";if((t.includes("chrome/")||zm(t))&&!t.includes("edge/"))return"Chrome";if(Vm(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Fm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qh();return/firefox\//i.test(e)}function jm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qh(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function zm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qh();return/crios\//i.test(e)}function Bm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qh();return/iemobile/i.test(e)}function Vm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qh();return/android/i.test(e)}function Um(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qh();return/blackberry/i.test(e)}function Hm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qh();return/webos/i.test(e)}function qm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qh();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Wm(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qh();return qm(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Km(){return td()&&10===document.documentMode}function Gm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qh();return qm(e)||Vm(e)||Hm(e)||Um(e)||/windows phone/i.test(e)||Bm(e)}function Zm(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Lm(Qh());break;case"Worker":t="".concat(Lm(Qh()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Dp,"/").concat(r)}var Ym=function(){function e(t){T(this,e),this.auth=t,this.queue=[]}return I(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(Gn){r(Gn)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=y(m().mark((function e(t){var n,r,i,o,a,s,u,c;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=Lh(this.queue),e.prev=5,i.s();case 7:if((o=i.n()).done){e.next=14;break}return a=o.value,e.next=11,a(t);case 11:a.onAbort&&r.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),s=Lh(r);try{for(s.s();!(u=s.n()).done;){c=u.value;try{c()}catch(l){}}}catch(f){s.e(f)}finally{s.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Qm=function(){function e(t,n,r){T(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xm(this),this.idTokenSubscription=new Xm(this),this.beforeStateQueue=new Ym(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Av,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return I(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Uv(t)),this._initializationPromise=this.queue(y(m().mark((function r(){var i,o;return m().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Dm.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(o=n.currentUser)||void 0===o?void 0:o.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=y(m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=y(m().mark((function e(t){var n,r,i,o,a,s,u;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,o=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return a=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,a&&a!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,o=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!o){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return jv(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=y(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=y(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,km(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=y(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Bd(t):null)&&jv(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=y(m().mark((function e(t){var n,r=this,i=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&jv(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(y(m().mark((function n(){return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Uv(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new hd("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=y(m().mark((function e(t,n){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=y(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return jv(n=t&&Uv(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Dm.create(this,[Uv(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=y(m().mark((function e(t){var n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=y(m().mark((function e(t){var n=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var o="function"===typeof t?t:t.next.bind(t),a=this._isInitialized?Promise.resolve():this._initializationPromise;return jv(a,this,"internal-error"),a.then((function(){return o(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return jv(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Zm(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=y(m().mark((function e(){var t,n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=w({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function $m(e){return Bd(e)}var Xm=function(){function e(t){var n=this;T(this,e),this.auth=t,this.observer=null,this.addObserver=Pd((function(e){return n.observer=e}))}return I(e,[{key:"next",get:function(){return jv(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Jm(e,t,n){var r=$m(e);jv(r._canInitEmulator,r,"emulator-config-failed"),jv(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=eg(t),a=function(e){var t=eg(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var o=i[1];return{host:o,port:tg(r.substr(o.length+1))}}var a=c(r.split(":"),2);return{host:a[0],port:tg(a[1])}}(t),s=a.host,u=a.port,l=null===u?"":":".concat(u);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function eg(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function tg(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var ng=function(){function e(t,n){T(this,e),this.providerId=t,this.signInMethod=n}return I(e,[{key:"toJSON",value:function(){return zv("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return zv("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return zv("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return zv("not implemented")}}]),e}();function rg(e,t){return ig.apply(this,arguments)}function ig(){return ig=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xv(t,"POST","/v1/accounts:resetPassword",$v(t,n)));case 1:case"end":return e.stop()}}),e)}))),ig.apply(this,arguments)}function og(e,t){return ag.apply(this,arguments)}function ag(){return ag=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xv(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),ag.apply(this,arguments)}function sg(e,t){return ug.apply(this,arguments)}function ug(){return ug=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xv(t,"POST","/v1/accounts:update",$v(t,n)));case 1:case"end":return e.stop()}}),e)}))),ug.apply(this,arguments)}function cg(e,t){return lg.apply(this,arguments)}function lg(){return lg=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nm(t,"POST","/v1/accounts:signInWithPassword",$v(t,n)));case 1:case"end":return e.stop()}}),e)}))),lg.apply(this,arguments)}function fg(e,t){return hg.apply(this,arguments)}function hg(){return hg=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xv(t,"POST","/v1/accounts:sendOobCode",$v(t,n)));case 1:case"end":return e.stop()}}),e)}))),hg.apply(this,arguments)}function dg(e,t){return pg.apply(this,arguments)}function pg(){return pg=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fg(t,n));case 1:case"end":return e.stop()}}),e)}))),pg.apply(this,arguments)}function vg(e,t){return mg.apply(this,arguments)}function mg(){return mg=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fg(t,n));case 1:case"end":return e.stop()}}),e)}))),mg.apply(this,arguments)}function gg(e,t){return yg.apply(this,arguments)}function yg(){return yg=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fg(t,n));case 1:case"end":return e.stop()}}),e)}))),yg.apply(this,arguments)}function bg(e,t){return _g.apply(this,arguments)}function _g(){return _g=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fg(t,n));case 1:case"end":return e.stop()}}),e)}))),_g.apply(this,arguments)}function wg(e,t){return kg.apply(this,arguments)}function kg(){return kg=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nm(t,"POST","/v1/accounts:signInWithEmailLink",$v(t,n)));case 1:case"end":return e.stop()}}),e)}))),kg.apply(this,arguments)}function xg(e,t){return Eg.apply(this,arguments)}function Eg(){return Eg=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nm(t,"POST","/v1/accounts:signInWithEmailLink",$v(t,n)));case 1:case"end":return e.stop()}}),e)}))),Eg.apply(this,arguments)}var Sg=function(e){N(n,e);var t=D(n);function n(e,r,i){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return T(this,n),(o=t.call(this,"password",i))._email=e,o._password=r,o._tenantId=a,o}return I(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",cg(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",wg(t,{email:this._email,oobCode:this._password}));case 5:Ov(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",og(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",xg(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Ov(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(ng);function Tg(e,t){return Cg.apply(this,arguments)}function Cg(){return Cg=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nm(t,"POST","/v1/accounts:signInWithIdp",$v(t,n)));case 1:case"end":return e.stop()}}),e)}))),Cg.apply(this,arguments)}var Ig=function(e){N(n,e);var t=D(n);function n(){var e;return T(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return I(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Tg(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Tg(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Tg(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Sd(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ov("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,o=pv(t,["providerId","signInMethod"]);if(!r||!i)return null;var a=new n(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}}]),n}(ng);function Pg(e,t){return Ag.apply(this,arguments)}function Ag(){return Ag=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xv(t,"POST","/v1/accounts:sendVerificationCode",$v(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ag.apply(this,arguments)}function Ng(){return Ng=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nm(t,"POST","/v1/accounts:signInWithPhoneNumber",$v(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ng.apply(this,arguments)}function Rg(){return Rg=y(m().mark((function e(t,n){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nm(t,"POST","/v1/accounts:signInWithPhoneNumber",$v(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw am(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Rg.apply(this,arguments)}var Og=w({},"USER_NOT_FOUND","user-not-found");function Mg(){return Mg=y(m().mark((function e(t,n){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",nm(t,"POST","/v1/accounts:signInWithPhoneNumber",$v(t,r),Og));case 2:case"end":return e.stop()}}),e)}))),Mg.apply(this,arguments)}var Dg=function(e){N(n,e);var t=D(n);function n(e){var r;return T(this,n),(r=t.call(this,"phone","phone")).params=e,r}return I(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Ng.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Rg.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Mg.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,o=t.phoneNumber,a=t.temporaryProof;return i||r||o||a?new n({verificationId:r,verificationCode:i,phoneNumber:o,temporaryProof:a}):null}}]),n}(ng);var Lg=function(){function e(t){var n,r,i,o,a,s;T(this,e);var u=Td(Cd(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);jv(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(o=u.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(a=u.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return I(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Td(Cd(e)).link,n=t?Td(Cd(t)).deep_link_id:null,r=Td(Cd(e)).deep_link_id;return(r?Td(Cd(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(zL){return null}}}]),e}();var Fg=function(){function e(){T(this,e),this.providerId=e.PROVIDER_ID}return I(e,null,[{key:"credential",value:function(e,t){return Sg._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Lg.parseLink(t);return jv(n,"argument-error"),Sg._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Fg.PROVIDER_ID="password",Fg.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Fg.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var jg=function(){function e(t){T(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return I(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),zg=function(e){N(n,e);var t=D(n);function n(){var e;return T(this,n),(e=t.apply(this,arguments)).scopes=[],e}return I(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return S(this.scopes)}}]),n}(jg),Bg=function(e){N(n,e);var t=D(n);function n(){return T(this,n),t.apply(this,arguments)}return I(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return jv(e.idToken||e.accessToken,"argument-error"),Ig._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return jv("providerId"in t&&"signInMethod"in t,"argument-error"),Ig._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,o=t.oauthTokenSecret,a=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!o&&!r&&!a)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:a})}catch(Gn){return null}}}]),n}(zg),Vg=function(e){N(n,e);var t=D(n);function n(){return T(this,n),t.call(this,"facebook.com")}return I(n,null,[{key:"credential",value:function(e){return Ig._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(zL){return null}}}]),n}(zg);Vg.FACEBOOK_SIGN_IN_METHOD="facebook.com",Vg.PROVIDER_ID="facebook.com";var Ug=function(e){N(n,e);var t=D(n);function n(){var e;return T(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return I(n,null,[{key:"credential",value:function(e,t){return Ig._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(zL){return null}}}]),n}(zg);Ug.GOOGLE_SIGN_IN_METHOD="google.com",Ug.PROVIDER_ID="google.com";var Hg=function(e){N(n,e);var t=D(n);function n(){return T(this,n),t.call(this,"github.com")}return I(n,null,[{key:"credential",value:function(e){return Ig._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(zL){return null}}}]),n}(zg);Hg.GITHUB_SIGN_IN_METHOD="github.com",Hg.PROVIDER_ID="github.com";var qg=function(e){N(n,e);var t=D(n);function n(e,r){var i;return T(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return I(n,[{key:"_getIdTokenResponse",value:function(e){return Tg(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Tg(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Tg(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,o=t.pendingToken;return r&&i&&o&&r===i?new n(r,o):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(ng),Wg=function(e){N(n,e);var t=D(n);function n(e){return T(this,n),jv(e.startsWith("saml."),"argument-error"),t.call(this,e)}return I(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=qg.fromJSON(e);return jv(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return qg._create(r,n)}catch(Gn){return null}}}]),n}(jg),Kg=function(e){N(n,e);var t=D(n);function n(){return T(this,n),t.call(this,"twitter.com")}return I(n,null,[{key:"credential",value:function(e,t){return Ig._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(zL){return null}}}]),n}(zg);function Gg(e,t){return Zg.apply(this,arguments)}function Zg(){return Zg=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nm(t,"POST","/v1/accounts:signUp",$v(t,n)));case 1:case"end":return e.stop()}}),e)}))),Zg.apply(this,arguments)}Kg.TWITTER_SIGN_IN_METHOD="twitter.com",Kg.PROVIDER_ID="twitter.com";var Yg=function(){function e(t){T(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return I(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=y(m().mark((function t(n,r,i){var o,a,s,u,c=arguments;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Nm._fromIdTokenResponse(n,i,o);case 3:return a=t.sent,s=Qg(i),u=new e({user:a,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=y(m().mark((function t(n,r,i){var o;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return o=Qg(i),t.abrupt("return",new e({user:n,providerId:o,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Qg(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function $g(){return $g=y(m().mark((function e(t){var n,r,i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$m(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Yg({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Gg(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Yg._fromIdTokenResponse(r,"signIn",i,!0);case 10:return o=e.sent,e.next=13,r._updateCurrentUser(o.user);case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)}))),$g.apply(this,arguments)}var Xg=function(e){N(n,e);var t=D(n);function n(e,r,i,o){var a,s;return T(this,n),(a=t.call(this,r.code,r.message)).operationType=i,a.user=o,Object.setPrototypeOf(P(a),n.prototype),a.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},a}return I(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(fd);function Jg(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Xg._fromErrorAndOperation(e,n,t,r);throw n}))}function ey(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function ty(e,t){return ny.apply(this,arguments)}function ny(){return ny=y(m().mark((function e(t,n){var r,i,o,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bd(t),e.next=3,oy(!0,r,n);case 3:return e.t0=cm,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,o=i.providerUserInfo,a=ey(o||[]),r.providerData=r.providerData.filter((function(e){return a.has(e.providerId)})),a.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),ny.apply(this,arguments)}function ry(e,t){return iy.apply(this,arguments)}function iy(){return iy=y(m().mark((function e(t,n){var r,i,o=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]&&o[2],e.t0=gm,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Yg._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),iy.apply(this,arguments)}function oy(e,t,n){return ay.apply(this,arguments)}function ay(){return(ay=y(m().mark((function e(t,n,r){var i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,km(n);case 2:i=ey(n.providerData),o=!1===t?"provider-already-linked":"no-such-provider",jv(i.has(r)===t,n.auth,o);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sy(e,t){return uy.apply(this,arguments)}function uy(){return uy=y(m().mark((function e(t,n){var r,i,o,a,s,u,c,l=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],o=t.auth,a="reauthenticate",e.prev=3,e.next=6,gm(t,Jg(o,a,n,t),r);case 6:return jv((s=e.sent).idToken,o,"internal-error"),jv(u=mm(s.idToken),o,"internal-error"),c=u.sub,jv(t.uid===c,o,"user-mismatch"),e.abrupt("return",Yg._forOperation(t,a,s));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&Ov(o,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),uy.apply(this,arguments)}function cy(e,t){return ly.apply(this,arguments)}function ly(){return ly=y(m().mark((function e(t,n){var r,i,o,a,s=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Jg(t,i,n);case 4:return o=e.sent,e.next=7,Yg._fromIdTokenResponse(t,i,o);case 7:if(a=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(a.user);case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)}))),ly.apply(this,arguments)}function fy(e,t){return hy.apply(this,arguments)}function hy(){return hy=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cy($m(t),n));case 1:case"end":return e.stop()}}),e)}))),hy.apply(this,arguments)}function dy(e,t){return py.apply(this,arguments)}function py(){return(py=y(m().mark((function e(t,n){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bd(t),e.next=3,oy(!1,r,n.providerId);case 3:return e.abrupt("return",ry(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vy(e,t){return my.apply(this,arguments)}function my(){return(my=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sy(Bd(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gy(e,t){return yy.apply(this,arguments)}function yy(){return yy=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nm(t,"POST","/v1/accounts:signInWithCustomToken",$v(t,n)));case 1:case"end":return e.stop()}}),e)}))),yy.apply(this,arguments)}function by(){return by=y(m().mark((function e(t,n){var r,i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$m(t),e.next=3,gy(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Yg._fromIdTokenResponse(r,"signIn",i);case 6:return o=e.sent,e.next=9,r._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),by.apply(this,arguments)}var _y=function(){function e(t,n){T(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return I(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?wy._fromServerResponse(e,t):Ov(e,"internal-error")}}]),e}(),wy=function(e){N(n,e);var t=D(n);function n(e){var r;return T(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return I(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(_y);function ky(e,t,n){var r;jv((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),jv("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(jv(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(jv(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function xy(){return xy=y(m().mark((function e(t,n,r){var i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Bd(t),o={requestType:"PASSWORD_RESET",email:n},r&&ky(i,o,r),e.next=5,vg(i,o);case 5:case"end":return e.stop()}}),e)}))),xy.apply(this,arguments)}function Ey(){return Ey=y(m().mark((function e(t,n,r){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rg(Bd(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Ey.apply(this,arguments)}function Sy(){return Sy=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sg(Bd(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Sy.apply(this,arguments)}function Ty(e,t){return Cy.apply(this,arguments)}function Cy(){return Cy=y(m().mark((function e(t,n){var r,i,o,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bd(t),e.next=3,rg(r,{oobCode:n});case 3:i=e.sent,jv(o=i.requestType,r,"internal-error"),e.t0=o,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return jv(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:jv(i.mfaInfo,r,"internal-error");case 13:jv(i.email,r,"internal-error");case 14:return a=null,i.mfaInfo&&(a=_y._fromServerResponse($m(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:a},operation:o});case 17:case"end":return e.stop()}}),e)}))),Cy.apply(this,arguments)}function Iy(){return Iy=y(m().mark((function e(t,n){var r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ty(Bd(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Iy.apply(this,arguments)}function Py(e,t,n){return Ay.apply(this,arguments)}function Ay(){return Ay=y(m().mark((function e(t,n,r){var i,o,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=$m(t),e.next=3,Gg(i,{returnSecureToken:!0,email:n,password:r});case 3:return o=e.sent,e.next=6,Yg._fromIdTokenResponse(i,"signIn",o);case 6:return a=e.sent,e.next=9,i._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Ay.apply(this,arguments)}function Ny(){return Ny=y(m().mark((function e(t,n,r){var i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Bd(t),o={requestType:"EMAIL_SIGNIN",email:n},jv(r.handleCodeInApp,i,"argument-error"),r&&ky(i,o,r),e.next=6,gg(i,o);case 6:case"end":return e.stop()}}),e)}))),Ny.apply(this,arguments)}function Ry(){return Ry=y(m().mark((function e(t,n,r){var i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Bd(t),jv((o=Fg.credentialWithLink(n,r||Hv()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",fy(i,o));case 4:case"end":return e.stop()}}),e)}))),Ry.apply(this,arguments)}function Oy(e,t){return My.apply(this,arguments)}function My(){return My=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xv(t,"POST","/v1/accounts:createAuthUri",$v(t,n)));case 1:case"end":return e.stop()}}),e)}))),My.apply(this,arguments)}function Dy(){return Dy=y(m().mark((function e(t,n){var r,i,o,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qv()?Hv():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Oy(Bd(t),i);case 4:return o=e.sent,a=o.signinMethods,e.abrupt("return",a||[]);case 7:case"end":return e.stop()}}),e)}))),Dy.apply(this,arguments)}function Ly(){return(Ly=y(m().mark((function e(t,n){var r,i,o,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bd(t),e.next=3,t.getIdToken();case 3:return i=e.sent,o={requestType:"VERIFY_EMAIL",idToken:i},n&&ky(r.auth,o,n),e.next=8,dg(r.auth,o);case 8:if(a=e.sent,a.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fy(){return(Fy=y(m().mark((function e(t,n,r){var i,o,a,s;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Bd(t),e.next=3,t.getIdToken();case 3:return o=e.sent,a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:n},r&&ky(i.auth,a,r),e.next=8,bg(i.auth,a);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jy(e,t){return zy.apply(this,arguments)}function zy(){return zy=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xv(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),zy.apply(this,arguments)}function By(){return(By=y(m().mark((function e(t,n){var r,i,o,a,s,u,c;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return o=Bd(t),e.next=6,o.getIdToken();case 6:return a=e.sent,s={idToken:a,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,gm(o,jy(o.auth,s));case 10:return u=e.sent,o.displayName=u.displayName||null,o.photoURL=u.photoUrl||null,(c=o.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=o.displayName,c.photoURL=o.photoURL),e.next=17,o._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vy(e,t,n){return Uy.apply(this,arguments)}function Uy(){return Uy=y(m().mark((function e(t,n,r){var i,o,a,s;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return o=e.sent,a={idToken:o,returnSecureToken:!0},n&&(a.email=n),r&&(a.password=r),e.next=9,gm(t,og(i,a));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),Uy.apply(this,arguments)}var Hy=I((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};T(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),qy=function(e){N(n,e);var t=D(n);function n(e,r,i,o){var a;return T(this,n),(a=t.call(this,e,r,i)).username=o,a}return I(n)}(Hy),Wy=function(e){N(n,e);var t=D(n);function n(e,r){return T(this,n),t.call(this,e,"facebook.com",r)}return I(n)}(Hy),Ky=function(e){N(n,e);var t=D(n);function n(e,r){return T(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return I(n)}(qy),Gy=function(e){N(n,e);var t=D(n);function n(e,r){return T(this,n),t.call(this,e,"google.com",r)}return I(n)}(Hy),Zy=function(e){N(n,e);var t=D(n);function n(e,r,i){return T(this,n),t.call(this,e,"twitter.com",r,i)}return I(n)}(qy);function Yy(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var a=null===(n=null===(t=mm(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(a)return new Hy(o,"anonymous"!==a&&"custom"!==a?a:null)}if(!r)return null;switch(r){case"facebook.com":return new Wy(o,i);case"github.com":return new Ky(o,i);case"google.com":return new Gy(o,i);case"twitter.com":return new Zy(o,i,e.screenName||null);case"custom":case"anonymous":return new Hy(o,null);default:return new Hy(o,r,i)}}(n)}var Qy=function(){function e(t,n,r){T(this,e),this.type=t,this.credential=n,this.auth=r}return I(e,[{key:"toJSON",value:function(){return{multiFactorSession:w({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),$y=function(){function e(t,n,r){T(this,e),this.session=t,this.hints=n,this.signInResolver=r}return I(e,[{key:"resolveSignIn",value:function(){var e=y(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=$m(t),i=n.customData._serverResponse,o=(i.mfaInfo||[]).map((function(e){return _y._fromServerResponse(r,e)}));jv(i.mfaPendingCredential,r,"internal-error");var a=Qy._fromMfaPendingCredential(i.mfaPendingCredential);return new e(a,o,function(){var e=y(m().mark((function e(t){var o,s,u;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,a);case 2:o=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:o.idToken,refreshToken:o.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Yg._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return jv(n.user,r,"internal-error"),e.abrupt("return",Yg._forOperation(n.user,n.operationType,s));case 17:Ov(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Xy(e,t){return Xv(e,"POST","/v2/accounts/mfaEnrollment:start",$v(e,t))}function Jy(e,t){return Xv(e,"POST","/v2/accounts/mfaEnrollment:withdraw",$v(e,t))}var eb=function(){function e(t){var n=this;T(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return _y._fromServerResponse(t.auth,e)})))}))}return I(e,[{key:"getSession",value:function(){var e=y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Qy,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=y(m().mark((function e(t,n){var r,i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,gm(this.user,r._process(this.user.auth,i,n));case 6:return o=e.sent,e.next=9,this.user._updateTokensIfNecessary(o);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=y(m().mark((function e(t){var n,r,i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,gm(this.user,Jy(this.user.auth,{idToken:i,mfaEnrollmentId:r}));case 6:return o=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(o);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),tb=new WeakMap;var nb="__sak",rb=function(){function e(t,n){T(this,e),this.storageRetriever=t,this.type=n}return I(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(nb,"1"),this.storage.removeItem(nb),Promise.resolve(!0)):Promise.resolve(!1)}catch(zL){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var ib=function(e){N(n,e);var t=D(n);function n(){var e;return T(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Qh();return jm(e)||qm(e)}()&&function(){try{return!(!window||window===window.top)}catch(Gn){return!1}}(),e.fallbackToPolling=Gm(),e._shouldAllowMigration=!0,e}return I(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),o=this.localCache[r];i!==o&&e(r,o,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var o=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},a=this.storage.getItem(r);Km()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,10):o()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=y(m().mark((function e(t,r){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dv(R(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=y(m().mark((function e(t){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dv(R(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dv(R(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(rb);ib.type="LOCAL";var ob=ib,ab=function(e){N(n,e);var t=D(n);function n(){return T(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return I(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(rb);ab.type="SESSION";var sb=ab;function ub(e){return Promise.all(e.map(function(){var e=y(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var cb=function(){function e(t){T(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return I(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=y(m().mark((function e(t){var n,r,i,o,a,s,u,c;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,o=r.eventType,a=r.data,null===(s=this.handlersMap[o])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:o}),u=Array.from(s).map(function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,a));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,ub(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function lb(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}cb.receivers=[];var fb=function(){function e(t){T(this,e),this.target=t,this.handlers=new Set}return I(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=y(m().mark((function e(t,n){var r,i,o,a,s=this,u=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=lb("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);a={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),o=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(o),e(n.data.response);break;default:clearTimeout(l),clearTimeout(o),u(new Error("invalid_response"))}}},s.handlers.add(a),i.port1.addEventListener("message",a.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){a&&s.removeMessageHandler(a)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function hb(){return window}function db(){return"undefined"!==typeof hb().WorkerGlobalScope&&"function"===typeof hb().importScripts}function pb(){return vb.apply(this,arguments)}function vb(){return(vb=y(m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function mb(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var gb="firebaseLocalStorageDb",yb="firebaseLocalStorage",bb="fbase_key",_b=function(){function e(t){T(this,e),this.request=t}return I(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function wb(e,t){return e.transaction([yb],t?"readwrite":"readonly").objectStore(yb)}function kb(){var e=indexedDB.deleteDatabase(gb);return new _b(e).toPromise()}function xb(){var e=indexedDB.open(gb,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(yb,{keyPath:bb})}catch(Gn){n(Gn)}})),e.addEventListener("success",y(m().mark((function n(){var r;return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(yb)){n.next=12;break}return r.close(),n.next=5,kb();case 5:return n.t0=t,n.next=8,xb();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Eb(e,t,n){return Sb.apply(this,arguments)}function Sb(){return Sb=y(m().mark((function e(t,n,r){var i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=wb(t,!0).put((w(i={},bb,n),w(i,"value",r),i)),e.abrupt("return",new _b(o).toPromise());case 2:case"end":return e.stop()}}),e)}))),Sb.apply(this,arguments)}function Tb(e,t){return Cb.apply(this,arguments)}function Cb(){return Cb=y(m().mark((function e(t,n){var r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wb(t,!1).get(n),e.next=3,new _b(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Cb.apply(this,arguments)}function Ib(e,t){var n=wb(e,!0).delete(t);return new _b(n).toPromise()}var Pb=function(){function e(){T(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return I(e,[{key:"_openDb",value:function(){var e=y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,xb();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=y(m().mark((function e(t){var n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",db()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=y(m().mark((function e(){var t=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=cb._getInstance(db()?self:null),this.receiver._subscribe("keyChanged",function(){var e=y(m().mark((function e(n,r){var i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=y(m().mark((function e(){var t,n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pb();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new fb(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&mb()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=y(m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,xb();case 5:return t=e.sent,e.next=8,Eb(t,nb,"1");case 8:return e.next=10,Ib(t,nb);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=y(m().mark((function e(t,n){var r=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Eb(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=y(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Tb(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=y(m().mark((function e(t){var n=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Ib(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=y(m().mark((function e(){var t,n,r,i,o,a,s,u,c,l,f;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=wb(e,!1).getAll();return new _b(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Lh(t);try{for(i.s();!(o=i.n()).done;)a=o.value,s=a.fbase_key,u=a.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(y(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Pb.type="LOCAL";var Ab=Pb;function Nb(e,t){return Xv(e,"POST","/v2/accounts/mfaSignIn:start",$v(e,t))}function Rb(e){return Ob.apply(this,arguments)}function Ob(){return Ob=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xv(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Ob.apply(this,arguments)}function Mb(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Mv("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Db(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Lb=1e12,Fb=function(){function e(t){T(this,e),this.auth=t,this.counter=Lb,this._widgets=new Map}return I(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new jb(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Lb;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Lb;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=y(m().mark((function e(t){var n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Lb,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),jb=function(){function e(t,n,r){var i=this;T(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var o="string"===typeof t?document.getElementById(t):t;jv(o,"argument-error",{appName:n}),this.container=o,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return I(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(Gn){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(Gn){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var zb=Db("rcb"),Bb=new Kv(3e4,6e4),Vb="https://www.google.com/recaptcha/api.js?",Ub=function(){function e(){var t;T(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=hb().grecaptcha)||void 0===t?void 0:t.render)}return I(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return jv(Hb(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(hb().grecaptcha):new Promise((function(r,i){var o=hb().setTimeout((function(){i(Mv(e,"network-request-failed"))}),Bb.get());hb()[zb]=function(){hb().clearTimeout(o),delete hb()[zb];var a=hb().grecaptcha;if(a){var s=a.render;a.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(a)}else i(Mv(e,"internal-error"))},Mb("".concat(Vb,"?").concat(Sd({onload:zb,render:"explicit",hl:n}))).catch((function(){clearTimeout(o),i(Mv(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=hb().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Hb(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var qb=function(){function e(){T(this,e)}return I(e,[{key:"load",value:function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Fb(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Wb="recaptcha",Kb={theme:"light",type:"image"},Gb=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Kb),r=arguments.length>2?arguments[2]:void 0;T(this,e),this.parameters=n,this.type=Wb,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=$m(r),this.isInvisible="invisible"===this.parameters.size,jv("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;jv(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new qb:new Ub,this.validateStartingState()}return I(e,[{key:"verify",value:function(){var e=y(m().mark((function e(){var t,n,r,i=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(Gn){return Promise.reject(Gn)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){jv(!this.parameters.sitekey,this.auth,"argument-error"),jv(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),jv("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=hb()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){jv(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=y(m().mark((function e(){var t,n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=y(m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jv(qv()&&!db(),this.auth,"internal-error"),e.next=3,Zb();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Rb(this.auth);case 8:jv(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return jv(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Zb(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Yb=function(){function e(t,n){T(this,e),this.verificationId=t,this.onConfirmation=n}return I(e,[{key:"confirm",value:function(e){var t=Dg._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Qb(){return Qb=y(m().mark((function e(t,n,r){var i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=$m(t),e.next=3,e_(i,n,Bd(r));case 3:return o=e.sent,e.abrupt("return",new Yb(o,(function(e){return fy(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Qb.apply(this,arguments)}function $b(e,t,n){return Xb.apply(this,arguments)}function Xb(){return(Xb=y(m().mark((function e(t,n,r){var i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Bd(t),e.next=3,oy(!1,i,"phone");case 3:return e.next=5,e_(i.auth,n,Bd(r));case 5:return o=e.sent,e.abrupt("return",new Yb(o,(function(e){return dy(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jb(){return(Jb=y(m().mark((function e(t,n,r){var i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Bd(t),e.next=3,e_(i.auth,n,Bd(r));case 3:return o=e.sent,e.abrupt("return",new Yb(o,(function(e){return vy(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function e_(e,t,n){return t_.apply(this,arguments)}function t_(){return t_=y(m().mark((function e(t,n,r){var i,o,a,s,u,c,l,f,h;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(o=e.sent,e.prev=3,jv("string"===typeof o,t,"argument-error"),jv(r.type===Wb,t,"argument-error"),!("session"in(a="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=a.session,!("phoneNumber"in a)){e.next=17;break}return jv("enroll"===s.type,t,"internal-error"),e.next=13,Xy(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,recaptchaToken:o}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return jv("signin"===s.type,t,"internal-error"),jv(c=(null===(i=a.multiFactorHint)||void 0===i?void 0:i.uid)||a.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Nb(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:o}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Pg(t,{phoneNumber:a.phoneNumber,recaptchaToken:o});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),t_.apply(this,arguments)}function n_(){return(n_=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ry(Bd(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var r_=function(){function e(t){T(this,e),this.providerId=e.PROVIDER_ID,this.auth=$m(t)}return I(e,[{key:"verifyPhoneNumber",value:function(e,t){return e_(this.auth,e,Bd(t))}}],[{key:"credential",value:function(e,t){return Dg._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Dg._fromTokenResponse(n,r):null}}]),e}();function i_(e,t){return t?Uv(t):(jv(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}r_.PROVIDER_ID="phone",r_.PHONE_SIGN_IN_METHOD="phone";var o_=function(e){N(n,e);var t=D(n);function n(e){var r;return T(this,n),(r=t.call(this,"custom","custom")).params=e,r}return I(n,[{key:"_getIdTokenResponse",value:function(e){return Tg(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Tg(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Tg(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(ng);function a_(e){return cy(e.auth,new o_(e),e.bypassAuthState)}function s_(e){var t=e.auth,n=e.user;return jv(n,t,"internal-error"),sy(n,new o_(e),e.bypassAuthState)}function u_(e){return c_.apply(this,arguments)}function c_(){return c_=y(m().mark((function e(t){var n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,jv(r=t.user,n,"internal-error"),e.abrupt("return",ry(r,new o_(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),c_.apply(this,arguments)}var l_=function(){function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];T(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return I(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=y(m().mark((function t(n,r){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=y(m().mark((function e(t){var n,r,i,o,a,s,u;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,o=t.tenantId,a=t.error,s=t.type,!a){e.next=4;break}return this.reject(a),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return a_;case"linkViaPopup":case"linkViaRedirect":return u_;case"reauthViaPopup":case"reauthViaRedirect":return s_;default:Ov(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Bv(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Bv(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),f_=new Kv(2e3,1e4);function h_(e,t,n){return d_.apply(this,arguments)}function d_(){return d_=y(m().mark((function e(t,n,r){var i,o,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=$m(t),Lv(t,n,jg),o=i_(i,r),a=new g_(i,"signInViaPopup",n,o),e.abrupt("return",a.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),d_.apply(this,arguments)}function p_(){return(p_=y(m().mark((function e(t,n,r){var i,o,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Lv((i=Bd(t)).auth,n,jg),o=i_(i.auth,r),a=new g_(i.auth,"reauthViaPopup",n,o,i),e.abrupt("return",a.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v_(e,t,n){return m_.apply(this,arguments)}function m_(){return(m_=y(m().mark((function e(t,n,r){var i,o,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Lv((i=Bd(t)).auth,n,jg),o=i_(i.auth,r),a=new g_(i.auth,"linkViaPopup",n,o,i),e.abrupt("return",a.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g_=function(e){N(n,e);var t=D(n);function n(e,r,i,o,a){var s;return T(this,n),(s=t.call(this,e,r,o,a)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=P(s),s}return I(n,[{key:"executeNotNull",value:function(){var e=y(m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return jv(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=y(m().mark((function e(){var t,n=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bv(1===this.filter.length,"Popup operations only handle one event"),t=lb(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Mv(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Mv(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Mv(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,f_.get())}()}}]),n}(l_);g_.currentPopupAction=null;var y_=new Map,b_=function(e){N(n,e);var t=D(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return T(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,o)).eventId=null,i}return I(n,[{key:"execute",value:function(){var e=y(m().mark((function e(){var t,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=y_.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,__(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,dv(R(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:y_.set(this.auth._key(),t);case 21:return this.bypassAuthState||y_.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=y(m().mark((function e(t){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",dv(R(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",dv(R(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(l_);function __(e,t){return w_.apply(this,arguments)}function w_(){return w_=y(m().mark((function e(t,n){var r,i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=T_(n),i=S_(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,o="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",o);case 13:case"end":return e.stop()}}),e)}))),w_.apply(this,arguments)}function k_(e,t){return x_.apply(this,arguments)}function x_(){return x_=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S_(t)._set(T_(n),"true"));case 1:case"end":return e.stop()}}),e)}))),x_.apply(this,arguments)}function E_(e,t){y_.set(e._key(),t)}function S_(e){return Uv(e._redirectPersistence)}function T_(e){return Mm("pendingRedirect",e.config.apiKey,e.name)}function C_(e,t,n){return function(e,t,n){return I_.apply(this,arguments)}(e,t,n)}function I_(){return I_=y(m().mark((function e(t,n,r){var i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=$m(t),Lv(t,n,jg),o=i_(i,r),e.next=5,k_(o,i);case 5:return e.abrupt("return",o._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),I_.apply(this,arguments)}function P_(e,t,n){return function(e,t,n){return A_.apply(this,arguments)}(e,t,n)}function A_(){return(A_=y(m().mark((function e(t,n,r){var i,o,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Lv((i=Bd(t)).auth,n,jg),o=i_(i.auth,r),e.next=5,k_(o,i.auth);case 5:return e.next=7,F_(i);case 7:return a=e.sent,e.abrupt("return",o._openRedirect(i.auth,n,"reauthViaRedirect",a));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N_(e,t,n){return function(e,t,n){return R_.apply(this,arguments)}(e,t,n)}function R_(){return(R_=y(m().mark((function e(t,n,r){var i,o,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Lv((i=Bd(t)).auth,n,jg),o=i_(i.auth,r),e.next=5,oy(!1,i,n.providerId);case 5:return e.next=7,k_(o,i.auth);case 7:return e.next=9,F_(i);case 9:return a=e.sent,e.abrupt("return",o._openRedirect(i.auth,n,"linkViaRedirect",a));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O_(e,t){return M_.apply(this,arguments)}function M_(){return M_=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$m(t)._initializationPromise;case 2:return e.abrupt("return",D_(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),M_.apply(this,arguments)}function D_(e,t){return L_.apply(this,arguments)}function L_(){return L_=y(m().mark((function e(t,n){var r,i,o,a,s,u=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=$m(t),o=i_(i,n),a=new b_(i,o,r),e.next=6,a.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),L_.apply(this,arguments)}function F_(e){return j_.apply(this,arguments)}function j_(){return(j_=y(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=lb("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var z_=function(){function e(t){T(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return I(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return V_(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!V_(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Mv(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(B_(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(B_(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function B_(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function V_(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function U_(e){return H_.apply(this,arguments)}function H_(){return H_=y(m().mark((function e(t){var n,r=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Xv(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),H_.apply(this,arguments)}var q_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,W_=/^https?/;function K_(){return K_=y(m().mark((function e(t){var n,r,i,o,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,U_(t);case 4:n=e.sent,r=n.authorizedDomains,i=Lh(r),e.prev=7,i.s();case 9:if((o=i.n()).done){e.next=20;break}if(a=o.value,e.prev=11,!G_(a)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Ov(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),K_.apply(this,arguments)}function G_(e){var t=Hv(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var o=new URL(e);return""===o.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&o.hostname===i}if(!W_.test(r))return!1;if(q_.test(e))return i===e;var a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}var Z_=new Kv(3e4,6e4);function Y_(){var e=hb().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=S(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Q_=null;function $_(e){return Q_=Q_||function(e){return new Promise((function(t,n){var r,i,o;function a(){Y_(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Y_(),n(Mv(e,"network-request-failed"))},timeout:Z_.get()})}if(null===(i=null===(r=hb().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=hb().gapi)||void 0===o?void 0:o.load)){var s=Db("iframefcb");return hb()[s]=function(){gapi.load?a():n(Mv(e,"network-request-failed"))},Mb("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}a()}})).catch((function(e){throw Q_=null,e}))}(e),Q_}var X_=new Kv(5e3,15e3),J_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ew=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tw(e){var t=e.config;jv(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Gv(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Dp},i=ew.get(e.config.apiHost);i&&(r.eid=i);var o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(Sd(r).slice(1))}function nw(e){return rw.apply(this,arguments)}function rw(){return rw=y(m().mark((function e(t){var n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$_(t);case 2:return n=e.sent,jv(r=hb().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:tw(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:J_,dontclear:!0},(function(e){return new Promise(function(){var n=y(m().mark((function n(r,i){var o,a,s;return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){hb().clearTimeout(a),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:o=Mv(t,"network-request-failed"),a=hb().setTimeout((function(){i(o)}),X_.get()),e.ping(s).then(s,(function(){i(o)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),rw.apply(this,arguments)}var iw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ow="_blank",aw="http://localhost",sw=function(){function e(t){T(this,e),this.window=t,this.associatedEvent=null}return I(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(Gn){}}}]),e}();function uw(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},iw),{width:r.toString(),height:i.toString(),top:o,left:a}),l=Qh().toLowerCase();n&&(s=zm(l)?ow:n),Fm(l)&&(t=t||aw,u.scrollbars="yes");var f=Object.entries(u).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Wm(l)&&"_self"!==s)return cw(t||"",s),new sw(null);var h=window.open(t||"",s,f);jv(h,e,"popup-blocked");try{h.focus()}catch(Gn){}return new sw(h)}function cw(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var lw="__/auth/handler",fw="emulator/auth/handler";function hw(e,t,n,r,i,o){jv(e.config.authDomain,e,"auth-domain-config-required"),jv(e.config.apiKey,e,"invalid-api-key");var a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Dp,eventId:i};if(t instanceof jg){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",wd(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(o||{});s<u.length;s++){var l=c(u[s],2),f=l[0],h=l[1];a[f]=h}}if(t instanceof zg){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(a.scopes=d.join(","))}e.tenantId&&(a.tid=e.tenantId);for(var p=a,v=0,m=Object.keys(p);v<m.length;v++){var g=m[v];void 0===p[g]&&delete p[g]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(lw);return Gv(t,fw)}(e),"?").concat(Sd(p).slice(1))}var dw="webStorageSupport",pw=function(){function e(){T(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sb,this._completeRedirectFn=D_,this._overrideRedirectResult=E_}return I(e,[{key:"_openPopup",value:function(){var e=y(m().mark((function e(t,n,r,i){var o,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bv(null===(o=this.eventManagers[t._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()"),a=hw(t,n,r,Hv(),i),e.abrupt("return",uw(t,a,lb()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=y(m().mark((function e(t,n,r,i){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return o=hw(t,n,r,Hv(),i),hb().location.href=o,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var o}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,o=r.promise;return i?Promise.resolve(i):(Bv(o,"If manager is not set, promise should be"),o)}var a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch((function(){delete t.eventManagers[n]})),a}},{key:"initAndGetManager",value:function(){var e=y(m().mark((function e(t){var n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nw(t);case 2:return n=e.sent,r=new z_(t),n.register("authEvent",(function(e){return jv(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(dw,{type:dw},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Ov(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return K_.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Gm()||jm()||qm()}}]),e}(),vw=pw,mw=function(){function e(t){T(this,e),this.factorId=t}return I(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return zv("unexpected MultiFactorSessionType")}}}]),e}(),gw=function(e){N(n,e);var t=D(n);function n(e){var r;return T(this,n),(r=t.call(this,"phone")).credential=e,r}return I(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Xv(e,"POST","/v2/accounts/mfaEnrollment:finalize",$v(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Xv(e,"POST","/v2/accounts/mfaSignIn:finalize",$v(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(mw),yw=function(){function e(){T(this,e)}return I(e,null,[{key:"assertion",value:function(e){return gw._fromCredential(e)}}]),e}();yw.FACTOR_ID="phone";var bw="@firebase/auth",_w="0.20.11",ww=function(){function e(t){T(this,e),this.auth=t,this.internalListeners=new Map}return I(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=y(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){jv(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var kw;!function(e){var t;null===(t=sd())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function xw(){return window}kw="Browser",Ip(new Vd("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=r.options,a=o.apiKey,s=o.authDomain;return function(e,t){jv(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),jv(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:a,authDomain:s,clientPlatform:kw,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zm(kw)},i=new Qm(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Uv);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Ip(new Vd("auth-internal",(function(e){return function(e){return new ww(e)}($m(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Vp(bw,_w,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(kw)),Vp(bw,_w,"esm2017");function Ew(e,t,n){return Sw.apply(this,arguments)}function Sw(){return Sw=y(m().mark((function e(t,n,r){var i,o,a,s,u;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=xw(),a=o.BuildInfo,Bv(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Nw(n.sessionId);case 4:return s=e.sent,u={},qm()?u.ibi=a.packageName:Vm()?u.apn=a.packageName:Ov(t,"operation-not-supported-in-this-environment"),a.displayName&&(u.appDisplayName=a.displayName),u.sessionId=s,e.abrupt("return",hw(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),Sw.apply(this,arguments)}function Tw(){return Tw=y(m().mark((function e(t){var n,r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xw(),r=n.BuildInfo,i={},qm()?i.iosBundleId=r.packageName:Vm()?i.androidPackageName=r.packageName:Ov(t,"operation-not-supported-in-this-environment"),e.next=5,U_(t,i);case 5:case"end":return e.stop()}}),e)}))),Tw.apply(this,arguments)}function Cw(e){var t=xw().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qh();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Iw(e,t,n){return Pw.apply(this,arguments)}function Pw(){return Pw=y(m().mark((function e(t,n,r){var i,o,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xw(),o=i.cordova,a=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=o.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(Mv(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),Vm()&&document.addEventListener("visibilitychange",l,!1),a=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,a(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Pw.apply(this,arguments)}function Aw(e){var t,n,r,i,o,a,s,u,c,l,f=xw();jv("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),jv("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),jv("function"===typeof(null===(o=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),jv("function"===typeof(null===(u=null===(s=null===(a=null===f||void 0===f?void 0:f.cordova)||void 0===a?void 0:a.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),jv("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Nw(e){return Rw.apply(this,arguments)}function Rw(){return(Rw=y(m().mark((function e(t){var n,r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ow(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ow(e){if(Bv(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Mw=function(e){N(n,e);var t=D(n);function n(){var e;return T(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return I(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),dv(R(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(z_);function Dw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Bw(),postBody:null,tenantId:e.tenantId,error:Mv(e,"no-auth-event")}}function Lw(e,t){return Vw()._set(Uw(e),t)}function Fw(e){return jw.apply(this,arguments)}function jw(){return jw=y(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vw()._get(Uw(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Vw()._remove(Uw(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),jw.apply(this,arguments)}function zw(e,t){var n,r,i=function(e){var t=Hw(e),n=t.link?decodeURIComponent(t.link):void 0,r=Hw(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Hw(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var o=Hw(i),a=o.firebaseError?function(e){try{return JSON.parse(e)}catch(Gn){return null}}(decodeURIComponent(o.firebaseError)):null,s=null===(r=null===(n=null===a||void 0===a?void 0:a.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?Mv(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Bw(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Vw(){return Uv(ob)}function Uw(e){return Mm("authEvent",e.config.apiKey,e.name)}function Hw(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=we(e.split("?"));t[0];return Td(t.slice(1).join("?"))}var qw=function(){function e(){T(this,e),this._redirectPersistence=sb,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=D_,this._overrideRedirectResult=E_}return I(e,[{key:"_initialize",value:function(){var e=y(m().mark((function e(t){var n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Mw(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Ov(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=y(m().mark((function e(t,n,r,i){var o,a,s,u;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Aw(t),e.next=3,this._initialize(t);case 3:return o=e.sent,e.next=6,o.initialized();case 6:return o.resetRedirect(),y_.clear(),e.next=10,this._originValidation(t);case 10:return a=Dw(t,r,i),e.next=13,Lw(t,a);case 13:return e.next=15,Ew(t,a,n);case 15:return s=e.sent,e.next=18,Cw(s);case 18:return u=e.sent,e.abrupt("return",Iw(t,o,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Tw.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=xw(),r=n.universalLinks,i=n.handleOpenURL,o=n.BuildInfo,a=setTimeout(y(m().mark((function n(){return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fw(e);case 2:t.onEvent(Kw());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=y(m().mark((function n(r){var i,o;return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(a),n.next=3,Fw(e);case 3:i=n.sent,o=null,i&&(null===r||void 0===r?void 0:r.url)&&(o=zw(i,r.url)),t.onEvent(o||Kw());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(o.packageName.toLowerCase(),"://");xw().handleOpenURL=function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(Gn){console.error(Gn)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Ww=qw;function Kw(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Mv("no-auth-event")}}function Gw(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Zw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qh();return!("file:"!==Gw()&&"ionic:"!==Gw()&&"capacitor:"!==Gw()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Yw(){return td()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Qw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qh();return/Edge\/\d+/.test(e)}function $w(){try{var e=self.localStorage,t=lb();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qh();return Yw()||Qw(e)}()||rd()}catch(Gn){return Xw()&&rd()}return!1}function Xw(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Jw(){return("http:"===Gw()||"https:"===Gw()||Jh()||Zw())&&!(ed()||Xh())&&$w()&&!Xw()}function ek(){return Zw()&&"undefined"!==typeof document}function tk(){return nk.apply(this,arguments)}function nk(){return(nk=y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ek()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rk={LOCAL:"local",NONE:"none",SESSION:"session"},ik=jv,ok="persistence";function ak(e,t){ik(Object.values(rk).includes(t),e,"invalid-persistence-type"),ed()?ik(t!==rk.SESSION,e,"unsupported-persistence-type"):Xh()?ik(t===rk.NONE,e,"unsupported-persistence-type"):Xw()?ik(t===rk.NONE||t===rk.LOCAL&&rd(),e,"unsupported-persistence-type"):ik(t===rk.NONE||$w(),e,"unsupported-persistence-type")}function sk(e){return uk.apply(this,arguments)}function uk(){return uk=y(m().mark((function e(t){var n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=ck(),r=Mm(ok,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),uk.apply(this,arguments)}function ck(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(Gn){return null}}var lk=jv,fk=function(){function e(){T(this,e),this.browserResolver=Uv(vw),this.cordovaResolver=Uv(Ww),this.underlyingResolver=null,this._redirectPersistence=sb,this._completeRedirectFn=D_,this._overrideRedirectResult=E_}return I(e,[{key:"_initialize",value:function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=y(m().mark((function e(t,n,r,i){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=y(m().mark((function e(t,n,r,i){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return ek()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return lk(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=y(m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,tk();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function hk(e){return e.unwrap()}function dk(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new yk(e,function(e,t){var n,r=Bd(e),i=t;return jv(t.customData.operationType,r,"argument-error"),jv(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),$y._fromError(r,i)}(e,t));else if(i){var o=pk(t),a=t;o&&(a.credential=o,a.tenantId=i.tenantId||void 0,a.email=i.email||void 0,a.phoneNumber=i.phoneNumber||void 0)}}function pk(e){var t=(e instanceof fd?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof fd)&&"temporaryProof"in t&&"phoneNumber"in t)return r_.credentialFromResult(e);var n,r=t.providerId;if(!r||r===bv)return null;switch(r){case yv:n=Ug;break;case mv:n=Vg;break;case gv:n=Hg;break;case _v:n=Kg;break;default:var i=t.oauthIdToken,o=t.oauthAccessToken,a=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return o||a||i||s?s?r.startsWith("saml.")?qg._create(r,s):Ig._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:o}):new Bg(r).credential({idToken:i,accessToken:o,rawNonce:u}):null}return e instanceof fd?n.credentialFromError(e):n.credentialFromResult(e)}function vk(e,t){return t.catch((function(t){throw t instanceof fd&&dk(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,pk(t)),additionalUserInfo:Yy(e),user:bk.getOrCreate(r)}}))}function mk(e,t){return gk.apply(this,arguments)}function gk(){return gk=y(m().mark((function e(t,n){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return vk(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),gk.apply(this,arguments)}var yk=function(){function e(t,n){T(this,e),this.resolver=n,this.auth=function(e){return e.wrapped()}(t)}return I(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return vk(hk(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),bk=function(){function e(t){T(this,e),this._delegate=t,this.multiFactor=function(e){var t=Bd(e);return tb.has(t)||tb.set(t,eb._fromUser(t)),tb.get(t)}(t)}return I(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vk(this.auth,dy(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mk(this.auth,$b(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vk(this.auth,v_(this._delegate,t,fk)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sk($m(this.auth));case 2:return e.abrupt("return",N_(this._delegate,t,fk));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vk(this.auth,vy(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return mk(this.auth,function(e,t,n){return Jb.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return vk(this.auth,function(e,t,n){return p_.apply(this,arguments)}(this._delegate,e,fk))}},{key:"reauthenticateWithRedirect",value:function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sk($m(this.auth));case 2:return e.abrupt("return",P_(this._delegate,t,fk));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Ly.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ty(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Vy(Bd(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Vy(Bd(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return n_.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return By.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Fy.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();bk.USER_MAP=new WeakMap;var _k=jv,wk=function(){function e(t,n){if(T(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;_k(r,"invalid-api-key",{appName:t.name}),_k(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?fk:void 0;this._delegate=n.initialize({options:{persistence:xk(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Iv),this.linkUnderlyingAuth()}return I(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?bk.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Jm(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Sy.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Ty(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Ey.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vk(this._delegate,Py(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Dy.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Lg.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=y(m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _k(Jw(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,O_(this._delegate,fk);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",vk(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){$m(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=kk(e,t,n),i=r.next,o=r.error,a=r.complete;return this._delegate.onAuthStateChanged(i,o,a)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=kk(e,t,n),i=r.next,o=r.error,a=r.complete;return this._delegate.onIdTokenChanged(i,o,a)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Ny.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return xy.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=y(m().mark((function e(t){var n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ak(this._delegate,t),e.t0=t,e.next=e.t0===rk.SESSION?4:e.t0===rk.LOCAL?6:e.t0===rk.NONE?11:13;break;case 4:return n=sb,e.abrupt("break",14);case 6:return e.next=8,Uv(Ab)._isAvailable();case 8:return r=e.sent,n=r?Ab:ob,e.abrupt("break",14);case 11:return n=Om,e.abrupt("break",14);case 13:return e.abrupt("return",Ov("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return vk(this._delegate,function(e){return $g.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return vk(this._delegate,fy(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return vk(this._delegate,function(e,t){return by.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return vk(this._delegate,function(e,t,n){return fy(Bd(e),Fg.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return vk(this._delegate,function(e,t,n){return Ry.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return mk(this._delegate,function(e,t,n){return Qb.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _k(Jw(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",vk(this._delegate,h_(this._delegate,t,fk)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _k(Jw(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,sk(this._delegate);case 3:return e.abrupt("return",C_(this._delegate,t,fk));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Iy.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function kk(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&bk.getOrCreate(e))},error:t,complete:n}}function xk(e,t){var n=function(e,t){var n=ck();if(!n)return[];var r=Mm(ok,e,t);switch(n.getItem(r)){case rk.NONE:return[Om];case rk.LOCAL:return[Ab,sb];case rk.SESSION:return[sb];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Ab)||n.push(Ab),"undefined"!==typeof window)for(var r=0,i=[ob,sb];r<i.length;r++){var o=i[r];n.includes(o)||n.push(o)}return n.includes(Om)||n.push(Om),n}wk.Persistence=rk;var Ek=function(){function e(){T(this,e),this.providerId="phone",this._delegate=new r_(hk(fv.auth()))}return I(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return r_.credential(e,t)}}]),e}();Ek.PHONE_SIGN_IN_METHOD=r_.PHONE_SIGN_IN_METHOD,Ek.PROVIDER_ID=r_.PROVIDER_ID;var Sk,Tk=jv,Ck=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fv.app();T(this,e),Tk(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Gb(t,n,i.auth()),this.type=this._delegate.type}return I(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Sk=fv).INTERNAL.registerComponent(new Vd("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new wk(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:wv,PASSWORD_RESET:kv,RECOVER_EMAIL:xv,REVERT_SECOND_FACTOR_ADDITION:Ev,VERIFY_AND_CHANGE_EMAIL:Sv,VERIFY_EMAIL:Tv}},EmailAuthProvider:Fg,FacebookAuthProvider:Vg,GithubAuthProvider:Hg,GoogleAuthProvider:Ug,OAuthProvider:Bg,SAMLAuthProvider:Wg,PhoneAuthProvider:Ek,PhoneMultiFactorGenerator:yw,RecaptchaVerifier:Ck,TwitterAuthProvider:Kg,Auth:wk,AuthCredential:ng,Error:fd}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Sk.registerVersion("@firebase/auth-compat","0.2.24");var Ik,Pk="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Ak={},Nk=Nk||{},Rk=Pk||self;function Ok(){}function Mk(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Dk(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Lk="closure_uid_"+(1e9*Math.random()>>>0),Fk=0;function jk(e,t,n){return e.call.apply(e.bind,arguments)}function zk(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Bk(e,t,n){return(Bk=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?jk:zk).apply(null,arguments)}function Vk(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Uk(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Hk(){this.s=this.s,this.o=this.o}Hk.prototype.s=!1,Hk.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,Lk)&&e[Lk]||(e[Lk]=++Fk)}(this)},Hk.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var qk=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Wk(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Kk(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Mk(r)){var i=e.length||0,o=r.length||0;e.length=i+o;for(var a=0;a<o;a++)e[i+a]=r[a]}else e.push(r)}}function Gk(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Gk.prototype.h=function(){this.defaultPrevented=!0};var Zk=function(){if(!Rk.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Rk.addEventListener("test",Ok,t),Rk.removeEventListener("test",Ok,t)}catch($7){}return e}();function Yk(e){return/^[\s\xa0]*$/.test(e)}var Qk=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function $k(e,t){return e<t?-1:e>t?1:0}function Xk(){var e=Rk.navigator;return e&&(e=e.userAgent)?e:""}function Jk(e){return-1!=Xk().indexOf(e)}function ex(e){return ex[" "](e),e}ex[" "]=Ok;var tx,nx=Jk("Opera"),rx=Jk("Trident")||Jk("MSIE"),ix=Jk("Edge"),ox=ix||rx,ax=Jk("Gecko")&&!(-1!=Xk().toLowerCase().indexOf("webkit")&&!Jk("Edge"))&&!(Jk("Trident")||Jk("MSIE"))&&!Jk("Edge"),sx=-1!=Xk().toLowerCase().indexOf("webkit")&&!Jk("Edge");function ux(){var e=Rk.document;return e?e.documentMode:void 0}e:{var cx="",lx=function(){var e=Xk();return ax?/rv:([^\);]+)(\)|;)/.exec(e):ix?/Edge\/([\d\.]+)/.exec(e):rx?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):sx?/WebKit\/(\S+)/.exec(e):nx?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(lx&&(cx=lx?lx[1]:""),rx){var fx=ux();if(null!=fx&&fx>parseFloat(cx)){tx=String(fx);break e}}tx=cx}var hx,dx={};function px(){return function(e){var t=dx;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Qk(String(tx)).split("."),n=Qk("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=$k(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||$k(0==o[2].length,0==a[2].length)||$k(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}if(Rk.document&&rx){var vx=ux();hx=vx||(parseInt(tx,10)||void 0)}else hx=void 0;var mx=hx;function gx(e,t){if(Gk.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ax){e:{try{ex(t.nodeName);var i=!0;break e}catch(_z){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:yx[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&gx.X.h.call(this)}}Uk(gx,Gk);var yx={2:"touch",3:"pen",4:"mouse"};gx.prototype.h=function(){gx.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var bx="closure_listenable_"+(1e6*Math.random()|0),_x=0;function wx(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++_x,this.ba=this.ea=!1}function kx(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function xx(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Ex(e){var t={};for(var n in e)t[n]=e[n];return t}var Sx="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Tx(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<Sx.length;o++)n=Sx[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Cx(e){this.src=e,this.g={},this.h=0}function Ix(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=qk(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(kx(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Px(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ba&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}Cx.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=Px(e,t,r,i);return-1<a?(t=e[a],n||(t.ea=!1)):((t=new wx(t,this.src,o,!!r,i)).ea=n,e.push(t)),t};var Ax="closure_lm_"+(1e6*Math.random()|0),Nx={};function Rx(e,t,n,r,i){if(r&&r.once)return Mx(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Rx(e,t[o],n,r,i);return null}return n=Vx(n),e&&e[bx]?e.N(t,n,Dk(r)?!!r.capture:!!r,i):Ox(e,t,n,!1,r,i)}function Ox(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=Dk(i)?!!i.capture:!!i,s=zx(e);if(s||(e[Ax]=s=new Cx(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=jx;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Zk||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Fx(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Mx(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Mx(e,t[o],n,r,i);return null}return n=Vx(n),e&&e[bx]?e.O(t,n,Dk(r)?!!r.capture:!!r,i):Ox(e,t,n,!0,r,i)}function Dx(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Dx(e,t[o],n,r,i);else r=Dk(r)?!!r.capture:!!r,n=Vx(n),e&&e[bx]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Px(o=e.g[t],n,r,i))&&(kx(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=zx(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Px(t,n,r,i)),(n=-1<e?t[e]:null)&&Lx(n))}function Lx(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[bx])Ix(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Fx(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=zx(t))?(Ix(n,e),0==n.h&&(n.src=null,t[Ax]=null)):kx(e)}}}function Fx(e){return e in Nx?Nx[e]:Nx[e]="on"+e}function jx(e,t){if(e.ba)e=!0;else{t=new gx(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Lx(e),e=n.call(r,t)}return e}function zx(e){return(e=e[Ax])instanceof Cx?e:null}var Bx="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vx(e){return"function"===typeof e?e:(e[Bx]||(e[Bx]=function(t){return e.handleEvent(t)}),e[Bx])}function Ux(){Hk.call(this),this.i=new Cx(this),this.P=this,this.I=null}function Hx(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Gk(t,e);else if(t instanceof Gk)t.target=t.target||e;else{var i=t;Tx(t=new Gk(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=qx(a,r,!0,t)&&i}if(i=qx(a=t.g=e,r,!0,t)&&i,i=qx(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=qx(a=t.g=n[o],r,!1,t)&&i}function qx(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ba&&a.capture==n){var s=a.listener,u=a.ha||a.src;a.ea&&Ix(e.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Uk(Ux,Hk),Ux.prototype[bx]=!0,Ux.prototype.removeEventListener=function(e,t,n,r){Dx(this,e,t,n,r)},Ux.prototype.M=function(){if(Ux.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)kx(n[r]);delete t.g[e],t.h--}}this.I=null},Ux.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ux.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Wx=Rk.JSON.stringify;function Kx(){var e=eE,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Gx,Zx=function(){function e(){T(this,e),this.h=this.g=null}return I(e,[{key:"add",value:function(e,t){var n=Yx.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Yx=new(function(){function e(t,n){T(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return I(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Qx}),(function(e){return e.reset()})),Qx=function(){function e(){T(this,e),this.next=this.g=this.h=null}return I(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function $x(e){Rk.setTimeout((function(){throw e}),0)}function Xx(e,t){Gx||function(){var e=Rk.Promise.resolve(void 0);Gx=function(){e.then(tE)}}(),Jx||(Gx(),Jx=!0),eE.add(e,t)}var Jx=!1,eE=new Zx;function tE(){for(var e;e=Kx();){try{e.h.call(e.g)}catch($7){$x($7)}var t=Yx;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Jx=!1}function nE(e,t){Ux.call(this),this.h=e||1,this.g=t||Rk,this.j=Bk(this.lb,this),this.l=Date.now()}function rE(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function iE(e,t,n){if("function"===typeof e)n&&(e=Bk(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Bk(e.handleEvent,e)}return 2147483647<Number(t)?-1:Rk.setTimeout(e,t||0)}function oE(e){e.g=iE((function(){e.g=null,e.i&&(e.i=!1,oE(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Uk(nE,Ux),(Ik=nE.prototype).ca=!1,Ik.R=null,Ik.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Hx(this,"tick"),this.ca&&(rE(this),this.start()))}},Ik.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ik.M=function(){nE.X.M.call(this),rE(this),delete this.g};var aE=function(e){N(n,e);var t=D(n);function n(e,r){var i;return T(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return I(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:oE(this)}},{key:"M",value:function(){dv(R(n.prototype),"M",this).call(this),this.g&&(Rk.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Hk);function sE(e){Hk.call(this),this.h=e,this.g={}}Uk(sE,Hk);var uE=[];function cE(e,t,n,r){Array.isArray(n)||(n&&(uE[0]=n.toString()),n=uE);for(var i=0;i<n.length;i++){var o=Rx(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function lE(e){xx(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Lx(e)}),e),e.g={}}function fE(){this.g=!0}function hE(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Wx(n)}catch(Zn){return t}}(e,n)+(r?" "+r:"")}))}sE.prototype.M=function(){sE.X.M.call(this),lE(this)},sE.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},fE.prototype.Aa=function(){this.g=!1},fE.prototype.info=function(){};var dE={},pE=null;function vE(){return pE=pE||new Ux}function mE(e){Gk.call(this,dE.Pa,e)}function gE(e){var t=vE();Hx(t,new mE(t))}function yE(e,t){Gk.call(this,dE.STAT_EVENT,e),this.stat=t}function bE(e){var t=vE();Hx(t,new yE(t,e))}function _E(e,t){Gk.call(this,dE.Qa,e),this.size=t}function wE(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Rk.setTimeout((function(){e()}),t)}dE.Pa="serverreachability",Uk(mE,Gk),dE.STAT_EVENT="statevent",Uk(yE,Gk),dE.Qa="timingevent",Uk(_E,Gk);var kE={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},xE={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function EE(){}function SE(e){return e.h||(e.h=e.i())}function TE(){}EE.prototype.h=null;var CE,IE={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function PE(){Gk.call(this,"d")}function AE(){Gk.call(this,"c")}function NE(){}function RE(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new sE(this),this.O=ME,e=ox?125:void 0,this.T=new nE(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new OE}function OE(){this.i=null,this.g="",this.h=!1}Uk(PE,Gk),Uk(AE,Gk),Uk(NE,EE),NE.prototype.g=function(){return new XMLHttpRequest},NE.prototype.i=function(){return{}},CE=new NE;var ME=45e3,DE={},LE={};function FE(e,t,n){e.K=1,e.v=nS($E(t)),e.s=n,e.P=!0,jE(e,null)}function jE(e,t){e.F=Date.now(),UE(e),e.A=$E(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),vS(n.i,"t",r),e.C=0,n=e.l.H,e.h=new OE,e.g=vT(e.l,n?t:null,!e.s),0<e.N&&(e.L=new aE(Bk(e.La,e,e.g),e.N)),cE(e.S,e.g,"readystatechange",e.ib),t=e.H?Ex(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),gE(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function zE(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function BE(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=VE(e,n))==LE){4==t&&(e.o=4,bE(14),i=!1),hE(e.j,e.m,null,"[Incomplete Response]");break}if(r==DE){e.o=4,bE(15),hE(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}hE(e.j,e.m,r,null),GE(e,r)}zE(e)&&r!=LE&&r!=DE&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,bE(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),sT(t),t.K=!0,bE(11))):(hE(e.j,e.m,n,"[Invalid Chunked Response]"),KE(e),WE(e))}function VE(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?LE:(n=Number(t.substring(n,r)),isNaN(n)?DE:(r+=1)+n>t.length?LE:(t=t.substr(r,n),e.C=r+n,t))}function UE(e){e.V=Date.now()+e.O,HE(e,e.O)}function HE(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=wE(Bk(e.gb,e),t)}function qE(e){e.B&&(Rk.clearTimeout(e.B),e.B=null)}function WE(e){0==e.l.G||e.I||lT(e.l,e)}function KE(e){qE(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,rE(e.T),lE(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function GE(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||kS(n.h,e)))if(!e.J&&kS(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;cT(n),JS(n)}aT(n),bE(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=wE(Bk(n.cb,n),6e3));if(1>=wS(n.h)&&n.ja){try{n.ja()}catch(o){}n.ja=void 0}}else hT(n,11)}else if((e.J||n.g==e)&&cT(n),!Yk(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.T=o[0],o=o[1],2==n.G)if("c"==o[0]){n.I=o[1],n.ka=o[2];var a=o[3];null!=a&&(n.ma=a,n.j.info("VER="+n.ma));var s=o[4];null!=s&&(n.Ca=s,n.j.info("SVER="+n.Ca));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(xS(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,tS(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=pT(r,r.H?r.ka:null,r.V),d.J){ES(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(qE(p),UE(p)),r.g=d}else oT(r);0<n.i.length&&tT(n)}else"stop"!=o[0]&&"close"!=o[0]||hT(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?hT(n,7):XS(n):"noop"!=o[0]&&n.l&&n.l.wa(o),n.A=0)}gE()}catch(o){}}function ZE(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Mk(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Mk(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Mk(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(Ik=RE.prototype).setTimeout=function(e){this.O=e},Ik.ib=function(e){e=e.target;var t=this.L;t&&3==KS(e)?t.l():this.La(e)},Ik.La=function(e){try{if(e==this.g)e:{var t=KS(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||ox||this.g&&(this.h.h||this.g.fa()||GS(this.g)))){this.I||4!=t||7==n||gE(),qE(this);var r=this.g.aa();this.Y=r;t:if(zE(this)){var i=GS(this.g);e="";var o=i.length,a=4==KS(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){KE(this),WE(this);var s="";break t}this.h.i=new Rk.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:a&&n==o-1});i.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yk(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,bE(12),KE(this),WE(this);break e}hE(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,GE(this,r)}this.P?(BE(this,t,s),ox&&this.i&&3==t&&(cE(this.S,this.T,"tick",this.hb),this.T.start())):(hE(this.j,this.m,s,null),GE(this,s)),4==t&&KE(this),this.i&&!this.I&&(4==t?lT(this.l,this):(this.i=!1,UE(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,bE(12)):(this.o=0,bE(13)),KE(this),WE(this)}}}catch(t){}},Ik.hb=function(){if(this.g){var e=KS(this.g),t=this.g.fa();this.C<t.length&&(qE(this),BE(this,e,t),this.i&&4!=e&&UE(this))}},Ik.cancel=function(){this.I=!0,KE(this)},Ik.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(gE(),bE(17)),KE(this),this.o=2,WE(this)):HE(this,this.V-e)};var YE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function QE(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof QE){this.h=void 0!==t?t:e.h,XE(this,e.j),this.s=e.s,this.g=e.g,JE(this,e.m),this.l=e.l,t=e.i;var n=new fS;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),eS(this,n),this.o=e.o}else e&&(n=String(e).match(YE))?(this.h=!!t,XE(this,n[1]||"",!0),this.s=rS(n[2]||""),this.g=rS(n[3]||"",!0),JE(this,n[4]),this.l=rS(n[5]||"",!0),eS(this,n[6]||"",!0),this.o=rS(n[7]||"")):(this.h=!!t,this.i=new fS(null,this.h))}function $E(e){return new QE(e)}function XE(e,t,n){e.j=n?rS(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function JE(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function eS(e,t,n){t instanceof fS?(e.i=t,function(e,t){t&&!e.j&&(hS(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(dS(this,t),vS(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=iS(t,cS)),e.i=new fS(t,e.h))}function tS(e,t,n){e.i.set(t,n)}function nS(e){return tS(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function rS(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function iS(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,oS),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function oS(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}QE.prototype.toString=function(){var e=[],t=this.j;t&&e.push(iS(t,aS,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(iS(t,aS,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(iS(n,"/"==n.charAt(0)?uS:sS,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",iS(n,lS)),e.join("")};var aS=/[#\/\?@]/g,sS=/[#\?:]/g,uS=/[#\?]/g,cS=/[#\?@]/g,lS=/#/g;function fS(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function hS(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function dS(e,t){hS(e),t=mS(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function pS(e,t){return hS(e),t=mS(e,t),e.g.has(t)}function vS(e,t,n){dS(e,t),0<n.length&&(e.i=null,e.g.set(mS(e,t),Wk(n)),e.h+=n.length)}function mS(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ik=fS.prototype).add=function(e,t){hS(this),this.i=null,e=mS(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ik.forEach=function(e,t){hS(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Ik.oa=function(){hS(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},Ik.W=function(e){hS(this);var t=[];if("string"===typeof e)pS(this,e)&&(t=t.concat(this.g.get(mS(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Ik.set=function(e,t){return hS(this),this.i=null,pS(this,e=mS(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ik.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},Ik.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var a=i;""!==o[r]&&(a+="="+encodeURIComponent(String(o[r]))),e.push(a)}}return this.i=e.join("&")};var gS=I((function e(t,n){T(this,e),this.h=t,this.g=n}));function yS(e){this.l=e||bS,Rk.PerformanceNavigationTiming?e=0<(e=Rk.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Rk.g&&Rk.g.Ga&&Rk.g.Ga()&&Rk.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var bS=10;function _S(e){return!!e.h||!!e.g&&e.g.size>=e.j}function wS(e){return e.h?1:e.g?e.g.size:0}function kS(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function xS(e,t){e.g?e.g.add(t):e.h=t}function ES(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function SS(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Lh(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(o){r.e(o)}finally{r.f()}return n}return Wk(e.i)}function TS(){}function CS(){this.g=new TS}function IS(e,t,n){var r=n||"";try{ZE(e,(function(e,n){var i=e;Dk(e)&&(i=Wx(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(Gn){throw t.push(r+"type="+encodeURIComponent("_badmap")),Gn}}function PS(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(_z){}}function AS(e){this.l=e.ac||null,this.j=e.jb||!1}function NS(e,t){Ux.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=RS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}yS.prototype.cancel=function(){if(this.i=SS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Lh(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},TS.prototype.stringify=function(e){return Rk.JSON.stringify(e,void 0)},TS.prototype.parse=function(e){return Rk.JSON.parse(e,void 0)},Uk(AS,EE),AS.prototype.g=function(){return new NS(this.l,this.j)},AS.prototype.i=function(e){return function(){return e}}({}),Uk(NS,Ux);var RS=0;function OS(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function MS(e){e.readyState=4,e.l=null,e.j=null,e.A=null,DS(e)}function DS(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ik=NS.prototype).open=function(e,t){if(this.readyState!=RS)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,DS(this)},Ik.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Rk).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},Ik.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,MS(this)),this.readyState=RS},Ik.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,DS(this)),this.g&&(this.readyState=3,DS(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof Rk.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;OS(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},Ik.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?MS(this):DS(this),3==this.readyState&&OS(this)}},Ik.Va=function(e){this.g&&(this.response=this.responseText=e,MS(this))},Ik.Ua=function(e){this.g&&(this.response=e,MS(this))},Ik.ga=function(){this.g&&MS(this)},Ik.setRequestHeader=function(e,t){this.v.append(e,t)},Ik.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ik.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(NS.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var LS=Rk.JSON.parse;function FS(e){Ux.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=jS,this.K=this.L=!1}Uk(FS,Ux);var jS="",zS=/^https?$/i,BS=["POST","PUT"];function VS(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,US(e),qS(e)}function US(e){e.D||(e.D=!0,Hx(e,"complete"),Hx(e,"error"))}function HS(e){if(e.h&&"undefined"!=typeof Nk&&(!e.C[1]||4!=KS(e)||2!=e.aa()))if(e.v&&4==KS(e))iE(e.Ha,0,e);else if(Hx(e,"readystatechange"),4==KS(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(YE)[1]||null;if(!o&&Rk.self&&Rk.self.location){var a=Rk.self.location.protocol;o=a.substr(0,a.length-1)}i=!zS.test(o?o.toLowerCase():"")}t=i}if(t)Hx(e,"complete"),Hx(e,"success");else{e.m=6;try{var s=2<KS(e)?e.g.statusText:""}catch(mz){s=""}e.j=s+" ["+e.aa()+"]",US(e)}}finally{qS(e)}}}function qS(e,t){if(e.g){WS(e);var n=e.g,r=e.C[0]?Ok:null;e.g=null,e.C=null,t||Hx(e,"ready");try{n.onreadystatechange=r}catch(Gn){}}}function WS(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Rk.clearTimeout(e.A),e.A=null)}function KS(e){return e.g?e.g.readyState:0}function GS(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case jS:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(NT){return null}}function ZS(e){var t="";return xx(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function YS(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ZS(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):tS(e,t,n))}function QS(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function $S(e){this.Ca=0,this.i=[],this.j=new fE,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=QS("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=QS("baseRetryDelayMs",5e3,e),this.bb=QS("retryDelaySeedMs",1e4,e),this.$a=QS("forwardChannelMaxRetries",2,e),this.ta=QS("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new yS(e&&e.concurrentRequestLimit),this.Fa=new CS,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function XS(e){if(eT(e),3==e.G){var t=e.U++,n=$E(e.F);tS(n,"SID",e.I),tS(n,"RID",t),tS(n,"TYPE","terminate"),rT(e,n),(t=new RE(e,e.j,t,void 0)).K=2,t.v=nS($E(n)),n=!1,Rk.navigator&&Rk.navigator.sendBeacon&&(n=Rk.navigator.sendBeacon(t.v.toString(),"")),!n&&Rk.Image&&((new Image).src=t.v,n=!0),n||(t.g=vT(t.l,null),t.g.da(t.v)),t.F=Date.now(),UE(t)}dT(e)}function JS(e){e.g&&(sT(e),e.g.cancel(),e.g=null)}function eT(e){JS(e),e.u&&(Rk.clearTimeout(e.u),e.u=null),cT(e),e.h.cancel(),e.m&&("number"===typeof e.m&&Rk.clearTimeout(e.m),e.m=null)}function tT(e){_S(e.h)||e.m||(e.m=!0,Xx(e.Ja,e),e.C=0)}function nT(e,t){var n;n=t?t.m:e.U++;var r=$E(e.F);tS(r,"SID",e.I),tS(r,"RID",n),tS(r,"AID",e.T),rT(e,r),e.o&&e.s&&YS(r,e.o,e.s),n=new RE(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=iT(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),xS(e.h,n),FE(n,r,t)}function rT(e,t){e.ia&&xx(e.ia,(function(e,n){tS(t,n,e)})),e.l&&ZE({},(function(e,n){tS(t,n,e)}))}function iT(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Bk(e.l.Ra,e.l,e):null;e:for(var i=e.i,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{IS(l,a,"req"+c+"_")}catch(f){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function oT(e){e.g||e.u||(e.Z=1,Xx(e.Ia,e),e.A=0)}function aT(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=wE(Bk(e.Ia,e),fT(e,e.A)),e.A++,!0)}function sT(e){null!=e.B&&(Rk.clearTimeout(e.B),e.B=null)}function uT(e){e.g=new RE(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=$E(e.sa);tS(t,"RID","rpc"),tS(t,"SID",e.I),tS(t,"CI",e.L?"0":"1"),tS(t,"AID",e.T),tS(t,"TYPE","xmlhttp"),rT(e,t),e.o&&e.s&&YS(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=nS($E(t)),n.s=null,n.P=!0,jE(n,e)}function cT(e){null!=e.v&&(Rk.clearTimeout(e.v),e.v=null)}function lT(e,t){var n=null;if(e.g==t){cT(e),sT(e),e.g=null;var r=2}else{if(!kS(e.h,t))return;n=t.D,ES(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Hx(r=vE(),new _E(r,n)),tT(e)}else oT(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(wS(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=wE(Bk(e.Ja,e,t),fT(e,e.C)),e.C++,!0))}(e,t)||2==r&&aT(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:hT(e,5);break;case 4:hT(e,10);break;case 3:hT(e,6);break;default:hT(e,2)}}function fT(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function hT(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Bk(e.kb,e);n||(n=new QE("//www.google.com/images/cleardot.gif"),Rk.location&&"http"==Rk.location.protocol||XE(n,"https"),nS(n)),function(e,t){var n=new fE;if(Rk.Image){var r=new Image;r.onload=Vk(PS,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Vk(PS,n,r,"TestLoadImage: error",!1,t),r.onabort=Vk(PS,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Vk(PS,n,r,"TestLoadImage: timeout",!1,t),Rk.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else bE(2);e.G=0,e.l&&e.l.va(t),dT(e),eT(e)}function dT(e){if(e.G=0,e.la=[],e.l){var t=SS(e.h);0==t.length&&0==e.i.length||(Kk(e.la,t),Kk(e.la,e.i),e.h.i.length=0,Wk(e.i),e.i.length=0),e.l.ua()}}function pT(e,t,n){var r=n instanceof QE?$E(n):new QE(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),JE(r,r.m);else{var i=Rk.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new QE(null,void 0);r&&XE(o,r),t&&(o.g=t),i&&JE(o,i),n&&(o.l=n),r=o}return n=e.D,t=e.za,n&&t&&tS(r,n,t),tS(r,"VER",e.ma),rT(e,r),r}function vT(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new FS(new AS({jb:!0})):new FS(e.ra)).Ka(e.H),t}function mT(){}function gT(){if(rx&&!(10<=Number(mx)))throw Error("Environmental error: no available transport.")}function yT(e,t){Ux.call(this),this.g=new $S(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Yk(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Yk(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new wT(this)}function bT(e){PE.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function _T(){AE.call(this),this.status=1}function wT(e){this.g=e}(Ik=FS.prototype).Ka=function(e){this.L=e},Ik.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():CE.g(),this.C=this.u?SE(this.u):SE(CE),this.g.onreadystatechange=Bk(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void VS(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var o,a=Lh(r.keys());try{for(a.s();!(o=a.n()).done;){var s=o.value;n.set(s,r.get(s))}}catch(p){a.e(p)}finally{a.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Rk.FormData&&e instanceof Rk.FormData,!(0<=qk(BS,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,l=Lh(n);try{for(l.s();!(u=l.n()).done;){var f=c(u.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{WS(this),0<this.B&&((this.K=function(e){return rx&&px()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Bk(this.qa,this)):this.A=iE(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){VS(this,s)}},Ik.qa=function(){"undefined"!=typeof Nk&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Hx(this,"timeout"),this.abort(8))},Ik.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Hx(this,"complete"),Hx(this,"abort"),qS(this))},Ik.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qS(this,!0)),FS.X.M.call(this)},Ik.Ha=function(){this.s||(this.F||this.v||this.l?HS(this):this.fb())},Ik.fb=function(){HS(this)},Ik.aa=function(){try{return 2<KS(this)?this.g.status:-1}catch(Y7){return-1}},Ik.fa=function(){try{return this.g?this.g.responseText:""}catch(Y7){return""}},Ik.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),LS(t)}},Ik.Ea=function(){return this.m},Ik.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ik=$S.prototype).ma=8,Ik.G=1,Ik.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new RE(this,this.j,e,void 0),n=this.s;if(this.S&&(n?Tx(n=Ex(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var o=this.i[i];if(void 0===(o="__data__"in o.g&&"string"===typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=iT(this,t,r),tS(i=$E(this.F),"RID",e),tS(i,"CVER",22),this.D&&tS(i,"X-HTTP-Session-Id",this.D),rT(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(ZS(n)))+"&"+r:this.o&&YS(i,this.o,n)),xS(this.h,t),this.Ya&&tS(i,"TYPE","init"),this.O?(tS(i,"$req",r),tS(i,"SID","null"),t.Z=!0,FE(t,i,null)):FE(t,i,r),this.G=2}}else 3==this.G&&(e?nT(this,e):0==this.i.length||_S(this.h)||nT(this))},Ik.Ia=function(){if(this.u=null,uT(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=wE(Bk(this.eb,this),e)}},Ik.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,bE(10),JS(this),uT(this))},Ik.cb=function(){null!=this.v&&(this.v=null,JS(this),aT(this),bE(19))},Ik.kb=function(e){e?(this.j.info("Successfully pinged google.com"),bE(2)):(this.j.info("Failed to ping google.com"),bE(1))},(Ik=mT.prototype).xa=function(){},Ik.wa=function(){},Ik.va=function(){},Ik.ua=function(){},Ik.Ra=function(){},gT.prototype.g=function(e,t){return new yT(e,t)},Uk(yT,Ux),yT.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;bE(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=pT(e,null,e.V),tT(e)},yT.prototype.close=function(){XS(this.g)},yT.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Wx(e),e=n);t.i.push(new gS(t.ab++,e)),3==t.G&&tT(t)},yT.prototype.M=function(){this.g.l=null,delete this.j,XS(this.g),delete this.g,yT.X.M.call(this)},Uk(bT,PE),Uk(_T,AE),Uk(wT,mT),wT.prototype.xa=function(){Hx(this.g,"a")},wT.prototype.wa=function(e){Hx(this.g,new bT(e))},wT.prototype.va=function(e){Hx(this.g,new _T)},wT.prototype.ua=function(){Hx(this.g,"b")},gT.prototype.createWebChannel=gT.prototype.g,yT.prototype.send=yT.prototype.u,yT.prototype.open=yT.prototype.m,yT.prototype.close=yT.prototype.close,kE.NO_ERROR=0,kE.TIMEOUT=8,kE.HTTP_ERROR=6,xE.COMPLETE="complete",TE.EventType=IE,IE.OPEN="a",IE.CLOSE="b",IE.ERROR="c",IE.MESSAGE="d",Ux.prototype.listen=Ux.prototype.N,FS.prototype.listenOnce=FS.prototype.O,FS.prototype.getLastError=FS.prototype.Oa,FS.prototype.getLastErrorCode=FS.prototype.Ea,FS.prototype.getStatus=FS.prototype.aa,FS.prototype.getResponseJson=FS.prototype.Sa,FS.prototype.getResponseText=FS.prototype.fa,FS.prototype.send=FS.prototype.da,FS.prototype.setWithCredentials=FS.prototype.Ka;var kT=Ak.createWebChannelTransport=function(){return new gT},xT=Ak.getStatEventTarget=function(){return vE()},ET=Ak.ErrorCode=kE,ST=Ak.EventType=xE,TT=Ak.Event=dE,CT=Ak.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},IT=Ak.FetchXmlHttpFactory=AS,PT=Ak.WebChannel=TE,AT=Ak.XhrIo=FS,NT="@firebase/firestore",RT=function(){function e(t){T(this,e),this.uid=t}return I(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();RT.UNAUTHENTICATED=new RT(null),RT.GOOGLE_CREDENTIALS=new RT("google-credentials-uid"),RT.FIRST_PARTY=new RT("first-party-uid"),RT.MOCK_USER=new RT("mock-user");var OT="9.14.0",MT=new Jd("@firebase/firestore");function DT(){return MT.logLevel}function LT(e){if(MT.logLevel<=Kd.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(zT);MT.debug.apply(MT,["Firestore (".concat(OT,"): ").concat(e)].concat(S(i)))}}function FT(e){if(MT.logLevel<=Kd.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(zT);MT.error.apply(MT,["Firestore (".concat(OT,"): ").concat(e)].concat(S(i)))}}function jT(e){if(MT.logLevel<=Kd.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(zT);MT.warn.apply(MT,["Firestore (".concat(OT,"): ").concat(e)].concat(S(i)))}}function zT(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function BT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(OT,") INTERNAL ASSERTION FAILED: ")+e;throw FT(t),new Error(t)}function VT(e,t){e||BT()}function UT(e,t){return e}var HT={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},qT=function(e){N(n,e);var t=D(n);function n(e,r){var i;return T(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return I(n)}(fd),WT=I((function e(){var t=this;T(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),KT=I((function e(t,n){T(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),GT=function(){function e(){T(this,e)}return I(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(RT.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),ZT=function(){function e(t){T(this,e),this.token=t,this.changeListener=null}return I(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),YT=function(){function e(t){T(this,e),this.t=t,this.currentUser=RT.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return I(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},o=new WT;this.o=function(){n.i++,n.currentUser=n.u(),o.resolve(),o=new WT,e.enqueueRetryable((function(){return i(n.currentUser)}))};var a=function(){var t=o;e.enqueueRetryable(y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){LT("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),a()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(LT("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new WT)}}),0),a()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(LT("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(VT("string"==typeof n.accessToken),new KT(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return VT(null===e||"string"==typeof e),new RT(e)}}]),e}(),QT=function(){function e(t,n,r,i){T(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=RT.FIRST_PARTY,this.p=new Map}return I(e,[{key:"I",value:function(){return this.g?this.g():(VT(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),$T=function(){function e(t,n,r,i){T(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return I(e,[{key:"getToken",value:function(){return Promise.resolve(new QT(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(RT.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),XT=I((function e(t){T(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),JT=function(){function e(t){T(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return I(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&LT("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,LT("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){LT("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):LT("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(VT("string"==typeof t.token),e.A=t.token,new XT(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function eC(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var tC=function(){function e(){T(this,e)}return I(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=eC(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function nC(e,t){return e<t?-1:e>t?1:0}function rC(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function iC(e){return e+"\0"}var oC=function(){function e(t,n){if(T(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new qT(HT.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new qT(HT.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new qT(HT.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new qT(HT.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return I(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?nC(this.nanoseconds,e.nanoseconds):nC(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),aC=function(){function e(t){T(this,e),this.timestamp=t}return I(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new oC(0,0))}},{key:"max",value:function(){return new e(new oC(253402300799,999999999))}}]),e}(),sC=function(){function e(t,n,r){T(this,e),void 0===n?n=0:n>t.length&&BT(),void 0===r?r=t.length-n:r>t.length-n&&BT(),this.segments=t,this.offset=n,this.len=r}return I(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),uC=function(e){N(n,e);var t=D(n);function n(){return T(this,n),t.apply(this,arguments)}return I(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var o=0,a=r;o<a.length;o++){var s=a[o];if(s.indexOf("//")>=0)throw new qT(HT.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,S(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(sC),cC=/^[_a-zA-Z][_a-zA-Z0-9]*$/,lC=function(e){N(n,e);var t=D(n);function n(){return T(this,n),t.apply(this,arguments)}return I(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return cC.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,o=function(){if(0===r.length)throw new qT(HT.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new qT(HT.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new qT(HT.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new qT(HT.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(sC),fC=function(){function e(t){T(this,e),this.path=t}return I(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===uC.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(uC.fromString(t))}},{key:"fromName",value:function(t){return new e(uC.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(uC.emptyPath())}},{key:"comparator",value:function(e,t){return uC.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new uC(t.slice()))}}]),e}(),hC=I((function e(t,n,r,i){T(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function dC(e){return e.fields.find((function(e){return 2===e.kind}))}function pC(e){return e.fields.filter((function(e){return 2!==e.kind}))}hC.UNKNOWN_ID=-1;var vC=I((function e(t,n){T(this,e),this.fieldPath=t,this.kind=n}));var mC=function(){function e(t,n){T(this,e),this.sequenceNumber=t,this.offset=n}return I(e,null,[{key:"empty",value:function(){return new e(0,bC.min())}}]),e}();function gC(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=aC.fromTimestamp(1e9===r?new oC(n+1,0):new oC(n,r));return new bC(i,fC.empty(),t)}function yC(e){return new bC(e.readTime,e.key,-1)}var bC=function(){function e(t,n,r){T(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return I(e,null,[{key:"min",value:function(){return new e(aC.min(),fC.empty(),-1)}},{key:"max",value:function(){return new e(aC.max(),fC.empty(),-1)}}]),e}();function _C(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=fC.comparator(e.documentKey,t.documentKey))?n:nC(e.largestBatchId,t.largestBatchId)}var wC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",kC=function(){function e(){T(this,e),this.onCommittedListeners=[]}return I(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function xC(e){return EC.apply(this,arguments)}function EC(){return EC=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===HT.FAILED_PRECONDITION&&t.message===wC){e.next=2;break}throw t;case 2:LT("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),EC.apply(this,arguments)}var SC=function(){function e(t){var n=this;T(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return I(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&BT(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Lh(t);try{var o=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,o=new Array(i),a=0,s=function(s){var u=s;n(t[u]).next((function(t){o[u]=t,++a===i&&e(o)}),(function(e){return r(e)}))},u=0;u<i;u++)s(u)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),TC=function(){function e(t,n){var r=this;T(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new WT,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new PC(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=MC(e.target.error);r.P.reject(new PC(t,n))}}return I(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(LT("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new NC(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new PC(n,t)}}}]),e}(),CC=function(){function e(t,n,r){T(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(Qh())&&FT("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return I(e,[{key:"F",value:function(){var e=y(m().mark((function e(t){var n=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return LT("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new PC(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new qT(HT.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new qT(HT.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new PC(t,n))},i.onupgradeneeded=function(e){LT("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){LT("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=y(m().mark((function e(t,n,r,i){var o,a,s,u,c,l=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o="readonly"===n,a=0;case 2:return++a,e.prev=3,e.delegateYield(m().mark((function e(){var n,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.F(t);case 2:return l.db=e.sent,n=TC.open(l.db,t,o?"readonly":"readwrite",r),a=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),SC.reject(e)})).toPromise(),a.catch((function(){})),e.next=7,n.v;case 7:return e.t0=a,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u=e.t1,c="FirebaseError"!==u.name&&a<3,LT("SimpleDb","Transaction failed with error:",u.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(u));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return LT("SimpleDb","Removing database:",e),RC(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!rd())return!1;if(e.N())return!0;var t=Qh(),n=e.D(t),r=0<n&&n<10,i=e.k(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/mapty",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),IC=function(){function e(t){T(this,e),this.U=t,this.q=!1,this.K=null}return I(e,[{key:"isDone",get:function(){return this.q}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.U=e}},{key:"done",value:function(){this.q=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return RC(this.U.delete())}}]),e}(),PC=function(e){N(n,e);var t=D(n);function n(e,r){var i;return T(this,n),(i=t.call(this,HT.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return I(n)}(qT);function AC(e){return"IndexedDbTransactionError"===e.name}var NC=function(){function e(t){T(this,e),this.store=t}return I(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(LT("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(LT("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),RC(n)}},{key:"add",value:function(e){return LT("SimpleDb","ADD",this.store.name,e,e),RC(this.store.add(e))}},{key:"get",value:function(e){var t=this;return RC(this.store.get(e)).next((function(n){return void 0===n&&(n=null),LT("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return LT("SimpleDb","DELETE",this.store.name,e),RC(this.store.delete(e))}},{key:"count",value:function(){return LT("SimpleDb","COUNT",this.store.name),RC(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var o=this.store.getAll(n.range);return new SC((function(e,t){o.onerror=function(e){t(e.target.error)},o.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new SC((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){LT("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new SC((function(n,r){t.onerror=function(e){var t=MC(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new SC((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new IC(i),a=t(i.primaryKey,i.value,o);if(a instanceof SC){var s=a.catch((function(e){return o.done(),SC.reject(e)}));n.push(s)}o.isDone?r():null===o.G?i.continue():i.continue(o.G)}else r()}})).next((function(){return SC.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function RC(e){return new SC((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=MC(e.target.error);n(t)}}))}var OC=!1;function MC(e){var t=CC.D(Qh());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new qT("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return OC||(OC=!0,setTimeout((function(){throw r}),0)),r}}return e}var DC=function(){function e(t,n){T(this,e),this.asyncQueue=t,this.et=n,this.task=null}return I(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;LT("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=LT,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!AC(e.t4)){e.next=17;break}LT("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,xC(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),LC=function(){function e(t,n){T(this,e),this.localStore=t,this.persistence=n}return I(e,[{key:"st",value:function(){var e=y(m().mark((function e(){var t,n=this,r=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,o=!0;return SC.doWhile((function(){return!0===o&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return LT("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));o=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var o=n.changes;return r.localStore.indexManager.updateIndexEntries(e,o).next((function(){return r.ot(i,n)})).next((function(n){return LT("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return o.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=yC(t);_C(r,n)>0&&(n=r)})),new bC(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),FC=function(){function e(t,n){var r=this;T(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return I(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();function jC(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function zC(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function BC(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}FC.at=-1;var VC=function(){function e(t,n){T(this,e),this.comparator=t,this.root=n||HC.EMPTY}return I(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,HC.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,HC.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new UC(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new UC(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new UC(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new UC(this.root,e,this.comparator,!0)}}]),e}(),UC=function(){function e(t,n,r,i){T(this,e),this.isReverse=i,this.nodeStack=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,n&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return I(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),HC=function(){function e(t,n,r,i,o){T(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return I(e,[{key:"copy",value:function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw BT();if(this.right.isRed())throw BT();var e=this.left.check();if(e!==this.right.check())throw BT();return e+(this.isRed()?0:1)}}]),e}();HC.EMPTY=null,HC.RED=!0,HC.BLACK=!1,HC.EMPTY=new(function(){function e(){T(this,e),this.size=0}return I(e,[{key:"key",get:function(){throw BT()}},{key:"value",get:function(){throw BT()}},{key:"color",get:function(){throw BT()}},{key:"left",get:function(){throw BT()}},{key:"right",get:function(){throw BT()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new HC(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var qC=function(){function e(t){T(this,e),this.comparator=t,this.data=new VC(this.comparator)}return I(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new WC(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new WC(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),WC=function(){function e(t){T(this,e),this.iter=t}return I(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function KC(e){return e.hasNext()?e.getNext():void 0}var GC=function(){function e(t){T(this,e),this.fields=t,t.sort(lC.comparator)}return I(e,[{key:"unionWith",value:function(t){var n,r=new qC(lC.comparator),i=Lh(this.fields);try{for(i.s();!(n=i.n()).done;){var o=n.value;r=r.add(o)}}catch(c){i.e(c)}finally{i.f()}var a,s=Lh(t);try{for(s.s();!(a=s.n()).done;){var u=a.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Lh(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return rC(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var ZC=function(e){function t(e){T(this,t),this.binaryString=e}return I(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return nC(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();ZC.EMPTY_BYTE_STRING=new ZC("");var YC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function QC(e){if(VT(!!e),"string"==typeof e){var t=0,n=YC.exec(e);if(VT(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:$C(e.seconds),nanos:$C(e.nanos)}}function $C(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function XC(e){return"string"==typeof e?ZC.fromBase64String(e):ZC.fromUint8Array(e)}function JC(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function eI(e){var t=e.mapValue.fields.__previous_value__;return JC(t)?eI(t):t}function tI(e){var t=QC(e.mapValue.fields.__local_write_time__.timestampValue);return new oC(t.seconds,t.nanos)}var nI=I((function e(t,n,r,i,o,a,s,u){T(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.useFetchStreams=u})),rI=function(){function e(t,n){T(this,e),this.projectId=t,this.database=n||"(default)"}return I(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function iI(e){return null==e}function oI(e){return 0===e&&1/e==-1/0}function aI(e){return"number"==typeof e&&Number.isInteger(e)&&!oI(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var sI={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},uI={nullValue:"NULL_VALUE"};function cI(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?JC(e)?4:xI(e)?9007199254740991:10:BT()}function lI(e,t){if(e===t)return!0;var n=cI(e);if(n!==cI(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return tI(e).isEqual(tI(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=QC(e.timestampValue),r=QC(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return XC(e.bytesValue).isEqual(XC(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return $C(e.geoPointValue.latitude)===$C(t.geoPointValue.latitude)&&$C(e.geoPointValue.longitude)===$C(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return $C(e.integerValue)===$C(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=$C(e.doubleValue),r=$C(t.doubleValue);return n===r?oI(n)===oI(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return rC(e.arrayValue.values||[],t.arrayValue.values||[],lI);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(jC(n)!==jC(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!lI(n[i],r[i])))return!1;return!0}(e,t);default:return BT()}}function fI(e,t){return void 0!==(e.values||[]).find((function(e){return lI(e,t)}))}function hI(e,t){if(e===t)return 0;var n=cI(e),r=cI(t);if(n!==r)return nC(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return nC(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=$C(e.integerValue||e.doubleValue),r=$C(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return dI(e.timestampValue,t.timestampValue);case 4:return dI(tI(e),tI(t));case 5:return nC(e.stringValue,t.stringValue);case 6:return function(e,t){var n=XC(e),r=XC(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=nC(n[i],r[i]);if(0!==o)return o}return nC(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=nC($C(e.latitude),$C(t.latitude));return 0!==n?n:nC($C(e.longitude),$C(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=hI(n[i],r[i]);if(o)return o}return nC(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===sI.mapValue&&t===sI.mapValue)return 0;if(e===sI.mapValue)return 1;if(t===sI.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=nC(r[a],o[a]);if(0!==s)return s;var u=hI(n[r[a]],i[o[a]]);if(0!==u)return u}return nC(r.length,o.length)}(e.mapValue,t.mapValue);default:throw BT()}}function dI(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return nC(e,t);var n=QC(e),r=QC(t),i=nC(n.seconds,r.seconds);return 0!==i?i:nC(n.nanos,r.nanos)}function pI(e){return vI(e)}function vI(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=QC(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?XC(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,fC.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Lh(e.values||[]);try{for(i.s();!(t=i.n()).done;){var o=t.value;r?r=!1:n+=",",n+=vI(o)}}catch(a){i.e(a)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Lh(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var o=t.value;r?r=!1:n+=",",n+="".concat(o,":").concat(vI(e.fields[o]))}}catch(a){i.e(a)}finally{i.f()}return n+"}"}(e.mapValue):BT();var t,n}function mI(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function gI(e){return!!e&&"integerValue"in e}function yI(e){return!!e&&"arrayValue"in e}function bI(e){return!!e&&"nullValue"in e}function _I(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function wI(e){return!!e&&"mapValue"in e}function kI(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return zC(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=kI(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=kI(e.arrayValue.values[r]);return n}return Object.assign({},e)}function xI(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function EI(e){return"nullValue"in e?uI:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?mI(rI.empty(),fC.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:BT()}function SI(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?mI(rI.empty(),fC.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?sI:BT()}function TI(e,t){var n=hI(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function CI(e,t){var n=hI(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var II=function(){function e(t){T(this,e),this.value=t}return I(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!wI(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kI(t)}},{key:"setAll",value:function(e){var t=this,n=lC.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=kI(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());wI(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return lI(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];wI(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){zC(t,(function(t,n){return e[t]=n}));var r,i=Lh(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;delete e[o]}}catch(a){i.e(a)}finally{i.f()}}},{key:"clone",value:function(){return new e(kI(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function PI(e){var t=[];return zC(e.fields,(function(e,n){var r=new lC([e]);if(wI(n)){var i=PI(n.mapValue).fields;if(0===i.length)t.push(r);else{var o,a=Lh(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;t.push(r.child(s))}}catch(u){a.e(u)}finally{a.f()}}}else t.push(r)})),new GC(t)}var AI=function(){function e(t,n,r,i,o,a){T(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=o,this.documentState=a}return I(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=II.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=II.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=aC.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,aC.min(),aC.min(),II.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,aC.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,aC.min(),II.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,aC.min(),II.empty(),2)}}]),e}(),NI=I((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;T(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.ht=null}));function RI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new NI(e,t,n,r,i,o,a)}function OI(e){var t=UT(e);if(null===t.ht){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+pI(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),iI(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return pI(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return pI(e)})).join(",")),t.ht=n}return t.ht}function MI(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!QI(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!lI(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!XI(e.startAt,t.startAt)&&XI(e.endAt,t.endAt)}function DI(e){return fC.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function LI(e,t){return e.filters.filter((function(e){return e instanceof zI&&e.field.isEqual(t)}))}function FI(e,t,n){var r,i=uI,o=!0,a=Lh(LI(e,t));try{for(a.s();!(r=a.n()).done;){var s=r.value,u=uI,c=!0;switch(s.op){case"<":case"<=":u=EI(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=uI}TI({value:i,inclusive:o},{value:u,inclusive:c})<0&&(i=u,o=c)}}catch(h){a.e(h)}finally{a.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];TI({value:i,inclusive:o},{value:f,inclusive:n.inclusive})<0&&(i=f,o=n.inclusive);break}return{value:i,inclusive:o}}function jI(e,t,n){var r,i=sI,o=!0,a=Lh(LI(e,t));try{for(a.s();!(r=a.n()).done;){var s=r.value,u=sI,c=!0;switch(s.op){case">=":case">":u=SI(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=sI}CI({value:i,inclusive:o},{value:u,inclusive:c})>0&&(i=u,o=c)}}catch(h){a.e(h)}finally{a.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];CI({value:i,inclusive:o},{value:f,inclusive:n.inclusive})>0&&(i=f,o=n.inclusive);break}return{value:i,inclusive:o}}var zI=function(e){N(n,e);var t=D(n);function n(e,r,i){var o;return T(this,n),(o=t.call(this)).field=e,o.op=r,o.value=i,o}return I(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(hI(t,this.value)):null!==t&&cI(this.value)===cI(t)&&this.ft(hI(t,this.value))}},{key:"ft",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return BT()}}},{key:"dt",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new BI(e,t,r):"array-contains"===t?new qI(e,r):"in"===t?new WI(e,r):"not-in"===t?new KI(e,r):"array-contains-any"===t?new GI(e,r):new n(e,t,r)}},{key:"lt",value:function(e,t,n){return"in"===t?new VI(e,n):new UI(e,n)}}]),n}(function(){return I((function e(){T(this,e)}))}()),BI=function(e){N(n,e);var t=D(n);function n(e,r,i){var o;return T(this,n),(o=t.call(this,e,r,i)).key=fC.fromName(i.referenceValue),o}return I(n,[{key:"matches",value:function(e){var t=fC.comparator(e.key,this.key);return this.ft(t)}}]),n}(zI),VI=function(e){N(n,e);var t=D(n);function n(e,r){var i;return T(this,n),(i=t.call(this,e,"in",r)).keys=HI("in",r),i}return I(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(zI),UI=function(e){N(n,e);var t=D(n);function n(e,r){var i;return T(this,n),(i=t.call(this,e,"not-in",r)).keys=HI("not-in",r),i}return I(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(zI);function HI(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return fC.fromName(e.referenceValue)}))}var qI=function(e){N(n,e);var t=D(n);function n(e,r){return T(this,n),t.call(this,e,"array-contains",r)}return I(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return yI(t)&&fI(t.arrayValue,this.value)}}]),n}(zI),WI=function(e){N(n,e);var t=D(n);function n(e,r){return T(this,n),t.call(this,e,"in",r)}return I(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&fI(this.value.arrayValue,t)}}]),n}(zI),KI=function(e){N(n,e);var t=D(n);function n(e,r){return T(this,n),t.call(this,e,"not-in",r)}return I(n,[{key:"matches",value:function(e){if(fI(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!fI(this.value.arrayValue,t)}}]),n}(zI),GI=function(e){N(n,e);var t=D(n);function n(e,r){return T(this,n),t.call(this,e,"array-contains-any",r)}return I(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!yI(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return fI(t.value.arrayValue,e)}))}}]),n}(zI),ZI=I((function e(t,n){T(this,e),this.position=t,this.inclusive=n})),YI=I((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";T(this,e),this.field=t,this.dir=n}));function QI(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function $I(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?fC.comparator(fC.fromName(a.referenceValue),n.key):hI(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function XI(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!lI(e.position[n],t.position[n]))return!1;return!0}var JI=I((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;T(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=u,this._t=null,this.wt=null,this.startAt,this.endAt}));function eP(e,t,n,r,i,o,a,s){return new JI(e,t,n,r,i,o,a,s)}function tP(e){return new JI(e)}function nP(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function rP(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function iP(e){var t,n=Lh(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.dt())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function oP(e){return null!==e.collectionGroup}function aP(e){var t=UT(e);if(null===t._t){t._t=[];var n=iP(t),r=rP(t);if(null!==n&&null===r)n.isKeyField()||t._t.push(new YI(n)),t._t.push(new YI(lC.keyField(),"asc"));else{var i,o=!1,a=Lh(t.explicitOrderBy);try{for(a.s();!(i=a.n()).done;){var s=i.value;t._t.push(s),s.field.isKeyField()&&(o=!0)}}catch(c){a.e(c)}finally{a.f()}if(!o){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new YI(lC.keyField(),u))}}}return t._t}function sP(e){var t=UT(e);if(!t.wt)if("F"===t.limitType)t.wt=RI(t.path,t.collectionGroup,aP(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Lh(aP(t));try{for(i.s();!(n=i.n()).done;){var o=n.value,a="desc"===o.dir?"asc":"desc";r.push(new YI(o.field,a))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new ZI(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new ZI(t.startAt.position,t.startAt.inclusive):null;t.wt=RI(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.wt}function uP(e,t,n){return new JI(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function cP(e,t){return MI(sP(e),sP(t))&&e.limitType===t.limitType}function lP(e){return"".concat(OI(sP(e)),"|lt:").concat(e.limitType)}function fP(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(pI(t.value));var t})).join(", "),"]")),iI(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return pI(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return pI(e)})).join(",")),"Target(".concat(t,")")}(sP(e)),"; limitType=").concat(e.limitType,")")}function hP(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):fC.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Lh(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(o){r.e(o)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Lh(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=$I(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,aP(e),t))&&!(e.endAt&&!function(e,t,n){var r=$I(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,aP(e),t))}(e,t)}function dP(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function pP(e){return function(t,n){var r,i=!1,o=Lh(aP(e));try{for(o.s();!(r=o.n()).done;){var a=r.value,s=vP(a,t,n);if(0!==s)return s;i=i||a.field.isKeyField()}}catch(u){o.e(u)}finally{o.f()}return 0}}function vP(e,t,n){var r=e.field.isKeyField()?fC.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?hI(r,i):BT()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return BT()}}function mP(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oI(t)?"-0":t}}function gP(e){return{integerValue:""+e}}function yP(e,t){return aI(t)?gP(t):mP(e,t)}var bP=I((function e(){T(this,e),this._=void 0}));function _P(e,t,n){return e instanceof xP?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof EP?SP(e,t):e instanceof TP?CP(e,t):function(e,t){var n=kP(e,t),r=PP(n)+PP(e.yt);return gI(n)&&gI(e.yt)?gP(r):mP(e.It,r)}(e,t)}function wP(e,t,n){return e instanceof EP?SP(e,t):e instanceof TP?CP(e,t):n}function kP(e,t){return e instanceof IP?gI(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var xP=function(e){N(n,e);var t=D(n);function n(){return T(this,n),t.apply(this,arguments)}return I(n)}(bP),EP=function(e){N(n,e);var t=D(n);function n(e){var r;return T(this,n),(r=t.call(this)).elements=e,r}return I(n)}(bP);function SP(e,t){var n,r=AP(t),i=Lh(e.elements);try{var o=function(){var e=n.value;r.some((function(t){return lI(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return{arrayValue:{values:r}}}var TP=function(e){N(n,e);var t=D(n);function n(e){var r;return T(this,n),(r=t.call(this)).elements=e,r}return I(n)}(bP);function CP(e,t){var n,r=AP(t),i=Lh(e.elements);try{var o=function(){var e=n.value;r=r.filter((function(t){return!lI(t,e)}))};for(i.s();!(n=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return{arrayValue:{values:r}}}var IP=function(e){N(n,e);var t=D(n);function n(e,r){var i;return T(this,n),(i=t.call(this)).It=e,i.yt=r,i}return I(n)}(bP);function PP(e){return $C(e.integerValue||e.doubleValue)}function AP(e){return yI(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var NP=I((function e(t,n){T(this,e),this.field=t,this.transform=n}));var RP=I((function e(t,n){T(this,e),this.version=t,this.transformResults=n})),OP=function(){function e(t,n){T(this,e),this.updateTime=t,this.exists=n}return I(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function MP(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var DP=I((function e(){T(this,e)}));function LP(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new ZP(e.key,OP.none()):new VP(e.key,e.data,OP.none());var n,r=e.data,i=II.empty(),o=new qC(lC.comparator),a=Lh(t.fields);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(!o.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),o=o.add(s)}}}catch(c){a.e(c)}finally{a.f()}return new UP(e.key,i,new GC(o.toArray()),OP.none())}function FP(e,t,n){e instanceof VP?function(e,t,n){var r=e.value.clone(),i=qP(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof UP?function(e,t,n){if(MP(e.precondition,t)){var r=qP(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(HP(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function jP(e,t,n,r){return e instanceof VP?function(e,t,n,r){if(!MP(e.precondition,t))return n;var i=e.value.clone(),o=WP(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof UP?function(e,t,n,r){if(!MP(e.precondition,t))return n;var i=WP(e.fieldTransforms,r,t),o=t.data;return o.setAll(HP(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return MP(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function zP(e,t){var n,r=null,i=Lh(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=t.data.field(o.field),s=kP(o.transform,a||null);null!=s&&(null===r&&(r=II.empty()),r.set(o.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function BP(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&rC(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof EP&&t instanceof EP||e instanceof TP&&t instanceof TP?rC(e.elements,t.elements,lI):e instanceof IP&&t instanceof IP?lI(e.yt,t.yt):e instanceof xP&&t instanceof xP}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var VP=function(e){N(n,e);var t=D(n);function n(e,r,i){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return T(this,n),(o=t.call(this)).key=e,o.value=r,o.precondition=i,o.fieldTransforms=a,o.type=0,o}return I(n,[{key:"getFieldMask",value:function(){return null}}]),n}(DP),UP=function(e){N(n,e);var t=D(n);function n(e,r,i,o){var a,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return T(this,n),(a=t.call(this)).key=e,a.data=r,a.fieldMask=i,a.precondition=o,a.fieldTransforms=s,a.type=1,a}return I(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(DP);function HP(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function qP(e,t,n){var r=new Map;VT(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,wP(a,s,n[i]))}return r}function WP(e,t,n){var r,i=new Map,o=Lh(e);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=a.transform,u=n.data.field(a.field);i.set(a.field,_P(s,u,t))}}catch(c){o.e(c)}finally{o.f()}return i}var KP,GP,ZP=function(e){N(n,e);var t=D(n);function n(e,r){var i;return T(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return I(n,[{key:"getFieldMask",value:function(){return null}}]),n}(DP),YP=function(e){N(n,e);var t=D(n);function n(e,r){var i;return T(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return I(n,[{key:"getFieldMask",value:function(){return null}}]),n}(DP),QP=I((function e(t){T(this,e),this.count=t}));function $P(e){switch(e){default:return BT();case HT.CANCELLED:case HT.UNKNOWN:case HT.DEADLINE_EXCEEDED:case HT.RESOURCE_EXHAUSTED:case HT.INTERNAL:case HT.UNAVAILABLE:case HT.UNAUTHENTICATED:return!1;case HT.INVALID_ARGUMENT:case HT.NOT_FOUND:case HT.ALREADY_EXISTS:case HT.PERMISSION_DENIED:case HT.FAILED_PRECONDITION:case HT.ABORTED:case HT.OUT_OF_RANGE:case HT.UNIMPLEMENTED:case HT.DATA_LOSS:return!0}}function XP(e){if(void 0===e)return FT("GRPC error has no .code"),HT.UNKNOWN;switch(e){case KP.OK:return HT.OK;case KP.CANCELLED:return HT.CANCELLED;case KP.UNKNOWN:return HT.UNKNOWN;case KP.DEADLINE_EXCEEDED:return HT.DEADLINE_EXCEEDED;case KP.RESOURCE_EXHAUSTED:return HT.RESOURCE_EXHAUSTED;case KP.INTERNAL:return HT.INTERNAL;case KP.UNAVAILABLE:return HT.UNAVAILABLE;case KP.UNAUTHENTICATED:return HT.UNAUTHENTICATED;case KP.INVALID_ARGUMENT:return HT.INVALID_ARGUMENT;case KP.NOT_FOUND:return HT.NOT_FOUND;case KP.ALREADY_EXISTS:return HT.ALREADY_EXISTS;case KP.PERMISSION_DENIED:return HT.PERMISSION_DENIED;case KP.FAILED_PRECONDITION:return HT.FAILED_PRECONDITION;case KP.ABORTED:return HT.ABORTED;case KP.OUT_OF_RANGE:return HT.OUT_OF_RANGE;case KP.UNIMPLEMENTED:return HT.UNIMPLEMENTED;case KP.DATA_LOSS:return HT.DATA_LOSS;default:return BT()}}(GP=KP||(KP={}))[GP.OK=0]="OK",GP[GP.CANCELLED=1]="CANCELLED",GP[GP.UNKNOWN=2]="UNKNOWN",GP[GP.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",GP[GP.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",GP[GP.NOT_FOUND=5]="NOT_FOUND",GP[GP.ALREADY_EXISTS=6]="ALREADY_EXISTS",GP[GP.PERMISSION_DENIED=7]="PERMISSION_DENIED",GP[GP.UNAUTHENTICATED=16]="UNAUTHENTICATED",GP[GP.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",GP[GP.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",GP[GP.ABORTED=10]="ABORTED",GP[GP.OUT_OF_RANGE=11]="OUT_OF_RANGE",GP[GP.UNIMPLEMENTED=12]="UNIMPLEMENTED",GP[GP.INTERNAL=13]="INTERNAL",GP[GP.UNAVAILABLE=14]="UNAVAILABLE",GP[GP.DATA_LOSS=15]="DATA_LOSS";var JP=function(){function e(t,n){T(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return I(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Lh(n);try{for(i.s();!(r=i.n()).done;){var o=c(r.value,2),a=o[0],s=o[1];if(this.equalsFn(a,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){zC(this.inner,(function(t,n){var r,i=Lh(n);try{for(i.s();!(r=i.n()).done;){var o=c(r.value,2),a=o[0],s=o[1];e(a,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return BC(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),eA=new VC(fC.comparator);function tA(){return eA}var nA=new VC(fC.comparator);function rA(){for(var e=nA,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];e=e.insert(a.key,a)}return e}function iA(e){var t=nA;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function oA(){return sA()}function aA(){return sA()}function sA(){return new JP((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var uA=new VC(fC.comparator),cA=new qC(fC.comparator);function lA(){for(var e=cA,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];e=e.add(a)}return e}var fA=new qC(nC);function hA(){return fA}var dA=function(){function e(t,n,r,i,o){T(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}return I(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,pA.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(aC.min(),i,hA(),tA(),lA())}}]),e}(),pA=function(){function e(t,n,r,i,o){T(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}return I(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,lA(),lA(),lA())}}]),e}(),vA=I((function e(t,n,r,i){T(this,e),this.Tt=t,this.removedTargetIds=n,this.key=r,this.Et=i})),mA=I((function e(t,n){T(this,e),this.targetId=t,this.At=n})),gA=I((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ZC.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;T(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),yA=function(){function e(){T(this,e),this.Rt=0,this.bt=wA(),this.Pt=ZC.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}return I(e,[{key:"current",get:function(){return this.vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"St",get:function(){return 0!==this.Rt}},{key:"Dt",get:function(){return this.Vt}},{key:"Ct",value:function(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}},{key:"xt",value:function(){var e=lA(),t=lA(),n=lA();return this.bt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:BT()}})),new pA(this.Pt,this.vt,e,t,n)}},{key:"Nt",value:function(){this.Vt=!1,this.bt=wA()}},{key:"kt",value:function(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}},{key:"Ot",value:function(e){this.Vt=!0,this.bt=this.bt.remove(e)}},{key:"Mt",value:function(){this.Rt+=1}},{key:"Ft",value:function(){this.Rt-=1}},{key:"$t",value:function(){this.Vt=!0,this.vt=!0}}]),e}(),bA=function(){function e(t){T(this,e),this.Bt=t,this.Lt=new Map,this.Ut=tA(),this.qt=_A(),this.Kt=new qC(nC)}return I(e,[{key:"Gt",value:function(e){var t,n=Lh(e.Tt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et)}}catch(s){n.e(s)}finally{n.f()}var i,o=Lh(e.removedTargetIds);try{for(o.s();!(i=o.n()).done;){var a=i.value;this.jt(a,e.key,e.Et)}}catch(s){o.e(s)}finally{o.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.zt(n);switch(e.state){case 0:t.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||t.removeTarget(n);break;case 3:t.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:t.Ht(n)&&(t.Jt(n),r.Ct(e.resumeToken));break;default:BT()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((function(e,r){n.Ht(r)&&t(r)}))}},{key:"Yt",value:function(e){var t=e.targetId,n=e.At.count,r=this.Xt(t);if(r){var i=r.target;if(DI(i))if(0===n){var o=new fC(i.path);this.jt(t,o,AI.newNoDocument(o,aC.min()))}else VT(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}},{key:"te",value:function(e){var t=this,n=new Map;this.Lt.forEach((function(r,i){var o=t.Xt(i);if(o){if(r.current&&DI(o.target)){var a=new fC(o.target.path);null!==t.Ut.get(a)||t.ee(i,a)||t.jt(i,a,AI.newNoDocument(a,e))}r.Dt&&(n.set(i,r.xt()),r.Nt())}}));var r=lA();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new dA(e,n,this.Kt,this.Ut,r);return this.Ut=tA(),this.qt=_A(),this.Kt=new qC(nC),i}},{key:"Qt",value:function(e,t){if(this.Ht(e)){var n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}}},{key:"jt",value:function(e,t,n){if(this.Ht(e)){var r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Lt.delete(e)}},{key:"Zt",value:function(e){var t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Mt",value:function(e){this.zt(e).Mt()}},{key:"zt",value:function(e){var t=this.Lt.get(e);return t||(t=new yA,this.Lt.set(e,t)),t}},{key:"ne",value:function(e){var t=this.qt.get(e);return t||(t=new qC(nC),this.qt=this.qt.insert(e,t)),t}},{key:"Ht",value:function(e){var t=null!==this.Xt(e);return t||LT("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}},{key:"Jt",value:function(e){var t=this;this.Lt.set(e,new yA),this.Bt.getRemoteKeysForTarget(e).forEach((function(n){t.jt(e,n,null)}))}},{key:"ee",value:function(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}]),e}();function _A(){return new VC(fC.comparator)}function wA(){return new VC(fC.comparator)}var kA={asc:"ASCENDING",desc:"DESCENDING"},xA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EA=I((function e(t,n){T(this,e),this.databaseId=t,this.gt=n}));function SA(e,t){return e.gt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function TA(e,t){return e.gt?t.toBase64():t.toUint8Array()}function CA(e,t){return SA(e,t.toTimestamp())}function IA(e){return VT(!!e),aC.fromTimestamp(function(e){var t=QC(e);return new oC(t.seconds,t.nanos)}(e))}function PA(e,t){return function(e){return new uC(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function AA(e){var t=uC.fromString(e);return VT(JA(t)),t}function NA(e,t){return PA(e.databaseId,t.path)}function RA(e,t){var n=AA(t);if(n.get(1)!==e.databaseId.projectId)throw new qT(HT.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new qT(HT.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new fC(LA(n))}function OA(e,t){return PA(e.databaseId,t)}function MA(e){var t=AA(e);return 4===t.length?uC.emptyPath():LA(t)}function DA(e){return new uC(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function LA(e){return VT(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function FA(e,t,n){return{name:NA(e,t),fields:n.value.mapValue.fields}}function jA(e,t,n){var r=RA(e,t.name),i=IA(t.updateTime),o=new II({mapValue:{fields:t.fields}}),a=AI.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function zA(e,t){return"found"in t?function(e,t){VT(!!t.found),t.found.name,t.found.updateTime;var n=RA(e,t.found.name),r=IA(t.found.updateTime),i=new II({mapValue:{fields:t.found.fields}});return AI.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){VT(!!t.missing),VT(!!t.readTime);var n=RA(e,t.missing),r=IA(t.readTime);return AI.newNoDocument(n,r)}(e,t):BT()}function BA(e,t){var n;if(t instanceof VP)n={update:FA(e,t.key,t.value)};else if(t instanceof ZP)n={delete:NA(e,t.key)};else if(t instanceof UP)n={update:FA(e,t.key,t.data),updateMask:XA(t.fieldMask)};else{if(!(t instanceof YP))return BT();n={verify:NA(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof xP)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof EP)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof TP)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof IP)return{fieldPath:t.field.canonicalString(),increment:n.yt};throw BT()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:CA(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:BT()}(e,t.precondition)),n}function VA(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?OP.updateTime(IA(e.updateTime)):void 0!==e.exists?OP.exists(e.exists):OP.none()}(t.currentDocument):OP.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)VT("REQUEST_TIME"===t.setToServerValue),n=new xP;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new EP(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new TP(i)}else"increment"in t?n=new IP(e,t.increment):BT();var o=lC.fromServerFormat(t.fieldPath);return new NP(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=RA(e,t.update.name),o=new II({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new GC(t.map((function(e){return lC.fromServerFormat(e)})))}(t.updateMask);return new UP(i,o,a,n,r)}return new VP(i,o,n,r)}if(t.delete){var s=RA(e,t.delete);return new ZP(s,n)}if(t.verify){var u=RA(e,t.verify);return new YP(u,n)}return BT()}function UA(e,t){return{documents:[OA(e,t.path)]}}function HA(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=OA(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=OA(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(_I(e.value))return{unaryFilter:{field:ZA(e.field),op:"IS_NAN"}};if(bI(e.value))return{unaryFilter:{field:ZA(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(_I(e.value))return{unaryFilter:{field:ZA(e.field),op:"IS_NOT_NAN"}};if(bI(e.value))return{unaryFilter:{field:ZA(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ZA(e.field),op:GA(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:ZA(e.field),direction:KA(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a,s=function(e,t){return e.gt||iI(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function qA(e){var t=MA(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){VT(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=WA(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new YI(YA(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return iI(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new ZI(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new ZI(n,t)}(n.endAt)),eP(t,i,s,a,u,"F",c,l)}function WA(e){return e?void 0!==e.unaryFilter?[$A(e)]:void 0!==e.fieldFilter?[QA(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return WA(e)})).reduce((function(e,t){return e.concat(t)})):BT():[]}function KA(e){return kA[e]}function GA(e){return xA[e]}function ZA(e){return{fieldPath:e.canonicalString()}}function YA(e){return lC.fromServerFormat(e.fieldPath)}function QA(e){return zI.create(YA(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return BT()}}(e.fieldFilter.op),e.fieldFilter.value)}function $A(e){switch(e.unaryFilter.op){case"IS_NAN":var t=YA(e.unaryFilter.field);return zI.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=YA(e.unaryFilter.field);return zI.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=YA(e.unaryFilter.field);return zI.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=YA(e.unaryFilter.field);return zI.create(i,"!=",{nullValue:"NULL_VALUE"});default:return BT()}}function XA(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function JA(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function eN(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=nN(t)),t=tN(e.get(n),t);return nN(t)}function tN(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function nN(e){return e+"\x01\x01"}function rN(e){var t=e.length;if(VT(t>=2),2===t)return VT("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),uC.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&BT(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:BT()}o=a+2}return new uC(r)}var iN=["userId","batchId"];function oN(e,t){return[e,eN(t)]}function aN(e,t,n){return[e,eN(t),n]}var sN={},uN=["prefixPath","collectionGroup","readTime","documentId"],cN=["prefixPath","collectionGroup","documentId"],lN=["collectionGroup","readTime","prefixPath","documentId"],fN=["canonicalId","targetId"],hN=["targetId","path"],dN=["path","targetId"],pN=["collectionId","parent"],vN=["indexId","uid"],mN=["uid","sequenceNumber"],gN=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],yN=["indexId","uid","orderedDocumentKey"],bN=["userId","collectionPath","documentId"],_N=["userId","collectionPath","largestBatchId"],wN=["userId","collectionGroup","largestBatchId"],kN=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),xN=[].concat(S(kN),["documentOverlays"]),EN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],SN=EN,TN=[].concat(SN,["indexConfiguration","indexState","indexEntries"]),CN=function(e){N(n,e);var t=D(n);function n(e,r){var i;return T(this,n),(i=t.call(this)).ie=e,i.currentSequenceNumber=r,i}return I(n)}(kC);function IN(e,t){var n=UT(e);return CC.M(n.ie,t)}var PN=function(){function e(t,n,r,i){T(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return I(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&FP(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Lh(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=jP(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var o,a=Lh(this.mutations);try{for(a.s();!(o=a.n()).done;){var s=o.value;s.key.isEqual(e.key)&&(t=jP(s,e,t,this.localWriteTime))}}catch(u){a.e(u)}finally{a.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=aA();return this.mutations.forEach((function(i){var o=e.get(i.key),a=o.overlayedDocument,s=n.applyToLocalView(a,o.mutatedFields),u=LP(a,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(aC.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),lA())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&rC(this.mutations,e.mutations,(function(e,t){return BP(e,t)}))&&rC(this.baseMutations,e.baseMutations,(function(e,t){return BP(e,t)}))}}]),e}(),AN=function(){function e(t,n,r,i){T(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return I(e,null,[{key:"from",value:function(t,n,r){VT(t.mutations.length===r.length);for(var i=uA,o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)}}]),e}(),NN=function(){function e(t,n){T(this,e),this.largestBatchId=t,this.mutation=n}return I(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),RN=function(){function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:aC.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:aC.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ZC.EMPTY_BYTE_STRING;T(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s}return I(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),ON=I((function e(t){T(this,e),this.re=t}));function MN(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:DN(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:NA(e,t.key),fields:t.data.value.mapValue.fields,updateTime:SA(e,t.version.toTimestamp())}}(e.re,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:LN(t.version)};else{if(!t.isUnknownDocument())return BT();r.unknownDocument={path:n.path.toArray(),version:LN(t.version)}}return r}function DN(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function LN(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function FN(e){var t=new oC(e.seconds,e.nanoseconds);return aC.fromTimestamp(t)}function jN(e,t){for(var n=(t.baseMutations||[]).map((function(t){return VA(e.re,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return VA(e.re,t)})),s=oC.fromMillis(t.localWriteTimeMs);return new PN(t.batchId,s,n,a)}function zN(e){var t,n,r=FN(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?FN(e.lastLimboFreeSnapshotVersion):aC.min();return void 0!==e.query.documents?(VT(1===(n=e.query).documents.length),t=sP(tP(MA(n.documents[0])))):t=function(e){return sP(qA(e))}(e.query),new RN(t,e.targetId,0,e.lastListenSequenceNumber,r,i,ZC.fromBase64String(e.resumeToken))}function BN(e,t){var n,r=LN(t.snapshotVersion),i=LN(t.lastLimboFreeSnapshotVersion);n=DI(t.target)?UA(e.re,t.target):HA(e.re,t.target);var o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:OI(t.target),readTime:r,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function VN(e){var t=qA({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?uP(t,t.limit,"L"):t}function UN(e,t){return new NN(t.largestBatchId,VA(e.re,t.overlayMutation))}function HN(e,t){var n=t.path.lastSegment();return[e,eN(t.path.popLast()),n]}function qN(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:LN(r.readTime),documentKey:eN(r.documentKey.path),largestBatchId:r.largestBatchId}}var WN=function(){function e(){T(this,e)}return I(e,[{key:"getBundleMetadata",value:function(e,t){return KN(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:FN(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return KN(e).put({bundleId:(n=t).id,createTime:LN(IA(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return GN(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:VN(t.bundledQuery),readTime:FN(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return GN(e).put(function(e){return{name:e.name,readTime:LN(IA(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function KN(e){return IN(e,"bundles")}function GN(e){return IN(e,"namedQueries")}var ZN=function(){function e(t,n){T(this,e),this.It=t,this.userId=n}return I(e,[{key:"getOverlay",value:function(e,t){var n=this;return YN(e).get(HN(this.userId,t)).next((function(e){return e?UN(n.It,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=oA();return SC.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,o){var a=new NN(t,o);i.push(r.ue(e,a))})),SC.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(eN(e.getCollectionPath()))}));var o=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);o.push(YN(e).Y("collectionPathOverlayIndex",i))})),SC.waitFor(o)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=oA(),o=eN(t),a=IDBKeyRange.bound([this.userId,o,n],[this.userId,o,Number.POSITIVE_INFINITY],!0);return YN(e).W("collectionPathOverlayIndex",a).next((function(e){var t,n=Lh(e);try{for(n.s();!(t=n.n()).done;){var o=t.value,a=UN(r.It,o);i.set(a.getKey(),a)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,o=this,a=oA(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return YN(e).Z({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=UN(o.It,t);a.size()<r||s.largestBatchId===i?(a.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return a}))}},{key:"ue",value:function(e,t){return YN(e).put(function(e,t,n){var r=c(HN(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:BA(e.re,n.mutation)}}(this.It,this.userId,t))}}],[{key:"oe",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function YN(e){return IN(e,"documentOverlays")}var QN=function(){function e(){T(this,e)}return I(e,[{key:"ce",value:function(e,t){this.ae(e,t),t.he()}},{key:"ae",value:function(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe($C(e.integerValue));else if("doubleValue"in e){var n=$C(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),oI(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de("".concat(r.seconds||"")),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(XC(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?xI(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):BT()}},{key:"_e",value:function(e,t){this.le(t,25),this.Ie(e,t)}},{key:"Ie",value:function(e,t){t.de(e)}},{key:"ye",value:function(e,t){var n=e.fields||{};this.le(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var o=i[r];this._e(o,t),this.ae(n[o],t)}}},{key:"pe",value:function(e,t){var n=e.values||[];this.le(t,50);var r,i=Lh(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;this.ae(o,t)}}catch(a){i.e(a)}finally{i.f()}}},{key:"ge",value:function(e,t){var n=this;this.le(t,37),fC.fromName(e).path.forEach((function(e){n.le(t,60),n.Ie(e,t)}))}},{key:"le",value:function(e,t){e.fe(t)}},{key:"we",value:function(e){e.fe(2)}}]),e}();function $N(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function XN(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=$N(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}QN.Te=new QN;var JN=function(){function e(){T(this,e),this.buffer=new Uint8Array(1024),this.position=0}return I(e,[{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Pe(n.value),n=t.next();this.ve()}},{key:"Ve",value:function(e){var t,n=Lh(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var o=r.codePointAt(0);this.Ae(240|o>>>18),this.Ae(128|63&o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o)}}}catch(a){n.e(a)}finally{n.f()}this.Re()}},{key:"Se",value:function(e){var t,n=Lh(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{var o=r.codePointAt(0);this.Pe(240|o>>>18),this.Pe(128|63&o>>>12),this.Pe(128|63&o>>>6),this.Pe(128|63&o)}}}catch(a){n.e(a)}finally{n.f()}this.ve()}},{key:"De",value:function(e){var t=this.Ce(e),n=XN(t);this.xe(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ne",value:function(e){var t=this.Ce(e),n=XN(t);this.xe(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"ke",value:function(){this.Oe(255),this.Oe(255)}},{key:"Me",value:function(){this.Fe(255),this.Fe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"$e",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ce",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}},{key:"Pe",value:function(e){var t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}},{key:"Re",value:function(){this.Oe(0),this.Oe(1)}},{key:"ve",value:function(){this.Fe(0),this.Fe(1)}},{key:"Oe",value:function(e){this.xe(1),this.buffer[this.position++]=e}},{key:"Fe",value:function(e){this.xe(1),this.buffer[this.position++]=~e}},{key:"xe",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),eR=function(){function e(t){T(this,e),this.Be=t}return I(e,[{key:"me",value:function(e){this.Be.Ee(e)}},{key:"de",value:function(e){this.Be.Ve(e)}},{key:"fe",value:function(e){this.Be.De(e)}},{key:"he",value:function(){this.Be.ke()}}]),e}(),tR=function(){function e(t){T(this,e),this.Be=t}return I(e,[{key:"me",value:function(e){this.Be.be(e)}},{key:"de",value:function(e){this.Be.Se(e)}},{key:"fe",value:function(e){this.Be.Ne(e)}},{key:"he",value:function(){this.Be.Me()}}]),e}(),nR=function(){function e(){T(this,e),this.Be=new JN,this.Le=new eR(this.Be),this.Ue=new tR(this.Be)}return I(e,[{key:"seed",value:function(e){this.Be.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Le:this.Ue}},{key:"$e",value:function(){return this.Be.$e()}},{key:"reset",value:function(){this.Be.reset()}}]),e}(),rR=function(){function e(t,n,r,i){T(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return I(e,[{key:"Ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function iR(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=oR(e.arrayValue,t.arrayValue))?n:0!==(n=oR(e.directionalValue,t.directionalValue))?n:fC.comparator(e.documentKey,t.documentKey)}function oR(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var aR=function(){function e(t){T(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];var n,r=Lh(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.dt()?this.je=i:this.Qe.push(i)}}catch(o){r.e(o)}finally{r.f()}}return I(e,[{key:"We",value:function(e){var t=dC(e);if(void 0!==t&&!this.ze(t))return!1;for(var n=pC(e),r=0,i=0;r<n.length&&this.ze(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.je){var o=n[r];if(!this.He(this.je,o)||!this.Je(this.Ge[i++],o))return!1;++r}for(;r<n.length;++r){var a=n[r];if(i>=this.Ge.length||!this.Je(this.Ge[i++],a))return!1}return!0}},{key:"ze",value:function(e){var t,n=Lh(this.Qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.He(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"He",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Je",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),sR=function(){function e(){T(this,e),this.Ye=new uR}return I(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ye.add(t),SC.resolve()}},{key:"getCollectionParents",value:function(e,t){return SC.resolve(this.Ye.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return SC.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return SC.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return SC.resolve(null)}},{key:"getIndexType",value:function(e,t){return SC.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return SC.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return SC.resolve(null)}},{key:"getMinOffset",value:function(e,t){return SC.resolve(bC.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return SC.resolve(bC.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return SC.resolve()}},{key:"updateIndexEntries",value:function(e,t){return SC.resolve()}}]),e}(),uR=function(){function e(){T(this,e),this.index={}}return I(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new qC(uC.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new qC(uC.comparator)).toArray()}}]),e}(),cR=new Uint8Array(0),lR=function(){function e(t,n){T(this,e),this.user=t,this.databaseId=n,this.Xe=new uR,this.Ze=new JP((function(e){return OI(e)}),(function(e,t){return MI(e,t)})),this.uid=t.uid||""}return I(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Xe.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Xe.add(t)}));var o={collectionId:r,parent:eN(i)};return fR(e).put(o)}return SC.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[iC(t),""],!1,!0);return fR(e).W(r).next((function(e){var r,i=Lh(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.collectionId!==t)break;n.push(rN(o.parent))}}catch(a){i.e(a)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=dR(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var o=r.add(i);if(t.indexState){var a=pR(e);return o.next((function(e){a.put(qN(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return o.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=dR(e),r=pR(e),i=hR(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=hR(e),i=!0,o=new Map;return SC.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){i&&(i=!!e),o.set(t,e)}))})).next((function(){if(i){var e=lA(),a=[];return SC.forEach(o,(function(i,o){var s;LT("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(OI(t)));var u=function(e,t){var n=dC(t);if(void 0===n)return null;var r,i=Lh(LI(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var o=r.value;switch(o.op){case"array-contains-any":return o.value.arrayValue.values||[];case"array-contains":return[o.value]}}}catch(a){i.e(a)}finally{i.f()}return null}(o,i),c=function(e,t){var n,r=new Map,i=Lh(pC(t));try{for(i.s();!(n=i.n()).done;){var o,a=n.value,s=Lh(LI(e,a.fieldPath));try{for(s.s();!(o=s.n()).done;){var u=o.value;switch(u.op){case"==":case"in":r.set(a.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(a.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(o,i),l=function(e,t){var n,r=[],i=!0,o=Lh(pC(t));try{for(o.s();!(n=o.n()).done;){var a=n.value,s=0===a.kind?FI(e,a.fieldPath,e.startAt):jI(e,a.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){o.e(u)}finally{o.f()}return new ZI(r,i)}(o,i),f=function(e,t){var n,r=[],i=!0,o=Lh(pC(t));try{for(o.s();!(n=o.n()).done;){var a=n.value,s=0===a.kind?jI(e,a.fieldPath,e.endAt):FI(e,a.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){o.e(u)}finally{o.f()}return new ZI(r,i)}(o,i),h=n.nn(i,o,l),d=n.nn(i,o,f),p=n.sn(i,o,c),v=n.rn(i.indexId,u,h,l.inclusive,d,f.inclusive,p);return SC.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=fC.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),a.push(n))}))}))}))})).next((function(){return a}))}return SC.resolve(null)}))}},{key:"tn",value:function(e){var t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}},{key:"rn",value:function(e,t,n,r,i,o,a){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],f=function(u){var f=t?s.on(t[u/c]):cR,h=s.un(e,f,n[u%c],r),d=s.cn(e,f,i[u%c],o),p=a.map((function(t){return s.un(e,f,t,!0)}));l.push.apply(l,S(s.createRange(h,d,p)))},h=0;h<u;++h)f(h);return l}},{key:"un",value:function(e,t,n,r){var i=new rR(e,fC.empty(),t,n);return r?i:i.Ke()}},{key:"cn",value:function(e,t,n,r){var i=new rR(e,fC.empty(),t,n);return r?i.Ke():i}},{key:"en",value:function(e,t){var n=new aR(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Lh(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;n.We(o)&&(!r||o.fields.length>r.fields.length)&&(r=o)}}catch(a){i.e(a)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return SC.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new qC(lC.comparator),r=!1,i=Lh(e.filters);try{for(i.s();!(t=i.n()).done;){var o=t.value;o.field.isKeyField()||("array-contains"===o.op||"array-contains-any"===o.op?r=!0:n=n.add(o.field))}}catch(c){i.e(c)}finally{i.f()}var a,s=Lh(e.orderBy);try{for(s.s();!(a=s.n()).done;){var u=a.value;u.field.isKeyField()||(n=n.add(u.field))}}catch(c){s.e(c)}finally{s.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"an",value:function(e,t){var n,r=new nR,i=Lh(pC(e));try{for(i.s();!(n=i.n()).done;){var o=n.value,a=t.data.field(o.fieldPath);if(null==a)return null;var s=r.qe(o.kind);QN.Te.ce(a,s)}}catch(u){i.e(u)}finally{i.f()}return r.$e()}},{key:"on",value:function(e){var t=new nR;return QN.Te.ce(e,t.qe(0)),t.$e()}},{key:"hn",value:function(e,t){var n=new nR;return QN.Te.ce(mI(this.databaseId,t),n.qe(function(e){var t=pC(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.$e()}},{key:"sn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new nR);var i,o=0,a=Lh(pC(e));try{for(a.s();!(i=a.n()).done;){var s,u=i.value,c=n[o++],l=Lh(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.ln(t,u.fieldPath)&&yI(c))r=this.fn(r,u,c);else{var h=f.qe(u.kind);QN.Te.ce(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){a.e(d)}finally{a.f()}return this.dn(r)}},{key:"nn",value:function(e,t,n){return this.sn(e,t,n.position)}},{key:"dn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].$e();return t}},{key:"fn",value:function(e,t,n){var r,i=S(e),o=[],a=Lh(n.arrayValue.values||[]);try{for(a.s();!(r=a.n()).done;){var s,u=r.value,c=Lh(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=new nR;f.seed(l.$e()),QN.Te.ce(u,f.qe(t.kind)),o.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){a.e(h)}finally{a.f()}return o}},{key:"ln",value:function(e,t){return!!e.filters.find((function(e){return e instanceof zI&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=dR(e),i=pR(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return SC.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new mC(t.sequenceNumber,new bC(FN(t.readTime),new fC(rN(t.documentKey)),t.largestBatchId)):mC.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new vC(lC.fromServerFormat(n),r)}));return new hC(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:nC(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=dR(e),o=pR(e);return this._n(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return SC.forEach(t,(function(t){return o.put(qN(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return SC.forEach(t,(function(t,i){var o=r.get(t.collectionGroup);return(o?SC.resolve(o):n.getFieldIndexes(e,t.collectionGroup)).next((function(o){return r.set(t.collectionGroup,o),SC.forEach(o,(function(r){return n.wn(e,t,r).next((function(t){var o=n.mn(i,r);return t.isEqual(o)?SC.resolve():n.gn(e,i,r,t,o)}))}))}))}))}},{key:"yn",value:function(e,t,n,r){return hR(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"pn",value:function(e,t,n,r){return hR(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(n,t.key),t.key.path.toArray()])}},{key:"wn",value:function(e,t,n){var r=hR(e),i=new qC(iR);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.hn(n,t)])},(function(e,r){i=i.add(new rR(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"mn",value:function(e,t){var n=new qC(iR),r=this.an(t,e);if(null==r)return n;var i=dC(t);if(null!=i){var o=e.data.field(i.fieldPath);if(yI(o)){var a,s=Lh(o.arrayValue.values||[]);try{for(s.s();!(a=s.n()).done;){var u=a.value;n=n.add(new rR(t.indexId,e.key,this.on(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new rR(t.indexId,e.key,cR,r));return n}},{key:"gn",value:function(e,t,n,r,i){var o=this;LT("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var a=[];return function(e,t,n,r,i){for(var o=e.getIterator(),a=t.getIterator(),s=KC(o),u=KC(a);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=KC(a)):l?(i(s),s=KC(o)):(s=KC(o),u=KC(a))}}(r,i,iR,(function(r){a.push(o.yn(e,t,n,r))}),(function(r){a.push(o.pn(e,t,n,r))})),SC.waitFor(a)}},{key:"_n",value:function(e){var t=1;return pR(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return iR(e,t)})).filter((function(e,t,n){return!t||0!==iR(e,n[t-1])}));var r=[];r.push(e);var i,o=Lh(n);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=iR(a,e),u=iR(a,t);if(0===s)r[0]=e.Ke();else if(s>0&&u<0)r.push(a),r.push(a.Ke());else if(u>0)break}}catch(f){o.e(f)}finally{o.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,cR,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,cR,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(vR)}},{key:"getMinOffset",value:function(e,t){var n=this;return SC.mapArray(this.tn(t),(function(t){return n.en(e,t).next((function(e){return e||BT()}))})).next(vR)}}]),e}();function fR(e){return IN(e,"collectionParents")}function hR(e){return IN(e,"indexEntries")}function dR(e){return IN(e,"indexConfiguration")}function pR(e){return IN(e,"indexState")}function vR(e){VT(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;_C(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new bC(t.readTime,t.documentKey,n)}var mR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gR=function(){function e(t,n,r){T(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return I(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function yR(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.Z({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){VT(1===s)})));var c,l=[],f=Lh(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=aN(t,h.key.path,n.batchId);o.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return SC.waitFor(o).next((function(){return l}))}function bR(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw BT();t=e.noDocument}return JSON.stringify(t).length}gR.DEFAULT_COLLECTION_PERCENTILE=10,gR.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gR.DEFAULT=new gR(41943040,gR.DEFAULT_COLLECTION_PERCENTILE,gR.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gR.DISABLED=new gR(-1,0,0);var _R=function(){function e(t,n,r,i){T(this,e),this.userId=t,this.It=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return I(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return kR(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,o=xR(e),a=kR(e);return a.add({}).next((function(s){VT("number"==typeof s);var u,c=new PN(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return BA(e.re,t)})),i=n.mutations.map((function(t){return BA(e.re,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.It,i.userId,c),f=[],h=new qC((function(e,t){return nC(e.canonicalString(),t.canonicalString())})),d=Lh(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=aN(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(a.put(l)),f.push(o.put(v,sN))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[s]=c.keys()})),SC.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return kR(e).get(t).next((function(e){return e?(VT(e.userId===n.userId),jN(n.It,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?SC.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return kR(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(VT(t.batchId>=r),o=jN(n.It,t)),i.done()})).next((function(){return o}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return kR(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return kR(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return jN(t.It,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=oN(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return xR(e).Z({range:i},(function(r,i,a){var s=c(r,3),u=s[0],l=s[1],f=s[2],h=rN(l);if(u===n.userId&&t.path.isEqual(h))return kR(e).get(f).next((function(e){if(!e)throw BT();VT(e.userId===n.userId),o.push(jN(n.It,e))}));a.done()})).next((function(){return o}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new qC(nC),i=[];return t.forEach((function(t){var o=oN(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=xR(e).Z({range:a},(function(e,i,o){var a=c(e,3),s=a[0],u=a[1],l=a[2],f=rN(u);s===n.userId&&t.path.isEqual(f)?r=r.add(l):o.done()}));i.push(s)})),SC.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,o=oN(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new qC(nC);return xR(e).Z({range:a},(function(e,t,o){var a=c(e,3),u=a[0],l=a[1],f=a[2],h=rN(l);u===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):o.done()})).next((function(){return n.En(e,s)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(kR(e).get(t).next((function(e){if(null===e)throw BT();VT(e.userId===n.userId),r.push(jN(n.It,e))})))})),SC.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return yR(e.ie,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),SC.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return SC.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return xR(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var o=rN(e[1]);i.push(o)}else r.done()})).next((function(){VT(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return wR(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return ER(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"oe",value:function(t,n,r,i){return VT(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function wR(e,t,n){var r=oN(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return xR(e).Z({range:o,X:!0},(function(e,n,r){var o=c(e,3),s=o[0],u=o[1];o[2];s===t&&u===i&&(a=!0),r.done()})).next((function(){return a}))}function kR(e){return IN(e,"mutations")}function xR(e){return IN(e,"documentMutations")}function ER(e){return IN(e,"mutationQueues")}var SR=function(){function e(t){T(this,e),this.bn=t}return I(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),TR=function(){function e(t,n){T(this,e),this.referenceDelegate=t,this.It=n}return I(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new SR(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return aC.fromTimestamp(new oC(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return CR(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return VT(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,o=[];return CR(e).Z((function(a,s){var u=zN(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return SC.waitFor(o)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return CR(e).Z((function(e,n){var r=zN(n);t(r)}))}},{key:"Vn",value:function(e){return IR(e).get("targetGlobalKey").next((function(e){return VT(null!==e),e}))}},{key:"Sn",value:function(e,t){return IR(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return CR(e).put(BN(this.It,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=OI(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return CR(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var o=zN(n);MI(t,o.target)&&(i=o,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],o=PR(e);return t.forEach((function(t){var a=eN(t.path);i.push(o.put({targetId:n,path:a})),i.push(r.referenceDelegate.addReference(e,n,t))})),SC.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=PR(e);return SC.forEach(t,(function(t){var o=eN(t.path);return SC.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=PR(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=PR(e),i=lA();return r.Z({range:n,X:!0},(function(e,t,n){var r=rN(e[1]),o=new fC(r);i=i.add(o)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=eN(t.path),r=IDBKeyRange.bound([n],[iC(n)],!1,!0),i=0;return PR(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=c(e,2),o=r[0];r[1];0!==o&&(i++,n.done())})).next((function(){return i>0}))}},{key:"se",value:function(e,t){return CR(e).get(t).next((function(e){return e?zN(e):null}))}}]),e}();function CR(e){return IN(e,"targets")}function IR(e){return IN(e,"targetGlobal")}function PR(e){return IN(e,"targetDocuments")}function AR(e,t){var n=c(e,2),r=n[0],i=n[1],o=c(t,2),a=o[0],s=o[1],u=nC(r,a);return 0===u?nC(i,s):u}var NR=function(){function e(t){T(this,e),this.xn=t,this.buffer=new qC(AR),this.Nn=0}return I(e,[{key:"kn",value:function(){return++this.Nn}},{key:"On",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();AR(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),RR=function(){function e(t,n,r){T(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Mn=null}return I(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}},{key:"started",get:function(){return null!==this.Mn}},{key:"Fn",value:function(e){var t=this;LT("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Mn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!AC(e.t0)){e.next=12;break}LT("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,xC(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),OR=function(){function e(t,n){T(this,e),this.$n=t,this.params=n}return I(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return SC.resolve(FC.at);var r=new NR(t);return this.$n.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(LT("LruGarbageCollector","Garbage collection skipped; disabled"),SC.resolve(mR)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(LT("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),mR):n.Un(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"Un",value:function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(LT("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),DT()<=Kd.DEBUG&&LT("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),SC.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),MR=function(){function e(t,n){T(this,e),this.db=t,this.garbageCollector=function(e,t){return new OR(e,t)}(this,n)}return I(e,[{key:"Bn",value:function(e){var t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"qn",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return DR(e,n)}},{key:"removeReference",value:function(e,t,n){return DR(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return DR(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return ER(e).tt((function(r){return wR(e,r,t).next((function(e){return e&&(n=!0),SC.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.Kn(e,(function(a,s){if(s<=t){var u=n.Gn(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a,aC.min()),PR(e).delete([0,eN(a.path)])}))}));i.push(u)}})).next((function(){return SC.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return DR(e,t)}},{key:"Kn",value:function(e,t){var n,r=PR(e),i=FC.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var o=c(e,2),a=o[0],s=(o[1],r.path),u=r.sequenceNumber;0===a?(i!==FC.at&&t(new fC(rN(n)),i),i=u,n=s):i=FC.at})).next((function(){i!==FC.at&&t(new fC(rN(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function DR(e,t){return PR(e).put(function(e,t){return{targetId:0,path:eN(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var LR=function(){function e(){T(this,e),this.changes=new JP((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return I(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,AI.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?SC.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),FR=function(){function e(t){T(this,e),this.It=t}return I(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return VR(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return VR(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],DN(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=AI.newInvalidDocument(t);return VR(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(UR(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:AI.newInvalidDocument(t)};return VR(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(UR(t))},(function(e,i){r={document:n.jn(t,i),size:bR(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=tA();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=tA(),i=new VC(fC.comparator);return this.zn(e,t,(function(e,t){var o=n.jn(e,t);r=r.insert(e,o),i=i.insert(e,bR(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return SC.resolve();var r=new qC(qR);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(UR(r.first()),UR(r.last())),o=r.getIterator(),a=o.getNext();return VR(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=fC.fromSegments([].concat(S(t.prefixPath),[t.collectionGroup,t.documentId]));a&&qR(a,i)<0;)n(a,null),a=o.getNext();a&&a.isEqual(i)&&(n(a,t),a=o.hasNext()?o.getNext():null),a?r.j(UR(a)):r.done()})).next((function(){for(;a;)n(a,null),a=o.hasNext()?o.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),DN(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],o=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return VR(e).W(IDBKeyRange.bound(i,o,!0)).next((function(e){var t,n=tA(),i=Lh(e);try{for(i.s();!(t=i.n()).done;){var o=t.value,a=r.jn(fC.fromSegments(o.prefixPath.concat(o.collectionGroup,o.documentId)),o);n=n.insert(a.key,a)}}catch(s){i.e(s)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,o=tA(),a=HR(t,n),s=HR(t,bC.max());return VR(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,s,!0)},(function(e,t,n){var a=i.jn(fC.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(o=o.insert(a.key,a)).size===r&&n.done()})).next((function(){return o}))}},{key:"newChangeBuffer",value:function(e){return new zR(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return BR(e).get("remoteDocumentGlobalKey").next((function(e){return VT(!!e),e}))}},{key:"Qn",value:function(e,t){return BR(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=jA(e.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=fC.fromSegments(t.noDocument.path),i=FN(t.noDocument.readTime);n=AI.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return BT();var o=fC.fromSegments(t.unknownDocument.path),a=FN(t.unknownDocument.version);n=AI.newUnknownDocument(o,a)}return t.readTime&&n.setReadTime(function(e){var t=new oC(e[0],e[1]);return aC.fromTimestamp(t)}(t.readTime)),n}(this.It,t);if(!n.isNoDocument()||!n.version.isEqual(aC.min()))return n}return AI.newInvalidDocument(e)}}]),e}();function jR(e){return new FR(e)}var zR=function(e){N(n,e);var t=D(n);function n(e,r){var i;return T(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new JP((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return I(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new qC((function(e,t){return nC(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Xn.get(o);if(n.push(t.Yn.removeEntry(e,o,s.readTime)),a.isValidDocument()){var u=MN(t.Yn.It,a);i=i.add(o.path.popLast());var c=bR(u);r+=c-s.size,n.push(t.Yn.addEntry(e,o,u))}else if(r-=s.size,t.trackRemovals){var l=MN(t.Yn.It,a.convertToNoDocument(aC.min()));n.push(t.Yn.addEntry(e,o,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),SC.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(LR);function BR(e){return IN(e,"remoteDocumentGlobal")}function VR(e){return IN(e,"remoteDocumentsV14")}function UR(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function HR(e,t){var n=t.documentKey.path.toArray();return[e,DN(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function qR(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,o=0;o<n.length-2&&o<r.length-2;++o)if(i=nC(n[o],r[o]))return i;return(i=nC(n.length,r.length))||((i=nC(n[n.length-2],r[r.length-2]))||nC(n[n.length-1],r[r.length-1]))}var WR=I((function e(t,n){T(this,e),this.overlayedDocument=t,this.mutatedFields=n})),KR=function(){function e(t,n,r,i){T(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return I(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&jP(r.mutation,e,GC.empty(),oC.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,lA()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:lA(),i=oA();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=rA();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=oA();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,lA())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=tA(),o=sA(),a=sA();return t.forEach((function(e,t){var a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof UP)?i=i.insert(t.key,t):void 0!==a&&(o.set(t.key,a.mutation.getFieldMask()),jP(a.mutation,t,a.mutation.getFieldMask(),oC.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return o.set(e,t)})),t.forEach((function(e,t){var n;return a.set(e,new WR(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),a}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=sA(),i=new VC((function(e,t){return e-t})),o=lA();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,o=Lh(e);try{var a=function(){var e=n.value;e.keys().forEach((function(n){var o=t.get(n);if(null!==o){var a=r.get(n)||GC.empty();a=e.applyToLocalView(o,a),r.set(n,a);var s=(i.get(e.batchId)||lA()).add(n);i=i.insert(e.batchId,s)}}))};for(o.s();!(n=o.n()).done;)a()}catch(s){o.e(s)}finally{o.f()}})).next((function(){for(var a=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=aA();c.forEach((function(e){if(!o.has(e)){var n=LP(t.get(e),r.get(e));null!==n&&l.set(e,n),o=o.add(e)}})),a.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return SC.waitFor(a)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return fC.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):oP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(o){var a=r-o.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-o.size):SC.resolve(oA()),s=-1,u=o;return a.next((function(t){return SC.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),o.get(t)?SC.resolve():i.getBaseDocument(e,t,n).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,o)})).next((function(){return i.computeViews(e,u,t,lA())})).next((function(e){return{batchId:s,changes:iA(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new fC(t)).next((function(e){var t=rA();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,o=rA();return this.indexManager.getCollectionParents(e,i).next((function(a){return SC.forEach(a,(function(a){var s=function(e,t){return new JI(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(o){return r=o,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,AI.newInvalidDocument(n)))}));var n=rA();return r.forEach((function(r,i){var o=e.get(r);void 0!==o&&jP(o.mutation,i,GC.empty(),oC.now()),hP(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):SC.resolve(AI.newInvalidDocument(t))}}]),e}(),GR=function(){function e(t){T(this,e),this.It=t,this.Zn=new Map,this.ts=new Map}return I(e,[{key:"getBundleMetadata",value:function(e,t){return SC.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:IA(n.createTime)}),SC.resolve()}},{key:"getNamedQuery",value:function(e,t){return SC.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:VN(e.bundledQuery),readTime:IA(e.readTime)}}(t)),SC.resolve()}}]),e}(),ZR=function(){function e(){T(this,e),this.overlays=new VC(fC.comparator),this.es=new Map}return I(e,[{key:"getOverlay",value:function(e,t){return SC.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=oA();return SC.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ue(e,t,i)})),SC.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),SC.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=oA(),i=t.length+1,o=new fC(t.child("")),a=this.overlays.getIteratorFrom(o);a.hasNext();){var s=a.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return SC.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new VC((function(e,t){return e-t})),o=this.overlays.getIterator();o.hasNext();){var a=o.getNext().value;if(a.getKey().getCollectionGroup()===t&&a.largestBatchId>n){var s=i.get(a.largestBatchId);null===s&&(s=oA(),i=i.insert(a.largestBatchId,s)),s.set(a.getKey(),a)}}for(var u=oA(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return SC.resolve(u)}},{key:"ue",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new NN(t,n));var o=this.es.get(t);void 0===o&&(o=lA(),this.es.set(t,o)),this.es.set(t,o.add(n.key))}}]),e}(),YR=function(){function e(){T(this,e),this.ns=new qC(QR.ss),this.rs=new qC(QR.os)}return I(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new QR(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new QR(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new fC(new uC([])),r=new QR(n,e),i=new QR(n,e+1),o=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),o.push(e.key)})),o}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new fC(new uC([])),n=new QR(t,e),r=new QR(t,e+1),i=lA();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new QR(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),QR=function(){function e(t,n){T(this,e),this.key=t,this._s=n}return I(e,null,[{key:"ss",value:function(e,t){return fC.comparator(e.key,t.key)||nC(e._s,t._s)}},{key:"os",value:function(e,t){return nC(e._s,t._s)||fC.comparator(e.key,t.key)}}]),e}(),$R=function(){function e(t,n){T(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new qC(QR.ss)}return I(e,[{key:"checkEmpty",value:function(e){return SC.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var o=new PN(i,t,n,r);this.mutationQueue.push(o);var a,s=Lh(r);try{for(s.s();!(a=s.n()).done;){var u=a.value;this.gs=this.gs.add(new QR(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return SC.resolve(o)}},{key:"lookupMutationBatch",value:function(e,t){return SC.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return SC.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return SC.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return SC.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new QR(t,0),i=new QR(t,Number.POSITIVE_INFINITY),o=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);o.push(t)})),SC.resolve(o)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new qC(nC);return t.forEach((function(e){var t=new QR(e,0),i=new QR(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),SC.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;fC.isDocumentKey(i)||(i=i.child(""));var o=new QR(new fC(i),0),a=new qC(nC);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e._s)),!0)}),o),SC.resolve(this.Is(a))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;VT(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return SC.forEach(t.mutations,(function(i){var o=new QR(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new QR(t,0),r=this.gs.firstAfterOrEqual(n);return SC.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,SC.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),XR=function(){function e(t){T(this,e),this.Es=t,this.docs=new VC(fC.comparator),this.size=0}return I(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return SC.resolve(n?n.document.mutableCopy():AI.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=tA();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():AI.newInvalidDocument(e))})),SC.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=tA(),i=new fC(t.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||_C(yC(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return SC.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){BT()}},{key:"As",value:function(e,t){return SC.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new JR(this)}},{key:"getSize",value:function(e){return SC.resolve(this.size)}}]),e}(),JR=function(e){N(n,e);var t=D(n);function n(e){var r;return T(this,n),(r=t.call(this)).Yn=e,r}return I(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),SC.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(LR),eO=function(){function e(t){T(this,e),this.persistence=t,this.Rs=new JP((function(e){return OI(e)}),MI),this.lastRemoteSnapshotVersion=aC.min(),this.highestTargetId=0,this.bs=0,this.Ps=new YR,this.targetCount=0,this.vs=SR.Pn()}return I(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),SC.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return SC.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return SC.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),SC.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),SC.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new SR(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,SC.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),SC.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,SC.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,o=[];return this.Rs.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Rs.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),SC.waitFor(o).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return SC.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return SC.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),SC.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),SC.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),SC.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return SC.resolve(n)}},{key:"containsKey",value:function(e,t){return SC.resolve(this.Ps.containsKey(t))}}]),e}(),tO=function(){function e(t,n){var r=this;T(this,e),this.Vs={},this.overlays={},this.Ss=new FC(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new eO(this),this.indexManager=new sR,this.remoteDocumentCache=new XR((function(e){return r.referenceDelegate.xs(e)})),this.It=new ON(n),this.Ns=new GR(this.It)}return I(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new ZR,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new $R(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;LT("MemoryPersistence","Starting transaction:",e);var i=new nO(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return SC.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),nO=function(e){N(n,e);var t=D(n);function n(e){var r;return T(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return I(n)}(kC),rO=function(){function e(t){T(this,e),this.persistence=t,this.Fs=new YR,this.$s=null}return I(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw BT()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),SC.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),SC.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),SC.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return SC.forEach(this.Ls,(function(r){var i=fC.fromPath(r);return t.Us(e,i).next((function(e){e||n.removeEntry(i,aC.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Us(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"Us",value:function(e,t){var n=this;return SC.or([function(){return SC.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),iO=function(){function e(t){T(this,e),this.It=t}return I(e,[{key:"$",value:function(e,t,n,r){var i=this,o=new TC("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",iN,{unique:!0}),e.createObjectStore("documentMutations")}(e),oO(e),function(e){e.createObjectStore("remoteDocuments")}(e));var a=SC.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),oO(e)),a=a.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:aC.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",iN,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return SC.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.qs(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.Gs(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Qs(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.js(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(a=a.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:bN});t.createIndex("collectionPathOverlayIndex",_N,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",wN,{unique:!1})}(e)}))),n<13&&r>=13&&(a=a.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:uN});t.createIndex("documentKeyIndex",cN),t.createIndex("collectionGroupIndex",lN)}(e)})).next((function(){return i.Ws(e,o)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(a=a.next((function(){return i.zs(e,o)}))),n<15&&r>=15&&(a=a.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:vN}).createIndex("sequenceNumberIndex",mN,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:gN}).createIndex("documentKeyIndex",yN,{unique:!1})}(e)}))),a}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=bR(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"qs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return SC.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return SC.forEach(r,(function(r){VT(r.userId===n.userId);var i=jN(t.It,r);return yR(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var o=new uC(n),a=function(e){return[0,eN(e)]}(o);r.push(t.get(a).next((function(n){return n?SC.resolve():function(n){return t.put({targetId:0,path:eN(n),sequenceNumber:e.highestListenSequenceNumber})}(o)})))})).next((function(){return SC.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:pN});var n=t.store("collectionParents"),r=new uR,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:eN(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new uC(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),o=(n[2],rN(r));return i(o.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=zN(r),o=BN(t.It,i);return n.put(o)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,o=t.store("remoteDocumentsV14"),a=(i=n,i.document?new fC(uC.fromString(i.document.name).popFirst(5)):i.noDocument?fC.fromSegments(i.noDocument.path):i.unknownDocument?fC.fromSegments(i.unknownDocument.path):BT()).path.toArray(),s={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(o.put(s))})).next((function(){return SC.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=jR(this.It),o=new tO(rO.Bs,this.It.re);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:lA();jN(n.It,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),SC.forEach(r,(function(e,r){var a=new RT(r),s=ZN.oe(n.It,a),u=o.getIndexManager(a),c=_R.oe(a,n.It,u,o.referenceDelegate);return new KR(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new CN(t,FC.at),e).next()}))}))}}]),e}();function oO(e){e.createObjectStore("targetDocuments",{keyPath:hN}).createIndex("documentTargetsIndex",dN,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",fN,{unique:!0}),e.createObjectStore("targetGlobal")}var aO="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",sO=function(){function e(t,n,r,i,o,a,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(T(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=o,this.window=a,this.document=s,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new qT(HT.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new MR(this,i),this.ii=n+"main",this.It=new ON(u),this.ri=new CC(this.ii,this.Xs,new iO(this.It)),this.Cs=new TR(this.referenceDelegate,this.It),this.remoteDocumentCache=jR(this.It),this.Ns=new WN,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&FT("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return I(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new qT(HT.FAILED_PRECONDITION,aO);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new FC(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=y(m().mark((function n(r){return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=y(m().mark((function t(n){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return cO(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(AC(t))return LT("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return LT("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return uO(e).get("owner").next((function(e){return SC.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return cO(e).delete(this.clientId)}},{key:"yi",value:function(){var e=y(m().mark((function e(){var t,n,r,i,o=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=IN(e,"clientMetadata");return t.W().next((function(e){var n=o.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return SC.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=Lh(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(a){n.e(a)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?SC.resolve(!0):uO(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new qT(HT.FAILED_PRECONDITION,aO);return!1}}return!(!t.networkEnabled||!t.inForeground)||cO(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&LT("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=y(m().mark((function e(){var t=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new CN(e,FC.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return cO(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return _R.oe(e,this.It,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new lR(e,this.It.re.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return ZN.oe(this.It,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;LT("IndexedDbPersistence","Starting transaction:",e);var i,o,a="readonly"===t?"readonly":"readwrite",s=15===(i=this.Xs)?TN:14===i?SN:13===i?EN:12===i?xN:11===i?kN:void BT();return this.ri.runTransaction(e,a,s,(function(i){return o=new CN(i,r.Ss?r.Ss.next():FC.at),"readwrite-primary"===t?r.fi(o).next((function(e){return!!e||r.di(o)})).next((function(t){if(!t)throw FT("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new qT(HT.FAILED_PRECONDITION,wC);return n(o)})).next((function(e){return r.wi(o).next((function(){return e}))})):r.Vi(o).next((function(){return n(o)}))})).then((function(e){return o.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return uO(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new qT(HT.FAILED_PRECONDITION,aO)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return uO(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=uO(e);return n.get("owner").next((function(e){return t.mi(e)?(LT("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):SC.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(FT("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!Xh()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return LT("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return FT("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(Kn){FT("Failed to set zombie client id.",Kn)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(Kn){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return CC.C()}}]),e}();function uO(e){return IN(e,"owner")}function cO(e){return IN(e,"clientMetadata")}function lO(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var fO=function(){function e(t,n,r,i){T(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return I(e,null,[{key:"Ci",value:function(t,n){var r,i=lA(),o=lA(),a=Lh(n.docChanges);try{for(a.s();!(r=a.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:o=o.add(s.doc.key)}}}catch(u){a.e(u)}finally{a.f()}return new e(t,n.fromCache,i,o)}}]),e}(),hO=function(){function e(){T(this,e),this.xi=!1}return I(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(o){return o||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(nP(t))return SC.resolve(null);var r=sP(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=uP(t,null,"F"),r=sP(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var o=lA.apply(void 0,S(i));return n.Ni.getDocuments(e,o).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var a=n.Fi(t,i);return n.$i(t,a,o,r.readTime)?n.ki(e,uP(t,null,"F")):n.Bi(e,a,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return nP(t)||r.isEqual(aC.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(o){var a=i.Fi(t,o);return i.$i(t,a,n,r)?i.Mi(e,t):(DT()<=Kd.DEBUG&&LT("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),fP(t)),i.Bi(e,a,t,gC(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new qC(pP(e));return t.forEach((function(t,r){hP(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return DT()<=Kd.DEBUG&&LT("QueryEngine","Using full collection scan to execute query:",fP(t)),this.Ni.getDocumentsMatchingQuery(e,t,bC.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),dO=function(){function e(t,n,r,i){T(this,e),this.persistence=t,this.Li=n,this.It=i,this.Ui=new VC(nC),this.qi=new JP((function(e){return OI(e)}),MI),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return I(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KR(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ui)}))}}]),e}();function pO(e,t,n,r){return new dO(e,t,n,r)}function vO(e,t){return mO.apply(this,arguments)}function mO(){return mO=y(m().mark((function e(t,n){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=UT(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,o=[],a=[],s=lA(),u=Lh(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;o.push(c.batchId);var l,f=Lh(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){u.e(b)}finally{u.f()}var d,p=Lh(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;a.push(v.batchId);var m,g=Lh(v.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;s=s.add(y.key)}}catch(b){g.e(b)}finally{g.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{ji:e,removedBatchIds:o,addedBatchIds:a}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),mO.apply(this,arguments)}function gO(e,t){var n=UT(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=SC.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);VT(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=lA(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function yO(e){var t=UT(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function bO(e,t){var n=UT(e),r=t.snapshotVersion,i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;var a=[];t.targetChanges.forEach((function(o,s){var u=i.get(s);if(u){a.push(n.Cs.removeMatchingKeys(e,o.removedDocuments,s).next((function(){return n.Cs.addMatchingKeys(e,o.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(ZC.EMPTY_BYTE_STRING,aC.min()).withLastLimboFreeSnapshotVersion(aC.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,o)&&a.push(n.Cs.updateTargetData(e,c))}}));var s=tA(),u=lA();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(_O(e,o,t.documentUpdates).next((function(e){s=e.Wi,u=e.zi}))),!r.isEqual(aC.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(c)}return SC.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Ui=i,e}))}function _O(e,t,n){var r=lA(),i=lA();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=tA();return n.forEach((function(n,o){var a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(aC.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):LT("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),{Wi:r,zi:i}}))}function wO(e,t){var n=UT(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function kO(e,t){var n=UT(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,SC.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new RN(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function xO(e,t,n){return EO.apply(this,arguments)}function EO(){return EO=y(m().mark((function e(t,n,r){var i,o,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=UT(t),o=i.Ui.get(n),a=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",a,(function(e){return i.persistence.referenceDelegate.removeTarget(e,o)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),AC(e.t1)){e.next=12;break}throw e.t1;case 12:LT("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ui=i.Ui.remove(n),i.qi.delete(o.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),EO.apply(this,arguments)}function SO(e,t,n){var r=UT(e),i=aC.min(),o=lA();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=UT(e),i=r.qi.get(n);return void 0!==i?SC.resolve(r.Ui.get(i)):r.Cs.getTargetData(t,n)}(r,e,sP(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:aC.min(),n?o:lA())})).next((function(e){return IO(r,dP(t),e),{documents:e,Hi:o}}))}))}function TO(e,t){var n=UT(e),r=UT(n.Cs),i=n.Ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.se(e,t).next((function(e){return e?e.target:null}))}))}function CO(e,t){var n=UT(e),r=n.Ki.get(t)||aC.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,gC(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return IO(n,t,e),e}))}function IO(e,t,n){var r=e.Ki.get(t)||aC.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function PO(e,t,n,r){return AO.apply(this,arguments)}function AO(){return AO=y(m().mark((function e(t,n,r,i){var o,a,s,u,c,l,f,h,d,p;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=UT(t),a=lA(),s=tA(),u=Lh(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(a=a.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),s=s.insert(f,h)}catch(v){u.e(v)}finally{u.f()}return d=o.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,kO(o,function(e){return sP(tP(uC.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",o.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return _O(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return o.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return o.Cs.addMatchingKeys(e,a,p.targetId)})).next((function(){return o.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),AO.apply(this,arguments)}function NO(e,t){return RO.apply(this,arguments)}function RO(){return RO=y(m().mark((function e(t,n){var r,i,o,a=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:lA(),e.next=3,kO(t,sP(VN(n.bundledQuery)));case 3:return i=e.sent,o=UT(t),e.abrupt("return",o.persistence.runTransaction("Save named query","readwrite",(function(e){var t=IA(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return o.Ns.saveNamedQuery(e,n);var a=i.withResumeToken(ZC.EMPTY_BYTE_STRING,t);return o.Ui=o.Ui.insert(a.targetId,a),o.Cs.updateTargetData(e,a).next((function(){return o.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return o.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return o.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),RO.apply(this,arguments)}function OO(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function MO(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function DO(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var LO=function(){function e(t,n,r,i){T(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return I(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&((a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new qT(o.error.code,o.error.message))),a?new e(t,n,o.state,i):(FT("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),FO=function(){function e(t,n,r){T(this,e),this.targetId=t,this.state=n,this.error=r}return I(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&((o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new qT(i.error.code,i.error.message))),o?new e(t,i.state,r):(FT("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),jO=function(){function e(t,n){T(this,e),this.clientId=t,this.activeTargetIds=n}return I(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=hA(),a=0;i&&a<r.activeTargetIds.length;++a)i=aI(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(FT("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),zO=function(){function e(t,n){T(this,e),this.clientId=t,this.onlineState=n}return I(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(FT("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),BO=function(){function e(){T(this,e),this.activeTargetIds=hA()}return I(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),VO=function(){function e(t,n,r,i,o){T(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new VC(nC),this.started=!1,this.cr=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ar=OO(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new BO),this.lr=new RegExp("^firestore_clients_".concat(a,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(a,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(a,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return I(e,[{key:"start",value:function(){var e=y(m().mark((function e(){var t,n,r,i,o,a,s,u,c,l,f,h=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=Lh(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(o=this.getItem(OO(this.persistenceKey,i)))&&(a=jO.Zi(i,o))&&(this.ur=this.ur.insert(a.clientId,a));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(s=this.storage.getItem(this.wr))&&(u=this.yr(s))&&this.pr(u),c=Lh(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(DO(this.persistenceKey,e));if(n){var r=FO.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(DO(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return LT("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){LT("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){LT("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(LT("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void FT("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(y(m().mark((function e(){var r,i,o,a,s,u,c;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(o=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(o));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(a=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(a));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(s));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}u=function(e){var t=FC.at;if(null!=e)try{var n=JSON.parse(e);VT("number"==typeof n),t=n}catch(e){FT("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==FC.at&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Mr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new LO(this.currentUser,e,t,n),i=MO(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=MO(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=DO(this.persistenceKey,e),i=new FO(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return jO.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return LO.Zi(new RT(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return FO.Zi(r,t)}},{key:"yr",value:function(e){return zO.Zi(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:LT("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),o=this.Ir(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.Br(a,s).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=hA();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),UO=function(){function e(){T(this,e),this.Lr=new BO,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return I(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.Ur[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ur[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ur[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new BO,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),HO=function(){function e(){T(this,e)}return I(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),qO=function(){function e(){var t=this;T(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return I(e,[{key:"qr",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){LT("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Lh(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){LT("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Lh(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),WO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},KO=function(){function e(t){T(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return I(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),GO=function(e){N(n,e);var t=D(n);function n(e){var r;return T(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return I(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,o){var a=new AT;a.setWithCredentials(!0),a.listenOnce(ST.COMPLETE,(function(){var t;try{switch(a.getLastErrorCode()){case ET.NO_ERROR:var n=a.getResponseJson();LT("Connection","XHR received:",JSON.stringify(n)),i(n);break;case ET.TIMEOUT:LT("Connection",'RPC "'+e+'" timed out'),o(new qT(HT.DEADLINE_EXCEEDED,"Request time out"));break;case ET.HTTP_ERROR:var r=a.getStatus();if(LT("Connection",'RPC "'+e+'" failed with status:',r,"response text:",a.getResponseText()),r>0){var s=a.getResponseJson();Array.isArray(s)&&(s=s[0]);var u=null===(t=s)||void 0===t?void 0:t.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(HT).indexOf(t)>=0?t:HT.UNKNOWN}(u.status);o(new qT(c,u.message))}else o(new qT(HT.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new qT(HT.UNAVAILABLE,"Connection failed."));break;default:BT()}}finally{LT("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=kT(),o=xT(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new IT({})),this.lo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;var s=r.join("");LT("Connection","Creating WebChannel: "+s,a);var u=i.createWebChannel(s,a),c=!1,l=!1,f=new KO({Hr:function(e){l?LT("Connection","Not sending because WebChannel is closed:",e):(c||(LT("Connection","Opening WebChannel transport."),u.open(),c=!0),LT("Connection","WebChannel sending:",e),u.send(e))},Jr:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,PT.EventType.OPEN,(function(){l||LT("Connection","WebChannel transport opened.")})),h(u,PT.EventType.CLOSE,(function(){l||(l=!0,LT("Connection","WebChannel transport closed"),f.io())})),h(u,PT.EventType.ERROR,(function(e){l||(l=!0,jT("Connection","WebChannel transport errored:",e),f.io(new qT(HT.UNAVAILABLE,"The operation could not be completed")))})),h(u,PT.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];VT(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){LT("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=KP[e];if(void 0!==t)return XP(t)}(o),s=i.message;void 0===a&&(a=HT.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),l=!0,f.io(new qT(a,s)),u.close()}else LT("Connection","WebChannel received:",n),f.ro(n)}})),h(o,TT.STAT_EVENT,(function(e){e.stat===CT.PROXY?LT("Connection","Detected buffering proxy"):e.stat===CT.NOPROXY&&LT("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){T(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return I(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var o=this.ho(e,t);LT("RestConnection","Sending: ",o,n);var a={};return this.lo(a,r,i),this.fo(e,o,a,n).then((function(e){return LT("RestConnection","Received: ",e),e}),(function(t){throw jT("RestConnection","".concat(e," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,o){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+OT,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=WO[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function ZO(){return"undefined"!=typeof window?window:null}function YO(){return"undefined"!=typeof document?document:null}function QO(e){return new EA(e,!0)}var $O=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;T(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=o,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return I(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&LT("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),XO=function(){function e(t,n,r,i,o,a,s,u){T(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new $O(t,n)}return I(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.Uo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===HT.RESOURCE_EXHAUSTED?(FT(n.toString()),FT("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===HT.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],o=r[1];e.So===n&&e.Go(i,o)}),(function(n){t((function(){var t=new qT(HT.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(y(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return LT("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(LT("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),JO=function(e){N(n,e);var t=D(n);function n(e,r,i,o,a,s){var u;return T(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,o,s)).It=a,u}return I(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:BT()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.gt?(VT(void 0===t||"string"==typeof t),ZC.fromBase64String(t||"")):(VT(void 0===t||t instanceof Uint8Array),ZC.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){var t=void 0===e.code?HT.UNKNOWN:XP(e.code);return new qT(t,e.message||"")}(a);n=new gA(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=RA(e,u.document.name),l=IA(u.document.updateTime),f=new II({mapValue:{fields:u.document.fields}}),h=AI.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new vA(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=RA(e,v.document),g=v.readTime?IA(v.readTime):aC.min(),y=AI.newNoDocument(m,g),b=v.removedTargetIds||[];n=new vA([],b,y.key,y)}else if("documentRemove"in t){t.documentRemove;var _=t.documentRemove;_.document;var w=RA(e,_.document),k=_.removedTargetIds||[];n=new vA([],k,w,null)}else{if(!("filter"in t))return BT();t.filter;var x=t.filter;x.targetId;var E=x.count||0,S=new QP(E),T=x.targetId;n=new mA(T,S)}return n}(this.It,e),n=function(e){if(!("targetChange"in e))return aC.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?aC.min():t.readTime?IA(t.readTime):aC.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=DA(this.It),t.addTarget=function(e,t){var n,r=t.target;return(n=DI(r)?{documents:UA(e,r)}:{query:HA(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=TA(e,t.resumeToken):t.snapshotVersion.compareTo(aC.min())>0&&(n.readTime=SA(e,t.snapshotVersion.toTimestamp())),n}(this.It,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return BT()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.It,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=DA(this.It),t.removeTarget=e,this.Bo(t)}}]),n}(XO),eM=function(e){N(n,e);var t=D(n);function n(e,r,i,o,a,s){var u;return T(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,o,s)).It=a,u.Jo=!1,u}return I(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,dv(R(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(VT(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(VT(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?IA(e.updateTime):IA(t);return n.isEqual(aC.min())&&(n=IA(t)),new RP(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=IA(e.commitTime);return this.listener.Zo(n,t)}return VT(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=DA(this.It),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return BA(t.It,e)}))};this.Bo(n)}}]),n}(XO),tM=function(e){N(n,e);var t=D(n);function n(e,r,i,o){var a;return T(this,n),(a=t.call(this)).authCredentials=e,a.appCheckCredentials=r,a.connection=i,a.It=o,a.nu=!1,a}return I(n,[{key:"su",value:function(){if(this.nu)throw new qT(HT.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var o=c(i,2),a=o[0],s=o[1];return r.connection.ao(e,t,n,a,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===HT.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new qT(HT.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(o){var a=c(o,2),s=a[0],u=a[1];return i.connection._o(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===HT.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new qT(HT.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return I((function e(){T(this,e)}))}());var nM=function(){function e(t,n){T(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return I(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(FT(t),this.ou=!1):LT("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),rM=I((function e(t,n,r,i,o){var a=this;T(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=o,this.mu.qr((function(e){r.enqueueAndForget(y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=pM(a),!e.t0){e.next=5;break}return LT("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=y(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=UT(t))._u.add(4),e.next=4,aM(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,iM(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(a);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new nM(r,i)}));function iM(e){return oM.apply(this,arguments)}function oM(){return oM=y(m().mark((function e(t){var n,r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!pM(t)){e.next=18;break}n=Lh(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),oM.apply(this,arguments)}function aM(e){return sM.apply(this,arguments)}function sM(){return sM=y(m().mark((function e(t){var n,r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Lh(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),sM.apply(this,arguments)}function uM(e,t){var n=UT(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),dM(n)?hM(n):HM(n).ko()&&lM(n,t))}function cM(e,t){var n=UT(e),r=HM(n);n.du.delete(t),r.ko()&&fM(n,t),0===n.du.size&&(r.ko()?r.Fo():pM(n)&&n.gu.set("Unknown"))}function lM(e,t){e.yu.Mt(t.targetId),HM(e).zo(t)}function fM(e,t){e.yu.Mt(t),HM(e).Ho(t)}function hM(e){e.yu=new bA({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},se:function(t){return e.du.get(t)||null}}),HM(e).start(),e.gu.uu()}function dM(e){return pM(e)&&!HM(e).No()&&e.du.size>0}function pM(e){return 0===UT(e)._u.size}function vM(e){e.yu=void 0}function mM(e){return gM.apply(this,arguments)}function gM(){return gM=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){lM(t,e)}));case 1:case"end":return e.stop()}}),e)}))),gM.apply(this,arguments)}function yM(e,t){return bM.apply(this,arguments)}function bM(){return bM=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:vM(t),dM(t)?(t.gu.hu(n),hM(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),bM.apply(this,arguments)}function _M(e,t,n){return wM.apply(this,arguments)}function wM(){return wM=y(m().mark((function e(t,n,r){var i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof gA&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=y(m().mark((function e(t,n){var r,i,o,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Lh(n.targetIds),e.prev=2,i.s();case 4:if((o=i.n()).done){e.next=14;break}if(a=o.value,e.t0=t.du.has(a),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(a,r);case 10:t.du.delete(a),t.yu.removeTarget(a);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),LT("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,kM(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof vA?t.yu.Gt(n):n instanceof mA?t.yu.Yt(n):t.yu.Wt(n),r.isEqual(aC.min())){e.next=29;break}return e.prev=14,e.next=17,yO(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.te(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(ZC.EMPTY_BYTE_STRING,n.snapshotVersion)),fM(e,t);var r=new RN(n.target,t,1,n.sequenceNumber);lM(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),LT("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,kM(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),wM.apply(this,arguments)}function kM(e,t,n){return xM.apply(this,arguments)}function xM(){return xM=y(m().mark((function e(t,n,r){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(AC(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,aM(t);case 5:t.gu.set("Offline"),r||(r=function(){return yO(t.localStore)}),t.asyncQueue.enqueueRetryable(y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return LT("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,iM(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),xM.apply(this,arguments)}function EM(e,t){return t().catch((function(n){return kM(e,n,t)}))}function SM(e){return TM.apply(this,arguments)}function TM(){return TM=y(m().mark((function e(t){var n,r,i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=UT(t),r=qM(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!CM(n)){e.next=19;break}return e.prev=3,e.next=6,wO(n.localStore,i);case 6:if(null!==(o=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=o.batchId,IM(n,o),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,kM(n,e.t0);case 17:e.next=2;break;case 19:PM(n)&&AM(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),TM.apply(this,arguments)}function CM(e){return pM(e)&&e.fu.length<10}function IM(e,t){e.fu.push(t);var n=qM(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function PM(e){return pM(e)&&!qM(e).No()&&e.fu.length>0}function AM(e){qM(e).start()}function NM(e){return RM.apply(this,arguments)}function RM(){return RM=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:qM(t).eu();case 1:case"end":return e.stop()}}),e)}))),RM.apply(this,arguments)}function OM(e){return MM.apply(this,arguments)}function MM(){return MM=y(m().mark((function e(t){var n,r,i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=qM(t),r=Lh(t.fu);try{for(r.s();!(i=r.n()).done;)o=i.value,n.Xo(o.mutations)}catch(a){r.e(a)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),MM.apply(this,arguments)}function DM(e,t,n){return LM.apply(this,arguments)}function LM(){return LM=y(m().mark((function e(t,n,r){var i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),o=AN.from(i,n,r),e.next=3,EM(t,(function(){return t.remoteSyncer.applySuccessfulWrite(o)}));case 3:return e.next=5,SM(t);case 5:case"end":return e.stop()}}),e)}))),LM.apply(this,arguments)}function FM(e,t){return jM.apply(this,arguments)}function jM(){return jM=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&qM(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=y(m().mark((function e(t,n){var r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!$P(i=n.code)||i===HT.ABORTED){e.next=7;break}return r=t.fu.shift(),qM(t).Mo(),e.next=5,EM(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,SM(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:PM(t)&&AM(t);case 5:case"end":return e.stop()}}),e)}))),jM.apply(this,arguments)}function zM(e,t){return BM.apply(this,arguments)}function BM(){return BM=y(m().mark((function e(t,n){var r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=UT(t)).asyncQueue.verifyOperationInProgress(),LT("RemoteStore","RemoteStore received new credentials"),i=pM(r),r._u.add(3),e.next=6,aM(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,iM(r);case 12:case"end":return e.stop()}}),e)}))),BM.apply(this,arguments)}function VM(e,t){return UM.apply(this,arguments)}function UM(){return UM=y(m().mark((function e(t,n){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=UT(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,iM(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,aM(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),UM.apply(this,arguments)}function HM(e){return e.pu||(e.pu=function(e,t,n){var r=UT(e);return r.su(),new JO(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:mM.bind(null,e),Zr:yM.bind(null,e),Wo:_M.bind(null,e)}),e.wu.push(function(){var t=y(m().mark((function t(n){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),dM(e)?hM(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:vM(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function qM(e){return e.Iu||(e.Iu=function(e,t,n){var r=UT(e);return r.su(),new eM(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:NM.bind(null,e),Zr:FM.bind(null,e),tu:OM.bind(null,e),Zo:DM.bind(null,e)}),e.wu.push(function(){var t=y(m().mark((function t(n){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,SM(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(LT("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var WM=function(){function e(t,n,r,i,o){T(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new WT,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return I(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new qT(HT.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a}}]),e}();function KM(e,t){if(FT("AsyncQueue","".concat(t,": ").concat(e)),AC(e))return new qT(HT.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var GM=function(){function e(t){T(this,e),this.comparator=t?function(e,n){return t(e,n)||fC.comparator(e.key,n.key)}:function(e,t){return fC.comparator(e.key,t.key)},this.keyedMap=rA(),this.sortedSet=new VC(this.comparator)}return I(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),ZM=function(){function e(){T(this,e),this.Tu=new VC(fC.comparator)}return I(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):BT():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),YM=function(){function e(t,n,r,i,o,a,s,u,c){T(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return I(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cP(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,o){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,GM.emptySet(n),a,r,i,!0,!1,o)}}]),e}(),QM=I((function e(){T(this,e),this.Au=void 0,this.listeners=[]})),$M=I((function e(){T(this,e),this.queries=new JP((function(e){return lP(e)}),cP),this.onlineState="Unknown",this.Ru=new Set}));function XM(e,t){return JM.apply(this,arguments)}function JM(){return JM=y(m().mark((function e(t,n){var r,i,o,a,s;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=UT(t),i=n.query,o=!1,(a=r.queries.get(i))||(o=!0,a=new QM),!o){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:a.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=KM(e.t0,"Initialization of query '".concat(fP(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,a),a.listeners.push(n),n.bu(r.onlineState),a.Au&&n.Pu(a.Au)&&iD(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),JM.apply(this,arguments)}function eD(e,t){return tD.apply(this,arguments)}function tD(){return tD=y(m().mark((function e(t,n){var r,i,o,a,s;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=UT(t),i=n.query,o=!1,(a=r.queries.get(i))&&(s=a.listeners.indexOf(n))>=0&&(a.listeners.splice(s,1),o=0===a.listeners.length),!o){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),tD.apply(this,arguments)}function nD(e,t){var n,r=UT(e),i=!1,o=Lh(t);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=a.query,u=r.queries.get(s);if(u){var c,l=Lh(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(a)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Au=a}}}catch(f){o.e(f)}finally{o.f()}i&&iD(r)}function rD(e,t,n){var r=UT(e),i=r.queries.get(t);if(i){var o,a=Lh(i.listeners);try{for(a.s();!(o=a.n()).done;){o.value.onError(n)}}catch(s){a.e(s)}finally{a.f()}}r.queries.delete(t)}function iD(e){e.Ru.forEach((function(e){e.next()}))}var oD=function(){function e(t,n,r){T(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return I(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Lh(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(a){r.e(a)}finally{r.f()}e=new YM(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var o=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),o=!0):this.Cu(e,this.onlineState)&&(this.xu(e),o=!0),this.Su=e,o}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=YM.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}(),aD=function(){function e(t,n){T(this,e),this.ku=t,this.byteLength=n}return I(e,[{key:"Ou",value:function(){return"metadata"in this.ku}}]),e}(),sD=function(){function e(t){T(this,e),this.It=t}return I(e,[{key:"Ji",value:function(e){return RA(this.It,e)}},{key:"Yi",value:function(e){return e.metadata.exists?jA(this.It,e.document,!1):AI.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return IA(e)}}]),e}(),uD=function(){function e(t,n,r){T(this,e),this.Mu=t,this.localStore=n,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=cD(t)}return I(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;var n=uC.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new sD(this.It),i=Lh(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(o.metadata.queries){var a,s=r.Ji(o.metadata.name),u=Lh(o.metadata.queries);try{for(u.s();!(a=u.n()).done;){var c=a.value,l=(n.get(c)||lA()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=y(m().mark((function e(){var t,n,r,i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,PO(this.localStore,new sD(this.It),this.documents,this.Mu.id);case 2:t=e.sent,n=this.$u(this.documents),r=Lh(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return o=i.value,e.next=11,NO(this.localStore,o,n.get(o.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function cD(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var lD=I((function e(t){T(this,e),this.key=t})),fD=I((function e(t){T(this,e),this.key=t})),hD=function(){function e(t,n){T(this,e),this.query=t,this.Uu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=lA(),this.mutatedKeys=lA(),this.Gu=pP(t),this.Qu=new GM(this.Gu)}return I(e,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new ZM,i=t?t.Qu:this.Qu,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=hP(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Gu(f,u)>0||c&&n.Gu(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(a=a.add(f),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),null!==this.query.limit)for(;a.size>this.query.limit;){var l="F"===this.query.limitType?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Qu:a,zu:r,$i:s,mutatedKeys:o}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var o=e.zu.Eu();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return BT()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var a=t?this.Yu():[],s=0===this.Ku.size&&this.current?1:0,u=s!==this.qu;return this.qu=s,0!==o.length||u?{snapshot:new YM(this.query,e.Qu,i,o,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:a}:{Xu:a}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new ZM,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Uu=t.Uu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Uu=t.Uu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=lA(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new fD(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new lD(e))})),n}},{key:"tc",value:function(e){this.Uu=e.Hi,this.Ku=lA();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return YM.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}]),e}(),dD=I((function e(t,n,r){T(this,e),this.query=t,this.targetId=n,this.view=r})),pD=I((function e(t){T(this,e),this.key=t,this.nc=!1})),vD=function(){function e(t,n,r,i,o,a){T(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.sc={},this.ic=new JP((function(e){return lP(e)}),cP),this.rc=new Map,this.oc=new Set,this.uc=new VC(fC.comparator),this.cc=new Map,this.ac=new YR,this.hc={},this.lc=new Map,this.fc=SR.vn(),this.onlineState="Unknown",this.dc=void 0}return I(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function mD(e,t){return gD.apply(this,arguments)}function gD(){return gD=y(m().mark((function e(t,n){var r,i,o,a,s,u;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=cL(t),!(a=r.ic.get(n))){e.next=6;break}i=a.targetId,r.sharedClientState.addLocalQueryTarget(i),o=a.view.ec(),e.next=15;break;case 6:return e.next=8,kO(r.localStore,sP(n));case 8:return s=e.sent,r.isPrimaryClient&&uM(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,yD(r,n,i,"current"===u,s.resumeToken);case 14:o=e.sent;case 15:return e.abrupt("return",o);case 16:case"end":return e.stop()}}),e)}))),gD.apply(this,arguments)}function yD(e,t,n,r,i){return bD.apply(this,arguments)}function bD(){return bD=y(m().mark((function e(t,n,r,i,o){var a,s,u,c,l,f;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=y(m().mark((function e(t,n,r,i){var o,a,s;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.view.Wu(r),e.t0=o.$i,!e.t0){e.next=6;break}return e.next=5,SO(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,o)}));case 5:o=e.sent;case 6:return a=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(o,t.isPrimaryClient,a),e.abrupt("return",(zD(t,n.targetId,s.Xu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,SO(t.localStore,n,!0);case 3:return a=e.sent,s=new hD(n,a.Hi),u=s.Wu(a.documents),c=pA.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,o),l=s.applyChanges(u,t.isPrimaryClient,c),zD(t,r,l.Xu),f=new dD(n,r,s),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),bD.apply(this,arguments)}function _D(e,t){return wD.apply(this,arguments)}function wD(){return wD=y(m().mark((function e(t,n){var r,i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=UT(t),i=r.ic.get(n),!((o=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,o.filter((function(e){return!cP(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,xO(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),cM(r.remoteStore,i.targetId),FD(r,i.targetId)})).catch(xC);case 9:e.next=14;break;case 11:return FD(r,i.targetId),e.next=14,xO(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),wD.apply(this,arguments)}function kD(e,t,n){return xD.apply(this,arguments)}function xD(){return xD=y(m().mark((function e(t,n,r){var i,o,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lL(t),e.prev=1,e.next=4,function(e,t){var n,r,i=UT(e),o=oC.now(),a=t.reduce((function(e,t){return e.add(t.key)}),lA());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=tA(),u=lA();return i.Gi.getEntries(e,a).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var a,s=[],u=Lh(t);try{for(u.s();!(a=u.n()).done;){var c=a.value,l=zP(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new UP(c.key,l,PI(l.value.mapValue),OP.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,o,s,t)})).next((function(t){r=t;var o=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,o)}))})).then((function(){return{batchId:r.batchId,changes:iA(n)}}))}(i.localStore,n);case 4:return o=e.sent,i.sharedClientState.addPendingMutation(o.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new VC(nC)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,o.batchId,r),e.next=9,UD(i,o.changes);case 9:return e.next=11,SM(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),a=KM(e.t0,"Failed to persist write"),r.reject(a);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),xD.apply(this,arguments)}function ED(e,t){return SD.apply(this,arguments)}function SD(){return SD=y(m().mark((function e(t,n){var r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=UT(t),e.prev=1,e.next=4,bO(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(VT(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?VT(n.nc):e.removedDocuments.size>0&&(VT(n.nc),n.nc=!1))})),e.next=8,UD(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,xC(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),SD.apply(this,arguments)}function TD(e,t,n){var r=UT(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=UT(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,o=Lh(n.listeners);try{for(o.s();!(i=o.n()).done;){i.value.bu(t)&&(r=!0)}}catch(a){o.e(a)}finally{o.f()}})),r&&iD(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function CD(e,t,n){return ID.apply(this,arguments)}function ID(){return ID=y(m().mark((function e(t,n,r){var i,o,a,s,u,c;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=UT(t)).sharedClientState.updateQueryState(n,"rejected",r),o=i.cc.get(n),!(a=o&&o.key)){e.next=14;break}return s=(s=new VC(fC.comparator)).insert(a,AI.newNoDocument(a,aC.min())),u=lA().add(a),c=new dA(aC.min(),new Map,new qC(nC),s,u),e.next=9,ED(i,c);case 9:i.uc=i.uc.remove(a),i.cc.delete(n),VD(i),e.next=16;break;case 14:return e.next=16,xO(i.localStore,n,!1).then((function(){return FD(i,n,r)})).catch(xC);case 16:case"end":return e.stop()}}),e)}))),ID.apply(this,arguments)}function PD(e,t){return AD.apply(this,arguments)}function AD(){return AD=y(m().mark((function e(t,n){var r,i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=UT(t),i=n.batch.batchId,e.prev=1,e.next=4,gO(r.localStore,n);case 4:return o=e.sent,LD(r,i,null),DD(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,UD(r,o);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,xC(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),AD.apply(this,arguments)}function ND(e,t,n){return RD.apply(this,arguments)}function RD(){return RD=y(m().mark((function e(t,n,r){var i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=UT(t),e.prev=1,e.next=4,function(e,t){var n=UT(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return VT(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return o=e.sent,LD(i,n,r),DD(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,UD(i,o);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,xC(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),RD.apply(this,arguments)}function OD(e,t){return MD.apply(this,arguments)}function MD(){return MD=y(m().mark((function e(t,n){var r,i,o,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pM((r=UT(t)).remoteStore)||LT("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=UT(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(o=r.lc.get(i)||[]).push(n),r.lc.set(i,o),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),a=KM(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(a);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),MD.apply(this,arguments)}function DD(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function LD(e,t,n){var r=UT(e),i=r.hc[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function FD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Lh(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var o=r.value;e.ic.delete(o),n&&e.sc.wc(o,n)}}catch(a){i.e(a)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||jD(e,t)}))}function jD(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(cM(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),VD(e))}function zD(e,t,n){var r,i=Lh(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;o instanceof lD?(e.ac.addReference(o.key,t),BD(e,o)):o instanceof fD?(LT("SyncEngine","Document no longer in limbo: "+o.key),e.ac.removeReference(o.key,t),e.ac.containsKey(o.key)||jD(e,o.key)):BT()}}catch(a){i.e(a)}finally{i.f()}}function BD(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(LT("SyncEngine","New document in limbo: "+n),e.oc.add(r),VD(e))}function VD(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new fC(uC.fromString(t)),r=e.fc.next();e.cc.set(r,new pD(n)),e.uc=e.uc.insert(n,r),uM(e.remoteStore,new RN(sP(tP(n.path)),r,2,FC.at))}}function UD(e,t,n){return HD.apply(this,arguments)}function HD(){return HD=y(m().mark((function e(t,n,r){var i,o,a,s;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=UT(t),o=[],a=[],s=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){s.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){o.push(e);var n=fO.Ci(t.targetId,e);a.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.sc.Wo(o),e.next=9,function(){var e=y(m().mark((function e(t,n){var r,i,o,a,s,u,c,l;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=UT(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return SC.forEach(n,(function(t){return SC.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return SC.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),AC(e.t0)){e.next=10;break}throw e.t0;case 10:LT("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Lh(n);try{for(i.s();!(o=i.n()).done;)a=o.value,s=a.targetId,a.fromCache||(u=r.Ui.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.Ui=r.Ui.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,a);case 9:case"end":return e.stop()}}),e)}))),HD.apply(this,arguments)}function qD(e,t){return WD.apply(this,arguments)}function WD(){return WD=y(m().mark((function e(t,n){var r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=UT(t)).currentUser.isEqual(n)){e.next=11;break}return LT("SyncEngine","User change. New user:",n.toKey()),e.next=5,vO(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new qT(HT.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,UD(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),WD.apply(this,arguments)}function KD(e,t){var n=UT(e),r=n.cc.get(t);if(r&&r.nc)return lA().add(r.key);var i=lA(),o=n.rc.get(t);if(!o)return i;var a,s=Lh(o);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=n.ic.get(u);i=i.unionWith(c.view.ju)}}catch(l){s.e(l)}finally{s.f()}return i}function GD(e,t){return ZD.apply(this,arguments)}function ZD(){return ZD=y(m().mark((function e(t,n){var r,i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=UT(t),e.next=3,SO(r.localStore,n.query,!0);case 3:return i=e.sent,o=n.view.tc(i),e.abrupt("return",(r.isPrimaryClient&&zD(r,n.targetId,o.Xu),o));case 6:case"end":return e.stop()}}),e)}))),ZD.apply(this,arguments)}function YD(e,t){return QD.apply(this,arguments)}function QD(){return QD=y(m().mark((function e(t,n){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=UT(t),e.abrupt("return",CO(r.localStore,n).then((function(e){return UD(r,e)})));case 2:case"end":return e.stop()}}),e)}))),QD.apply(this,arguments)}function $D(e,t,n,r){return XD.apply(this,arguments)}function XD(){return XD=y(m().mark((function e(t,n,r,i){var o,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=UT(t),e.next=3,function(e,t){var n=UT(e),r=UT(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):SC.resolve(null)}))}))}(o.localStore,n);case 3:if(null===(a=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,SM(o.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(LD(o,n,i||null),DD(o,n),function(e,t){UT(UT(e).mutationQueue).An(t)}(o.localStore,n)):BT();case 11:return e.next=13,UD(o,a);case 13:e.next=16;break;case 15:LT("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),XD.apply(this,arguments)}function JD(e,t){return eL.apply(this,arguments)}function eL(){return eL=y(m().mark((function e(t,n){var r,i,o,a,s,u,c,l;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(cL(r=UT(t)),lL(r),!0!==n||!0===r.dc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,tL(r,i.toArray());case 5:return o=e.sent,r.dc=!0,e.next=9,VM(r.remoteStore,!0);case 9:a=Lh(o);try{for(a.s();!(s=a.n()).done;)u=s.value,uM(r.remoteStore,u)}catch(f){a.e(f)}finally{a.f()}e.next=25;break;case 13:if(!1!==n||!1===r.dc){e.next=25;break}return c=[],l=Promise.resolve(),r.rc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return FD(r,t),xO(r.localStore,t,!0)})),cM(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,tL(r,c);case 21:return function(e){var t=UT(e);t.cc.forEach((function(e,n){cM(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new VC(fC.comparator)}(r),r.dc=!1,e.next=25,VM(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),eL.apply(this,arguments)}function tL(e,t,n){return nL.apply(this,arguments)}function nL(){return nL=y(m().mark((function e(t,n,r){var i,o,a,s,u,c,l,f,h,d,p,v,g,y;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=UT(t),o=[],a=[],s=Lh(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.rc.get(c))||0===f.length){e.next=34;break}return e.next=11,kO(i.localStore,sP(f[0]));case 11:l=e.sent,h=Lh(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ic.get(p),e.next=20,GD(i,v);case 20:(g=e.sent).snapshot&&a.push(g.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,TO(i.localStore,c);case 36:return y=e.sent,e.next=39,kO(i.localStore,y);case 39:return l=e.sent,e.next=42,yD(i,rL(y),c,!1,l.resumeToken);case 42:o.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.sc.Wo(a),o));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),nL.apply(this,arguments)}function rL(e){return eP(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function iL(e){var t=UT(e);return UT(UT(t.localStore).persistence).vi()}function oL(e,t,n,r){return aL.apply(this,arguments)}function aL(){return aL=y(m().mark((function e(t,n,r,i){var o,a,s,u;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o=UT(t)).dc){e.next=3;break}return e.abrupt("return",void LT("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((a=o.rc.get(n))&&a.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,CO(o.localStore,dP(a[0]));case 10:return s=e.sent,u=dA.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,ZC.EMPTY_BYTE_STRING),e.next=14,UD(o,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,xO(o.localStore,n,!0);case 17:return FD(o,n,i),e.abrupt("break",20);case 19:BT();case 20:case"end":return e.stop()}}),e)}))),aL.apply(this,arguments)}function sL(e,t,n){return uL.apply(this,arguments)}function uL(){return uL=y(m().mark((function e(t,n,r){var i,o,a,s,u,c,l,f,h;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=cL(t)).dc){e.next=45;break}o=Lh(n),e.prev=3,o.s();case 5:if((a=o.n()).done){e.next=21;break}if(s=a.value,!i.rc.has(s)){e.next=10;break}return LT("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,TO(i.localStore,s);case 12:return u=e.sent,e.next=15,kO(i.localStore,u);case 15:return c=e.sent,e.next=18,yD(i,rL(u),c.targetId,!1,c.resumeToken);case 18:uM(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),o.e(e.t0);case 26:return e.prev=26,o.f(),e.finish(26);case 29:l=Lh(r),e.prev=30,h=m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.rc.has(t),!e.t0){e.next=5;break}return e.next=5,xO(i.localStore,t,!1).then((function(){cM(i.remoteStore,t),FD(i,t)})).catch(xC);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),uL.apply(this,arguments)}function cL(e){var t=UT(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ED.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=KD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=CD.bind(null,t),t.sc.Wo=nD.bind(null,t.eventManager),t.sc.wc=rD.bind(null,t.eventManager),t}function lL(e){var t=UT(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=PD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ND.bind(null,t),t}function fL(e,t,n){var r=UT(e);(function(){var e=y(m().mark((function e(t,n,r){var i,o,a,s,u;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=UT(e),r=IA(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(cD(i)),o=new uD(i,t.localStore,n.It),e.next=15,n.mc();case 15:a=e.sent;case 16:if(!a){e.next=26;break}return e.next=19,o.Fu(a);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.mc();case 23:a=e.sent;case 24:e.next=16;break;case 26:return e.next=28,o.complete();case 28:return u=e.sent,e.next=31,UD(t,u.Lu,void 0);case 31:return e.next=33,function(e,t){var n=UT(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(jT("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var hL=function(){function e(){T(this,e),this.synchronizeTabs=!1}return I(e,[{key:"initialize",value:function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.It=QO(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return pO(this.persistence,new hO,e.initialUser,this.It)}},{key:"yc",value:function(e){return new tO(rO.Bs,this.It)}},{key:"gc",value:function(e){return new UO}},{key:"terminate",value:function(){var e=y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),dL=function(e){N(n,e);var t=D(n);function n(e,r,i){var o;return T(this,n),(o=t.call(this)).Ac=e,o.cacheSizeBytes=r,o.forceOwnership=i,o.synchronizeTabs=!1,o}return I(n,[{key:"initialize",value:function(){var e=y(m().mark((function e(t){var r=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dv(R(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ac.initialize(this,t);case 4:return e.next=6,lL(this.Ac.syncEngine);case 6:return e.next=8,SM(this.Ac.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){return pO(this.persistence,new hO,e.initialUser,this.It)}},{key:"Tc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new RR(n,e.asyncQueue,t)}},{key:"Ec",value:function(e,t){var n=new LC(t,this.persistence);return new DC(e.asyncQueue,n)}},{key:"yc",value:function(e){var t=lO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?gR.withCacheSize(this.cacheSizeBytes):gR.DEFAULT;return new sO(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,ZO(),YO(),this.It,this.sharedClientState,!!this.forceOwnership)}},{key:"gc",value:function(e){return new UO}}]),n}(hL),pL=function(e){N(n,e);var t=D(n);function n(e,r){var i;return T(this,n),(i=t.call(this,e,r,!1)).Ac=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return I(n,[{key:"initialize",value:function(){var e=y(m().mark((function e(t){var r,i=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dv(R(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ac.syncEngine,e.t0=this.sharedClientState instanceof VO,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:$D.bind(null,r),$r:oL.bind(null,r),Br:sL.bind(null,r),vi:iL.bind(null,r),Mr:YD.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JD(i.Ac.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gc",value:function(e){var t=ZO();if(!VO.C(t))throw new qT(HT.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=lO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new VO(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(dL),vL=function(){function e(){T(this,e)}return I(e,[{key:"initialize",value:function(){var e=y(m().mark((function e(t,n){var r=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return TD(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=qD.bind(null,this.syncEngine),e.next=12,VM(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new $M}},{key:"createDatastore",value:function(e){var t,n=QO(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new GO(t));return function(e,t,n,r){return new tM(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return TD(a.syncEngine,e,0)},o=qO.C()?new qO:new HO,new rM(t,n,r,i,o)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,o,a){var s=new vD(e,t,n,r,i,o);return a&&(s.dc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=y(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=UT(t),LT("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,aM(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function mL(e,t,n){if(!n)throw new qT(HT.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function gL(e,t,n,r){if(!0===t&&!0===r)throw new qT(HT.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function yL(e){if(!fC.isDocumentKey(e))throw new qT(HT.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function bL(e){if(fC.isDocumentKey(e))throw new qT(HT.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function _L(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":BT()}function wL(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new qT(HT.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=_L(e);throw new qT(HT.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function kL(e,t){if(t<=0)throw new qT(HT.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var xL=new Map,EL=function(){function e(t){var n;if(T(this,e),void 0===t.host){if(void 0!==t.ssl)throw new qT(HT.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new qT(HT.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,gL("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return I(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),SL=function(){function e(t,n,r,i){T(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new EL({}),this._settingsFrozen=!1}return I(e,[{key:"app",get:function(){if(!this._app)throw new qT(HT.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new qT(HT.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new EL(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new GT;switch(e.type){case"gapi":var t=e.client;return new $T(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new qT(HT.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=xL.get(e);t&&(LT("ComponentProvider","Removing Datastore"),xL.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function TL(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=(e=wL(e,SL))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&jT("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var a,s;if("string"==typeof i.mockUserToken)a=i.mockUserToken,s=RT.MOCK_USER;else{a=ld(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new qT(HT.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new RT(u)}e._authCredentials=new ZT(new KT(a,s))}}var CL=function(){function e(t,n,r){T(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return I(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new PL(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),IL=function(){function e(t,n,r){T(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return I(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),PL=function(e){N(n,e);var t=D(n);function n(e,r,i){var o;return T(this,n),(o=t.call(this,e,r,tP(i)))._path=i,o.type="collection",o}return I(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new CL(this.firestore,null,new fC(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(IL);function AL(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Bd(e),mL("collection","path",t),e instanceof SL){var o=uC.fromString.apply(uC,[t].concat(r));return bL(o),new PL(e,null,o)}if(!(e instanceof CL||e instanceof PL))throw new qT(HT.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var a=e._path.child(uC.fromString.apply(uC,[t].concat(r)));return bL(a),new PL(e.firestore,null,a)}function NL(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Bd(e),1===arguments.length&&(t=tC.R()),mL("doc","path",t),e instanceof SL){var o=uC.fromString.apply(uC,[t].concat(r));return yL(o),new CL(e,null,new fC(o))}if(!(e instanceof CL||e instanceof PL))throw new qT(HT.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var a=e._path.child(uC.fromString.apply(uC,[t].concat(r)));return yL(a),new CL(e.firestore,e instanceof PL?e.converter:null,new fC(a))}function RL(e,t){return e=Bd(e),t=Bd(t),(e instanceof CL||e instanceof PL)&&(t instanceof CL||t instanceof PL)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function OL(e,t){return e=Bd(e),t=Bd(t),e instanceof IL&&t instanceof IL&&e.firestore===t.firestore&&cP(e._query,t._query)&&e.converter===t.converter}function ML(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return y(m().mark((function r(){var i;return m().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var DL=function(){function e(t){T(this,e),this.observer=t,this.muted=!1}return I(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):FT("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),LL=function(){function e(t,n){var r=this;T(this,e),this.Pc=t,this.It=n,this.metadata=new WT,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ku))))}),(function(e){return r.metadata.reject(e)}))}return I(e,[{key:"close",value:function(){return this.Pc.cancel()}},{key:"getMetadata",value:function(){var e=y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mc",value:function(){var e=y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){var e=y(m().mark((function e(){var t,n,r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Sc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.vc.decode(t),r=Number(n),isNaN(r)&&this.Dc("length string (".concat(n,") is not valid number")),e.next=9,this.Cc(r);case 9:return i=e.sent,e.abrupt("return",new aD(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Sc",value:function(){var e=y(m().mark((function e(){var t,n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.xc()<0)){e.next=7;break}return e.next=3,this.Nc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.xc())<0&&this.Dc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){var e=y(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Nc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Dc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.vc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Nc",value:function(){var e=y(m().mark((function e(){var t,n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Pc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),FL=function(){function e(t){T(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return I(e,[{key:"lookup",value:function(){var e=y(m().mark((function e(t){var n,r=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new qT(HT.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=y(m().mark((function e(t,n){var r,i,o,a,s,u;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=UT(t),i=DA(r.It)+"/documents",o={documents:n.map((function(e){return NA(r.It,e)}))},e.next=5,r._o("BatchGetDocuments",i,o,n.length);case 5:return a=e.sent,s=new Map,a.forEach((function(e){var t=zA(r.It,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());VT(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new ZP(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=y(m().mark((function e(){var t,n=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=fC.fromPath(t);n.mutations.push(new YP(r,n.precondition(r)))})),e.next=7,function(){var e=y(m().mark((function e(t,n){var r,i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=UT(t),i=DA(r.It)+"/documents",o={writes:n.map((function(e){return BA(r.It,e)}))},e.next=3,r.ao("Commit",i,o);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw BT();t=aC.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new qT(HT.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(aC.min())?OP.exists(!1):OP.updateTime(t):OP.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(aC.min()))throw new qT(HT.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return OP.updateTime(t)}return OP.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),jL=function(){function e(t,n,r,i,o){T(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this.kc=r.maxAttempts,this.xo=new $O(this.asyncQueue,"transaction_retry")}return I(e,[{key:"run",value:function(){this.kc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.xo.Ro(y(m().mark((function t(){var n,r;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new FL(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Fc(t)}))}))})).catch((function(t){e.Fc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!iI(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Fc",value:function(e){var t=this;this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!$P(t)}return!1}}]),e}(),zL=function(){function e(t,n,r,i){var o=this;T(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=RT.UNAUTHENTICATED,this.clientId=tC.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return LT("FirestoreClient","Received user=",t.uid),e.next=3,o.authCredentialListener(t);case 3:o.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return LT("FirestoreClient","Received new app check token=",e),o.appCheckCredentialListener(e,o.user)}))}return I(e,[{key:"getConfiguration",value:function(){var e=y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new qT(HT.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new WT;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(y(m().mark((function n(){var r;return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=KM(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function BL(e,t){return VL.apply(this,arguments)}function VL(){return VL=y(m().mark((function e(t,n){var r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),LT("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,vO(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),VL.apply(this,arguments)}function UL(e,t){return HL.apply(this,arguments)}function HL(){return HL=y(m().mark((function e(t,n){var r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,qL(t);case 3:return r=e.sent,LT("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return zM(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return zM(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),HL.apply(this,arguments)}function qL(e){return WL.apply(this,arguments)}function WL(){return WL=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return LT("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,BL(t,new hL);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),WL.apply(this,arguments)}function KL(e){return GL.apply(this,arguments)}function GL(){return GL=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return LT("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,UL(t,new vL);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),GL.apply(this,arguments)}function ZL(e){return qL(e).then((function(e){return e.persistence}))}function YL(e){return qL(e).then((function(e){return e.localStore}))}function QL(e){return KL(e).then((function(e){return e.remoteStore}))}function $L(e){return KL(e).then((function(e){return e.syncEngine}))}function XL(e){return KL(e).then((function(e){return e.datastore}))}function JL(e){return eF.apply(this,arguments)}function eF(){return eF=y(m().mark((function e(t){var n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,KL(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=mD.bind(null,n.syncEngine),r.onUnlisten=_D.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),eF.apply(this,arguments)}function tF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new WT;return e.asyncQueue.enqueueAndForget(y(m().mark((function i(){return m().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var o=new DL({next:function(o){t.enqueueAndForget((function(){return eD(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new qT(HT.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new qT(HT.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new oD(tP(n.path),o,{includeMetadataChanges:!0,Nu:!0});return XM(e,a)},i.next=3,JL(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function nF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new WT;return e.asyncQueue.enqueueAndForget(y(m().mark((function i(){return m().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var o=new DL({next:function(n){t.enqueueAndForget((function(){return eD(e,a)})),n.fromCache&&"server"===r.source?i.reject(new qT(HT.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new oD(n,o,{includeMetadataChanges:!0,Nu:!0});return XM(e,a)},i.next=3,JL(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var rF=function(){function e(){var t=this;T(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new $O(this,"async_queue_retry"),this.Wc=function(){var e=YO();e&&LT("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=YO();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return I(e,[{key:"isShuttingDown",get:function(){return this.Uc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;var t=YO();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.Uc)return new Promise((function(){}));var n=new WT;return this.Hc((function(){return t.Uc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=y(m().mark((function e(){var t=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),AC(e.t0)){e.next=12;break}throw e.t0;case 12:LT("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw FT("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=WM.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.qc.push(i),i}},{key:"zc",value:function(){this.Kc&&BT()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=y(m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=Lh(this.qc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.qc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Lh(t.qc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(o){r.e(o)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.qc.indexOf(e);this.qc.splice(t,1)}}]),e}();function iF(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Lh(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o in r&&"function"==typeof r[o])return!0}}catch(a){i.e(a)}finally{i.f()}return!1}(e)}var oF=function(){function e(){T(this,e),this._progressObserver={},this._taskCompletionResolver=new WT,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return I(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),aF=function(e){N(n,e);var t=D(n);function n(e,r,i,o){var a;return T(this,n),(a=t.call(this,e,r,i,o)).type="firestore",a._queue=new rF,a._persistenceKey=(null==o?void 0:o.name)||"[DEFAULT]",a}return I(n,[{key:"_terminate",value:function(){return this._firestoreClient||uF(this),this._firestoreClient.terminate()}}]),n}(SL);function sF(e){return e._firestoreClient||uF(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function uF(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new nI(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new zL(e._authCredentials,e._appCheckCredentials,e._queue,r)}function cF(e,t,n){var r=new WT;return e.asyncQueue.enqueue(y(m().mark((function i(){var o;return m().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,BL(e,n);case 3:return i.next=5,UL(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===HT.FAILED_PRECONDITION||e.code===HT.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(o=i.t0)){i.next=13;break}throw o;case 13:jT("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function lF(e){return function(e){return e.asyncQueue.enqueue(y(m().mark((function t(){var n,r;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ZL(e);case 2:return n=t.sent,t.next=5,QL(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=UT(e);return t._u.delete(0),iM(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(sF(e=wL(e,aF)))}function fF(e){return function(e){return e.asyncQueue.enqueue(y(m().mark((function t(){var n,r;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ZL(e);case 2:return n=t.sent,t.next=5,QL(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=y(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=UT(t))._u.add(0),e.next=4,aM(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(sF(e=wL(e,aF)))}function hF(e,t){var n=sF(e=wL(e,aF)),r=new oF;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new LL(e,t)}(function(e,t){if(e instanceof Uint8Array)return ML(e,t);if(e instanceof ArrayBuffer)return ML(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,QO(t));e.asyncQueue.enqueueAndForget(y(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=fL,t.next=3,$L(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function dF(e,t){return function(e,t){return e.asyncQueue.enqueue(y(m().mark((function n(){return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=UT(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,YL(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(sF(e=wL(e,aF)),t).then((function(t){return t?new IL(e,null,t.query):null}))}function pF(e){if(e._initialized||e._terminated)throw new qT(HT.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var vF=function(){function e(t){T(this,e),this._byteString=t}return I(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(ZC.fromBase64String(t))}catch(t){throw new qT(HT.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(ZC.fromUint8Array(t))}}]),e}(),mF=function(){function e(){T(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new qT(HT.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lC(n)}return I(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var gF=I((function e(t){T(this,e),this._methodName=t})),yF=function(){function e(t,n){if(T(this,e),!isFinite(t)||t<-90||t>90)throw new qT(HT.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new qT(HT.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return I(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return nC(this._lat,e._lat)||nC(this._long,e._long)}}]),e}(),bF=/^__.*__$/,_F=function(){function e(t,n,r){T(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return I(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new UP(e,this.data,this.fieldMask,t,this.fieldTransforms):new VP(e,this.data,t,this.fieldTransforms)}}]),e}(),wF=function(){function e(t,n,r){T(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return I(e,[{key:"toMutation",value:function(e,t){return new UP(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function kF(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw BT()}}var xF=function(){function e(t,n,r,i,o,a){T(this,e),this.settings=t,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,void 0===o&&this.na(),this.fieldTransforms=o||[],this.fieldMask=a||[]}return I(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return HF(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(kF(this.sa)&&bF.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),EF=function(){function e(t,n,r){T(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.It=r||QO(t)}return I(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new xF({sa:e,methodName:t,fa:n,path:lC.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}]),e}();function SF(e){var t=e._freezeSettings(),n=QO(e._databaseId);return new EF(e._databaseId,!!t.ignoreUndefinedProperties,n)}function TF(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=e.da(o.merge||o.mergeFields?2:0,t,n,i);zF("Data must be an object, but it was:",a,r);var s,u,c=FF(r,a);if(o.merge)s=new GC(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){var l,f=[],h=Lh(o.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=BF(t,d,n);if(!a.contains(p))throw new qT(HT.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));qF(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new GC(f),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new _F(new II(c),s,u)}var CF=function(e){N(n,e);var t=D(n);function n(){return T(this,n),t.apply(this,arguments)}return I(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(gF);function IF(e,t,n){return new xF({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.It,t.ignoreUndefinedProperties)}var PF=function(e){N(n,e);var t=D(n);function n(){return T(this,n),t.apply(this,arguments)}return I(n,[{key:"_toFieldTransform",value:function(e){return new NP(e.path,new xP)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(gF),AF=function(e){N(n,e);var t=D(n);function n(e,r){var i;return T(this,n),(i=t.call(this,e))._a=r,i}return I(n,[{key:"_toFieldTransform",value:function(e){var t=IF(this,e,!0),n=this._a.map((function(e){return LF(e,t)})),r=new EP(n);return new NP(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(gF),NF=function(e){N(n,e);var t=D(n);function n(e,r){var i;return T(this,n),(i=t.call(this,e))._a=r,i}return I(n,[{key:"_toFieldTransform",value:function(e){var t=IF(this,e,!0),n=this._a.map((function(e){return LF(e,t)})),r=new TP(n);return new NP(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(gF),RF=function(e){N(n,e);var t=D(n);function n(e,r){var i;return T(this,n),(i=t.call(this,e)).wa=r,i}return I(n,[{key:"_toFieldTransform",value:function(e){var t=new IP(e.It,yP(e.It,this.wa));return new NP(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(gF);function OF(e,t,n,r){var i=e.da(1,t,n);zF("Data must be an object, but it was:",i,r);var o=[],a=II.empty();zC(r,(function(e,r){var s=UF(t,e,n);r=Bd(r);var u=i.ca(s);if(r instanceof CF)o.push(s);else{var c=LF(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new GC(o);return new wF(a,s,i.fieldTransforms)}function MF(e,t,n,r,i,o){var a=e.da(1,t,n),s=[BF(t,r,n)],u=[i];if(o.length%2!=0)throw new qT(HT.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<o.length;c+=2)s.push(BF(t,o[c])),u.push(o[c+1]);for(var l=[],f=II.empty(),h=s.length-1;h>=0;--h)if(!qF(l,s[h])){var d=s[h],p=u[h];p=Bd(p);var v=a.ca(d);if(p instanceof CF)l.push(d);else{var m=LF(p,v);null!=m&&(l.push(d),f.set(d,m))}}var g=new GC(l);return new wF(f,g,a.fieldTransforms)}function DF(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return LF(n,e.da(r?4:3,t))}function LF(e,t){if(jF(e=Bd(e)))return zF("Unsupported field value:",t,e),FF(e,t);if(e instanceof gF)return function(e,t){if(!kF(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,o=Lh(e);try{for(o.s();!(n=o.n()).done;){var a=LF(n.value,t.aa(i));null==a&&(a={nullValue:"NULL_VALUE"}),r.push(a),i++}}catch(s){o.e(s)}finally{o.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Bd(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return yP(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=oC.fromDate(e);return{timestampValue:SA(t.It,n)}}if(e instanceof oC){var r=new oC(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:SA(t.It,r)}}if(e instanceof yF)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof vF)return{bytesValue:TA(t.It,e._byteString)};if(e instanceof CL){var i=t.databaseId,o=e.firestore._databaseId;if(!o.isEqual(i))throw t.ha("Document reference is for database ".concat(o.projectId,"/").concat(o.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:PA(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(_L(e)))}(e,t)}function FF(e,t){var n={};return BC(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zC(e,(function(e,r){var i=LF(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function jF(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof oC||e instanceof yF||e instanceof vF||e instanceof CL||e instanceof gF)}function zF(e,t,n){if(!jF(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=_L(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function BF(e,t,n){if((t=Bd(t))instanceof mF)return t._internalPath;if("string"==typeof t)return UF(e,t);throw HF("Field path arguments must be of type string or ",e,!1,void 0,n)}var VF=new RegExp("[~\\*/\\[\\]]");function UF(e,t,n){if(t.search(VF)>=0)throw HF("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Fh(mF,S(t.split(".")))._internalPath}catch(r){throw HF("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function HF(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field ".concat(r)),a&&(u+=" in document ".concat(i)),u+=")"),new qT(HT.INVALID_ARGUMENT,s+e+u)}function qF(e,t){return e.some((function(e){return e.isEqual(t)}))}var WF=function(){function e(t,n,r,i,o){T(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}return I(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new CL(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new KF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(GF("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),KF=function(e){N(n,e);var t=D(n);function n(){return T(this,n),t.apply(this,arguments)}return I(n,[{key:"data",value:function(){return dv(R(n.prototype),"data",this).call(this)}}]),n}(WF);function GF(e,t){return"string"==typeof t?UF(e,t):t instanceof mF?t._internalPath:t._delegate._internalPath}function ZF(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new qT(HT.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var YF=I((function e(){T(this,e)}));function QF(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];e=a._apply(e)}return e}var $F=function(e){N(n,e);var t=D(n);function n(e,r,i){var o;return T(this,n),(o=t.call(this)).ma=e,o.ga=r,o.ya=i,o.type="where",o}return I(n,[{key:"_apply",value:function(e){var t=SF(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new qT(HT.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){uj(a,o);var u,c=[],l=Lh(a);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(sj(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=sj(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||uj(a,o),s=DF(n,"where",a,"in"===o||"not-in"===o);var h=zI.create(i,o,s);return function(e,t){if(t.dt()){var n=iP(e);if(null!==n&&!n.isEqual(t.field))throw new qT(HT.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=rP(e);null!==r&&cj(e,t.field,r)}var i=function(e,t){var n,r=Lh(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new qT(HT.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new qT(HT.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new IL(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new JI(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(YF);var XF=function(e){N(n,e);var t=D(n);function n(e,r){var i;return T(this,n),(i=t.call(this)).ma=e,i.pa=r,i.type="orderBy",i}return I(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new qT(HT.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new qT(HT.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new YI(t,n);return function(e,t){if(null===rP(e)){var n=iP(e);null!==n&&cj(e,n,t.field)}}(e,r),r}(e._query,this.ma,this.pa);return new IL(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new JI(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(YF);var JF=function(e){N(n,e);var t=D(n);function n(e,r,i){var o;return T(this,n),(o=t.call(this)).type=e,o.Ia=r,o.Ta=i,o}return I(n,[{key:"_apply",value:function(e){return new IL(e.firestore,e.converter,uP(e._query,this.Ia,this.Ta))}}]),n}(YF);var ej=function(e){N(n,e);var t=D(n);function n(e,r,i){var o;return T(this,n),(o=t.call(this)).type=e,o.Ea=r,o.Aa=i,o}return I(n,[{key:"_apply",value:function(e){var t=aj(e,this.type,this.Ea,this.Aa);return new IL(e.firestore,e.converter,function(e,t){return new JI(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(YF);function tj(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ej("startAt",t,!0)}function nj(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ej("startAfter",t,!1)}var rj=function(e){N(n,e);var t=D(n);function n(e,r,i){var o;return T(this,n),(o=t.call(this)).type=e,o.Ea=r,o.Aa=i,o}return I(n,[{key:"_apply",value:function(e){var t=aj(e,this.type,this.Ea,this.Aa);return new IL(e.firestore,e.converter,function(e,t){return new JI(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(YF);function ij(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new rj("endBefore",t,!1)}function oj(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new rj("endAt",t,!0)}function aj(e,t,n,r){if(n[0]=Bd(n[0]),n[0]instanceof WF)return function(e,t,n,r,i){if(!r)throw new qT(HT.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var o,a=[],s=Lh(aP(e));try{for(s.s();!(o=s.n()).done;){var u=o.value;if(u.field.isKeyField())a.push(mI(t,r.key));else{var c=r.data.field(u.field);if(JC(c))throw new qT(HT.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new qT(HT.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}a.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new ZI(a,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=SF(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new qT(HT.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new qT(HT.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!oP(e)&&-1!==c.indexOf("/"))throw new qT(HT.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(uC.fromString(c));if(!fC.isDocumentKey(l))throw new qT(HT.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new fC(l);s.push(mI(t,f))}else{var h=DF(n,r,c);s.push(h)}}return new ZI(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function sj(e,t,n){if("string"==typeof(n=Bd(n))){if(""===n)throw new qT(HT.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oP(t)&&-1!==n.indexOf("/"))throw new qT(HT.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(uC.fromString(n));if(!fC.isDocumentKey(r))throw new qT(HT.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return mI(e,new fC(r))}if(n instanceof CL)return mI(e,n._key);throw new qT(HT.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(_L(n),"."))}function uj(e,t){if(!Array.isArray(e)||0===e.length)throw new qT(HT.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new qT(HT.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function cj(e,t,n){if(!n.isEqual(t))throw new qT(HT.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var lj=function(){function e(){T(this,e)}return I(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(cI(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $C(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(XC(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw BT()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return zC(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new yF($C(e.latitude),$C(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=eI(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(tI(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=QC(e);return new oC(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=uC.fromString(e);VT(JA(n));var r=new rI(n.get(1),n.get(3)),i=new fC(n.popFirst(5));return r.isEqual(t)||FT("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function fj(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var hj=function(e){N(n,e);var t=D(n);function n(e){var r;return T(this,n),(r=t.call(this)).firestore=e,r}return I(n,[{key:"convertBytes",value:function(e){return new vF(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new CL(this.firestore,null,t)}}]),n}(lj),dj=function(){function e(t,n){T(this,e),this.hasPendingWrites=t,this.fromCache=n}return I(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),pj=function(e){N(n,e);var t=D(n);function n(e,r,i,o,a,s){var u;return T(this,n),(u=t.call(this,e,r,i,o,s))._firestore=e,u._firestoreImpl=e,u.metadata=a,u}return I(n,[{key:"exists",value:function(){return dv(R(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new vj(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(GF("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(WF),vj=function(e){N(n,e);var t=D(n);function n(){return T(this,n),t.apply(this,arguments)}return I(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return dv(R(n.prototype),"data",this).call(this,e)}}]),n}(pj),mj=function(){function e(t,n,r,i){T(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new dj(i.hasPendingWrites,i.fromCache),this.query=r}return I(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new vj(n._firestore,n._userDataWriter,r.key,r,new dj(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new qT(HT.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new vj(e._firestore,e._userDataWriter,t.doc.key,t.doc,new dj(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new vj(e._firestore,e._userDataWriter,t.doc.key,t.doc,new dj(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:gj(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function gj(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return BT()}}function yj(e,t){return e instanceof pj&&t instanceof pj?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof mj&&t instanceof mj&&e._firestore===t._firestore&&OL(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var bj=function(e){N(n,e);var t=D(n);function n(e){var r;return T(this,n),(r=t.call(this)).firestore=e,r}return I(n,[{key:"convertBytes",value:function(e){return new vF(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new CL(this.firestore,null,t)}}]),n}(lj);function _j(e){e=wL(e,CL);var t=wL(e.firestore,aF),n=sF(t),r=new bj(t);return function(e,t){var n=new WT;return e.asyncQueue.enqueueAndForget(y(m().mark((function r(){return m().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=y(m().mark((function e(t,n,r){var i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=UT(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new qT(HT.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),o=KM(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(o);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,YL(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new pj(t,r,e._key,n,new dj(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function wj(e){e=wL(e,IL);var t=wL(e.firestore,aF),n=sF(t),r=new bj(t);return function(e,t){var n=new WT;return e.asyncQueue.enqueueAndForget(y(m().mark((function r(){return m().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=y(m().mark((function e(t,n,r){var i,o,a,s,u;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,SO(t,n,!0);case 3:i=e.sent,o=new hD(n,i.Hi),a=o.Wu(i.documents),s=o.applyChanges(a,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=KM(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,YL(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new mj(t,r,e,n)}))}function kj(e,t,n){e=wL(e,CL);var r=wL(e.firestore,aF),i=fj(e.converter,t,n);return Tj(r,[TF(SF(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,OP.none())])}function xj(e,t,n){e=wL(e,CL);for(var r=wL(e.firestore,aF),i=SF(r),o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return Tj(r,[("string"==typeof(t=Bd(t))||t instanceof mF?MF(i,"updateDoc",e._key,t,n,a):OF(i,"updateDoc",e._key,t)).toMutation(e._key,OP.exists(!0))])}function Ej(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,a;e=Bd(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||iF(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(iF(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(o=d.error)||void 0===o?void 0:o.bind(d),n[u+2]=null===(a=d.complete)||void 0===a?void 0:a.bind(d)}if(e instanceof CL)l=wL(e.firestore,aF),f=tP(e._key.path),c={next:function(t){n[u]&&n[u](Cj(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=wL(e,IL);l=wL(p.firestore,aF),f=p._query;var v=new bj(l);c={next:function(e){n[u]&&n[u](new mj(l,v,p,e))},error:n[u+1],complete:n[u+2]},ZF(e._query)}return function(e,t,n,r){var i=new DL(r),o=new oD(t,i,n);return e.asyncQueue.enqueueAndForget(y(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=XM,t.next=3,JL(e);case 3:return t.t1=t.sent,t.t2=o,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(y(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=eD,t.next=3,JL(e);case 3:return t.t1=t.sent,t.t2=o,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(sF(l),f,h,c)}function Sj(e,t){return function(e,t){var n=new DL(t);return e.asyncQueue.enqueueAndForget(y(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){UT(e).Ru.add(t),t.next()},t.next=3,JL(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(y(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){UT(e).Ru.delete(t)},t.next=3,JL(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(sF(e=wL(e,aF)),iF(t)?t:{next:t})}function Tj(e,t){return function(e,t){var n=new WT;return e.asyncQueue.enqueueAndForget(y(m().mark((function r(){return m().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=kD,r.next=3,$L(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(sF(e),t)}function Cj(e,t,n){var r=n.docs.get(t._key),i=new bj(e);return new pj(e,i,t._key,r,new dj(n.hasPendingWrites,n.fromCache),t.converter)}var Ij={maxAttempts:5},Pj=function(){function e(t,n){T(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=SF(t)}return I(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=Aj(e,this._firestore),i=fj(r.converter,t,n),o=TF(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,OP.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=Aj(e,this._firestore),o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return r="string"==typeof(t=Bd(t))||t instanceof mF?MF(this._dataReader,"WriteBatch.update",i._key,t,n,a):OF(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,OP.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=Aj(e,this._firestore);return this._mutations=this._mutations.concat(new ZP(t._key,OP.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new qT(HT.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function Aj(e,t){if((e=Bd(e)).firestore!==t)throw new qT(HT.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Nj=function(e){N(n,e);var t=D(n);function n(e,r){var i;return T(this,n),(i=t.call(this,e,r))._firestore=e,i}return I(n,[{key:"get",value:function(e){var t=this,r=Aj(e,this._firestore),i=new bj(this._firestore);return dv(R(n.prototype),"get",this).call(this,e).then((function(e){return new pj(t._firestore,i,r._key,e._document,new dj(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){T(this,e),this._firestore=t,this._transaction=n,this._dataReader=SF(t)}return I(e,[{key:"get",value:function(e){var t=this,n=Aj(e,this._firestore),r=new hj(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return BT();var i=e[0];if(i.isFoundDocument())return new WF(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new WF(t._firestore,r,n._key,null,n.converter);throw BT()}))}},{key:"set",value:function(e,t,n){var r=Aj(e,this._firestore),i=fj(r.converter,t,n),o=TF(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}},{key:"update",value:function(e,t,n){for(var r,i=Aj(e,this._firestore),o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return r="string"==typeof(t=Bd(t))||t instanceof mF?MF(this._dataReader,"Transaction.update",i._key,t,n,a):OF(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=Aj(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Rj(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new AF("arrayUnion",t)}function Oj(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new NF("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){OT=e}(Dp),Ip(new Vd("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,o=e.getProvider("app").getImmediate(),a=new aF(new YT(e.getProvider("auth-internal")),new JT(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new qT(HT.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rI(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),Vp(NT,"3.7.3",e),Vp(NT,"3.7.3","esm2017")}();function Mj(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new qT("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function Dj(){if("undefined"===typeof Uint8Array)throw new qT("unimplemented","Uint8Arrays are not available in this environment.")}function Lj(){if("undefined"==typeof atob)throw new qT("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Fj=function(){function e(t){T(this,e),this._delegate=t}return I(e,[{key:"toBase64",value:function(){return Lj(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return Dj(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return Lj(),new e(vF.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return Dj(),new e(vF.fromUint8Array(t))}}]),e}();function jj(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Lh(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o in r&&"function"===typeof r[o])return!0}}catch(a){i.e(a)}finally{i.f()}return!1}(e,["next","error","complete"])}var zj=function(){function e(){T(this,e)}return I(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){pF(e=wL(e,aF));var n=sF(e),r=e._freezeSettings(),i=new vL;return cF(n,i,new dL(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){pF(e=wL(e,aF));var t=sF(e),n=e._freezeSettings(),r=new vL;return cF(t,r,new pL(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new qT(HT.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new WT;return e._queue.enqueueAndForgetEvenWhileRestricted(y(m().mark((function n(){return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=y(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(CC.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,CC.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(lO(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),Bj=function(){function e(t,n,r){var i=this;T(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof rI||(this._appCompat=t)}return I(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||jT("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};TL(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return lF(this._delegate)}},{key:"disableNetwork",value:function(){return fF(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&gL("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new WT;return e.asyncQueue.enqueueAndForget(y(m().mark((function n(){return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=OD,n.next=3,$L(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(sF(e=wL(e,aF)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Sj(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new qT("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new ez(this,AL(this._delegate,e))}catch(Gn){throw Kj(Gn,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new Wj(this,NL(this._delegate,e))}catch(Gn){throw Kj(Gn,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new $j(this,function(e,t){if(e=wL(e,SL),mL("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new qT(HT.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new IL(e,null,function(e){return new JI(uC.emptyPath(),e)}(t))}(this._delegate,e))}catch(Gn){throw Kj(Gn,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=wL(e,aF);var r=Object.assign(Object.assign({},Ij),n);return function(e){if(e.maxAttempts<1)throw new qT(HT.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new WT;return e.asyncQueue.enqueueAndForget(y(m().mark((function i(){var o;return m().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,XL(e);case 2:o=i.sent,new jL(e.asyncQueue,o,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(sF(e),(function(n){return t(new Nj(e,n))}),r)}(this._delegate,(function(n){return e(new Uj(t,n))}))}},{key:"batch",value:function(){var e=this;return sF(this._delegate),new Hj(new Pj(this._delegate,(function(t){return Tj(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return hF(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return dF(this._delegate,e).then((function(e){return e?new $j(t,e):null}))}}]),e}(),Vj=function(e){N(n,e);var t=D(n);function n(e){var r;return T(this,n),(r=t.call(this)).firestore=e,r}return I(n,[{key:"convertBytes",value:function(e){return new Fj(new vF(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Wj.forKey(t,this.firestore,null)}}]),n}(lj);var Uj=function(){function e(t,n){T(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new Vj(t)}return I(e,[{key:"get",value:function(e){var t=this,n=tz(e);return this._delegate.get(n).then((function(e){return new Yj(t._firestore,new pj(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=tz(e);return n?(Mj("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];var a,s=tz(e);2===arguments.length?this._delegate.update(s,t):(a=this._delegate).update.apply(a,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=tz(e);return this._delegate.delete(t),this}}]),e}(),Hj=function(){function e(t){T(this,e),this._delegate=t}return I(e,[{key:"set",value:function(e,t,n){var r=tz(e);return n?(Mj("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];var a,s=tz(e);2===arguments.length?this._delegate.update(s,t):(a=this._delegate).update.apply(a,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=tz(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),qj=function(){function e(t,n,r){T(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return I(e,[{key:"fromFirestore",value:function(e,t){var n=new vj(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Qj(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Vj(t),n),i.set(n,o)),o}}]),e}();qj.INSTANCES=new WeakMap;var Wj=function(){function e(t,n){T(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Vj(t)}return I(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new ez(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new ez(this.firestore,AL(this._delegate,e))}catch(Gn){throw Kj(Gn,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Bd(e))instanceof CL&&RL(this._delegate,e)}},{key:"set",value:function(e,t){t=Mj("DocumentReference.set",t);try{return t?kj(this._delegate,e,t):kj(this._delegate,e)}catch(Gn){throw Kj(Gn,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?xj(this._delegate,e):xj.apply(void 0,[this._delegate,e,t].concat(r))}catch(Gn){throw Kj(Gn,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return Tj(wL(e.firestore,aF),[new ZP(e._key,OP.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Gj(n),o=Zj(n,(function(t){return new Yj(e.firestore,new pj(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Ej(this._delegate,i,o)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?_j(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=wL(e,CL);var t=wL(e.firestore,aF);return tF(sF(t),e._key,{source:"server"}).then((function(n){return Cj(t,e,n)}))}(this._delegate):function(e){e=wL(e,CL);var t=wL(e.firestore,aF);return tF(sF(t),e._key).then((function(n){return Cj(t,e,n)}))}(this._delegate),t.then((function(e){return new Yj(n.firestore,new pj(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(qj.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new qT("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new CL(n._delegate,r,new fC(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new CL(n._delegate,r,t))}}]),e}();function Kj(e,t,n){return e.message=e.message.replace(t,n),e}function Gj(e){var t,n=Lh(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!jj(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function Zj(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=jj(e[0])?e[0]:jj(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Yj=function(){function e(t,n){T(this,e),this._firestore=t,this._delegate=n}return I(e,[{key:"ref",get:function(){return new Wj(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return yj(this._delegate,e._delegate)}}]),e}(),Qj=function(e){N(n,e);var t=D(n);function n(){return T(this,n),t.apply(this,arguments)}return I(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||BT()}(void 0!==t),t}}]),n}(Yj),$j=function(){function e(t,n){T(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Vj(t)}return I(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,QF(this._delegate,function(e,t,n){var r=t,i=GF("where",e);return new $F(i,r,n)}(t,n,r)))}catch(Gn){throw Kj(Gn,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,QF(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=GF("orderBy",e);return new XF(n,t)}(t,n)))}catch(Gn){throw Kj(Gn,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,QF(this._delegate,function(e){return kL("limit",e),new JF("limit",e,"F")}(t)))}catch(Gn){throw Kj(Gn,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,QF(this._delegate,function(e){return kL("limitToLast",e),new JF("limitToLast",e,"L")}(t)))}catch(Gn){throw Kj(Gn,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,QF(this._delegate,tj.apply(void 0,arguments)))}catch(Gn){throw Kj(Gn,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,QF(this._delegate,nj.apply(void 0,arguments)))}catch(Gn){throw Kj(Gn,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,QF(this._delegate,ij.apply(void 0,arguments)))}catch(Gn){throw Kj(Gn,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,QF(this._delegate,oj.apply(void 0,arguments)))}catch(Gn){throw Kj(Gn,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return OL(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?wj(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=wL(e,IL);var t=wL(e.firestore,aF),n=sF(t),r=new bj(t);return nF(n,e._query,{source:"server"}).then((function(n){return new mj(t,r,e,n)}))}(this._delegate):function(e){e=wL(e,IL);var t=wL(e.firestore,aF),n=sF(t),r=new bj(t);return ZF(e._query),nF(n,e._query).then((function(n){return new mj(t,r,e,n)}))}(this._delegate),t.then((function(e){return new Jj(n.firestore,new mj(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Gj(n),o=Zj(n,(function(t){return new Jj(e.firestore,new mj(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Ej(this._delegate,i,o)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(qj.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),Xj=function(){function e(t,n){T(this,e),this._firestore=t,this._delegate=n}return I(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new Qj(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),Jj=function(){function e(t,n){T(this,e),this._firestore=t,this._delegate=n}return I(e,[{key:"query",get:function(){return new $j(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new Qj(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Xj(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Qj(n._firestore,r))}))}},{key:"isEqual",value:function(e){return yj(this._delegate,e._delegate)}}]),e}(),ez=function(e){N(n,e);var t=D(n);function n(e,r){var i;return T(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return I(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new Wj(this.firestore,e):null}},{key:"doc",value:function(e){try{return new Wj(this.firestore,void 0===e?NL(this._delegate):NL(this._delegate,e))}catch(Gn){throw Kj(Gn,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=wL(e.firestore,aF),r=NL(e),i=fj(e.converter,t);return Tj(n,[TF(SF(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,OP.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new Wj(t.firestore,e)}))}},{key:"isEqual",value:function(e){return RL(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(qj.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}($j);function tz(e){return wL(e,CL)}var nz=function(){function e(){T(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Fh(mF,n)}return I(e,[{key:"isEqual",value:function(e){return(e=Bd(e))instanceof mF&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(lC.keyField().canonicalString())}}]),e}(),rz=function(){function e(t){T(this,e),this._delegate=t}return I(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new PF("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new CF("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=Rj.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=Oj.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new RF("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),iz={Firestore:Bj,GeoPoint:yF,Timestamp:oC,Blob:Fj,Transaction:Uj,WriteBatch:Hj,DocumentReference:Wj,DocumentSnapshot:Yj,Query:$j,QueryDocumentSnapshot:Qj,QuerySnapshot:Jj,CollectionReference:ez,FieldPath:nz,FieldValue:rz,setLogLevel:function(e){!function(e){MT.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Vd("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},iz)))}(e,(function(e,t){return new Bj(e,t,new zj)})),e.registerVersion("@firebase/firestore-compat","0.2.3")}(fv);var oz=fv.initializeApp({apiKey:"AIzaSyDsppWPhBpWZGJnDB_56bpaXc5zTzSB5oI",authDomain:"mapty-ebde9.firebaseapp.com",projectId:"mapty-ebde9",storageBucket:"mapty-ebde9.appspot.com",messagingSenderId:"69104819061",appId:"1:69104819061:web:f644f35a118d14a47cd13c"}),az=oz.auth(),sz=oz.firestore(),uz=n(184),cz=t.createContext();function lz(){return(0,t.useContext)(cz)}function fz(e){var n=e.children,r=c((0,t.useState)(),2),i=r[0],o=r[1];(0,t.useEffect)((function(){return az.onAuthStateChanged((function(e){o(e)}))}),[]);var a={currentUser:i,login:function(e,t){return az.signInWithEmailAndPassword(e,t)},signup:function(e,t,n){az.createUserWithEmailAndPassword(e,t).then(function(){var e=y(m().mark((function e(t){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=NL(sz,"users",t.user.uid),e.next=3,kj(r,{userName:n});case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},logout:function(){return az.signOut()}};return(0,uz.jsx)(cz.Provider,{value:a,children:n})}function hz(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=hz(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var dz=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=hz(e))&&(r&&(r+=" "),r+=t);return r},pz=["theme","type"],vz=["delay","staleId"],mz=function(e){return"number"==typeof e&&!isNaN(e)},gz=function(e){return"string"==typeof e},yz=function(e){return"function"==typeof e},bz=function(e){return gz(e)||yz(e)?e:null},_z=function(e){return(0,t.isValidElement)(e)||gz(e)||yz(e)||mz(e)};function wz(e){var n=e.enter,r=e.exit,i=e.appendPosition,o=void 0!==i&&i,a=e.collapse,s=void 0===a||a,u=e.collapseDuration,c=void 0===u?300:u;return function(e){var i=e.children,a=e.position,u=e.preventExitTransition,l=e.done,f=e.nodeRef,h=e.isIn,d=o?"".concat(n,"--").concat(a):n,p=o?"".concat(r,"--").concat(a):r,v=(0,t.useRef)(0);return(0,t.useLayoutEffect)((function(){var e,t=f.current,n=d.split(" "),r=function e(r){var i;r.target===f.current&&(t.dispatchEvent(new Event("d")),t.removeEventListener("animationend",e),t.removeEventListener("animationcancel",e),0===v.current&&"animationcancel"!==r.type&&(i=t.classList).remove.apply(i,S(n)))};(e=t.classList).add.apply(e,S(n)),t.addEventListener("animationend",r),t.addEventListener("animationcancel",r)}),[]),(0,t.useEffect)((function(){var e=f.current,t=function t(){e.removeEventListener("animationend",t),s?function(e,t,n){void 0===n&&(n=300);var r=e.scrollHeight,i=e.style;requestAnimationFrame((function(){i.minHeight="initial",i.height=r+"px",i.transition="all ".concat(n,"ms"),requestAnimationFrame((function(){i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,l,c):l()};h||(u?t():(v.current=1,e.className+=" ".concat(p),e.addEventListener("animationend",t)))}),[h]),t.createElement(t.Fragment,null,i)}}function kz(e,t){return{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}}var xz={list:new Map,emitQueue:new Map,on:function(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off:function(e,t){if(t){var n=this.list.get(e).filter((function(e){return e!==t}));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit:function(e){var t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit:function(e){var t=arguments,n=this;this.list.has(e)&&this.list.get(e).forEach((function(r){var i=setTimeout((function(){r.apply(void 0,S([].slice.call(t,1)))}),0);n.emitQueue.has(e)||n.emitQueue.set(e,[]),n.emitQueue.get(e).push(i)}))}},Ez=function(e){var n=e.theme,r=e.type,i=_(e,pz);return t.createElement("svg",x({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===n?"currentColor":"var(--toastify-icon-color-".concat(r,")")},i))},Sz={info:function(e){return t.createElement(Ez,x({},e),t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return t.createElement(Ez,x({},e),t.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return t.createElement(Ez,x({},e),t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return t.createElement(Ez,x({},e),t.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return t.createElement("div",{className:"Toastify__spinner"})}};function Tz(e){var n=(0,t.useReducer)((function(e){return e+1}),0),r=c(n,2)[1],i=c((0,t.useState)([]),2),o=i[0],a=i[1],s=(0,t.useRef)(null),u=(0,t.useRef)(new Map).current,l=function(e){return-1!==o.indexOf(e)},f=(0,t.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:l,getToast:function(e){return u.get(e)}}).current;function h(e){var t=e.containerId;!f.props.limit||t&&f.containerId!==t||(f.count-=f.queue.length,f.queue=[])}function d(e){a((function(t){return null==e?[]:t.filter((function(t){return t!==e}))}))}function p(){var e=f.queue.shift();m(e.toastContent,e.toastProps,e.staleId)}function v(e,n){var i=n.delay,o=n.staleId,a=_(n,vz);if(_z(e)&&!function(e){return!s.current||f.props.enableMultiContainer&&e.containerId!==f.props.containerId||u.has(e.toastId)&&null==e.updateId}(a)){var c=a.toastId,l=a.updateId,h=a.data,v=f.props,g=function(){return d(c)},y=null==l;y&&f.count++;var b,w,k=x(x(x({},v),{},{style:v.toastStyle,key:f.toastKey++},a),{},{toastId:c,updateId:l,data:h,closeToast:g,isIn:!1,className:bz(a.className||v.toastClassName),bodyClassName:bz(a.bodyClassName||v.bodyClassName),progressClassName:bz(a.progressClassName||v.progressClassName),autoClose:!a.isLoading&&(b=a.autoClose,w=v.autoClose,!1===b||mz(b)&&b>0?b:w),deleteToast:function(){var e=kz(u.get(c),"removed");u.delete(c),xz.emit(4,e);var t=f.queue.length;if(f.count=null==c?f.count-f.displayedToast:f.count-1,f.count<0&&(f.count=0),t>0){var n=null==c?f.props.limit:1;if(1===t||1===n)f.displayedToast++,p();else{var i=n>t?t:n;f.displayedToast=i;for(var o=0;o<i;o++)p()}}else r()}});k.iconOut=function(e){var n=e.theme,r=e.type,i=e.isLoading,o=e.icon,a=null,s={theme:n,type:r};return!1===o||(yz(o)?a=o(s):(0,t.isValidElement)(o)?a=(0,t.cloneElement)(o,s):gz(o)||mz(o)?a=o:i?a=Sz.spinner():function(e){return e in Sz}(r)&&(a=Sz[r](s))),a}(k),yz(a.onOpen)&&(k.onOpen=a.onOpen),yz(a.onClose)&&(k.onClose=a.onClose),k.closeButton=v.closeButton,!1===a.closeButton||_z(a.closeButton)?k.closeButton=a.closeButton:!0===a.closeButton&&(k.closeButton=!_z(v.closeButton)||v.closeButton);var E=e;(0,t.isValidElement)(e)&&!gz(e.type)?E=(0,t.cloneElement)(e,{closeToast:g,toastProps:k,data:h}):yz(e)&&(E=e({closeToast:g,toastProps:k,data:h})),v.limit&&v.limit>0&&f.count>v.limit&&y?f.queue.push({toastContent:E,toastProps:k,staleId:o}):mz(i)?setTimeout((function(){m(E,k,o)}),i):m(E,k,o)}}function m(e,t,n){var r=t.toastId;n&&u.delete(n);var i={content:e,props:t};u.set(r,i),a((function(e){return[].concat(S(e),[r]).filter((function(e){return e!==n}))})),xz.emit(4,kz(i,null==i.props.updateId?"added":"updated"))}return(0,t.useEffect)((function(){return f.containerId=e.containerId,xz.cancelEmit(3).on(0,v).on(1,(function(e){return s.current&&d(e)})).on(5,h).emit(2,f),function(){u.clear(),xz.emit(3,f)}}),[]),(0,t.useEffect)((function(){f.props=e,f.isToastActive=l,f.displayedToast=o.length})),{getToastToRender:function(t){var n=new Map,r=Array.from(u.values());return e.newestOnTop&&r.reverse(),r.forEach((function(e){var t=e.props.position;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(function(e){return t(e[0],e[1])}))},containerRef:s,isToastActive:l}}function Cz(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function Iz(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function Pz(e){var n=e.closeToast,r=e.theme,i=e.ariaLabel,o=void 0===i?"close":i;return t.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(r),type:"button",onClick:function(e){e.stopPropagation(),n(e)},"aria-label":o},t.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},t.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Az(e){var n=e.delay,r=e.isRunning,i=e.closeToast,o=e.type,a=void 0===o?"default":o,s=e.hide,u=e.className,c=e.style,l=e.controlledProgress,f=e.progress,h=e.rtl,d=e.isIn,p=e.theme,v=s||l&&0===f,m=x(x({},c),{},{animationDuration:"".concat(n,"ms"),animationPlayState:r?"running":"paused",opacity:v?0:1});l&&(m.transform="scaleX(".concat(f,")"));var g=dz("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(p),"Toastify__progress-bar--".concat(a),{"Toastify__progress-bar--rtl":h}),y=yz(u)?u({rtl:h,type:a,defaultClassName:g}):dz(g,u);return t.createElement("div",w({role:"progressbar","aria-hidden":v?"true":"false","aria-label":"notification timer",className:y,style:m},l&&f>=1?"onTransitionEnd":"onAnimationEnd",l&&f<1?null:function(){d&&i()}))}var Nz=function(e){var n=function(e){var n=c((0,t.useState)(!1),2),r=n[0],i=n[1],o=c((0,t.useState)(!1),2),a=o[0],s=o[1],u=(0,t.useRef)(null),l=(0,t.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,f=(0,t.useRef)(e),h=e.autoClose,d=e.pauseOnHover,p=e.closeToast,v=e.onClick,m=e.closeOnClick;function g(t){if(e.draggable){"touchstart"===t.nativeEvent.type&&t.nativeEvent.preventDefault(),l.didMove=!1,document.addEventListener("mousemove",w),document.addEventListener("mouseup",k),document.addEventListener("touchmove",w),document.addEventListener("touchend",k);var n=u.current;l.canCloseOnClick=!0,l.canDrag=!0,l.boundingRect=n.getBoundingClientRect(),n.style.transition="",l.x=Cz(t.nativeEvent),l.y=Iz(t.nativeEvent),"x"===e.draggableDirection?(l.start=l.x,l.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(l.start=l.y,l.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function y(t){if(l.boundingRect){var n=l.boundingRect,r=n.top,i=n.bottom,o=n.left,a=n.right;"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&l.x>=o&&l.x<=a&&l.y>=r&&l.y<=i?_():b()}}function b(){i(!0)}function _(){i(!1)}function w(t){var n=u.current;l.canDrag&&n&&(l.didMove=!0,r&&_(),l.x=Cz(t),l.y=Iz(t),l.delta="x"===e.draggableDirection?l.x-l.start:l.y-l.start,l.start!==l.x&&(l.canCloseOnClick=!1),n.style.transform="translate".concat(e.draggableDirection,"(").concat(l.delta,"px)"),n.style.opacity=""+(1-Math.abs(l.delta/l.removalDistance)))}function k(){document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",k),document.removeEventListener("touchmove",w),document.removeEventListener("touchend",k);var t=u.current;if(l.canDrag&&l.didMove&&t){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance)return s(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform="translate".concat(e.draggableDirection,"(0)"),t.style.opacity="1"}}(0,t.useEffect)((function(){f.current=e})),(0,t.useEffect)((function(){return u.current&&u.current.addEventListener("d",b,{once:!0}),yz(e.onOpen)&&e.onOpen((0,t.isValidElement)(e.children)&&e.children.props),function(){var e=f.current;yz(e.onClose)&&e.onClose((0,t.isValidElement)(e.children)&&e.children.props)}}),[]),(0,t.useEffect)((function(){return e.pauseOnFocusLoss&&(document.hasFocus()||_(),window.addEventListener("focus",b),window.addEventListener("blur",_)),function(){e.pauseOnFocusLoss&&(window.removeEventListener("focus",b),window.removeEventListener("blur",_))}}),[e.pauseOnFocusLoss]);var x={onMouseDown:g,onTouchStart:g,onMouseUp:y,onTouchEnd:y};return h&&d&&(x.onMouseEnter=_,x.onMouseLeave=b),m&&(x.onClick=function(e){v&&v(e),l.canCloseOnClick&&p()}),{playToast:b,pauseToast:_,isRunning:r,preventExitTransition:a,toastRef:u,eventHandlers:x}}(e),r=n.isRunning,i=n.preventExitTransition,o=n.toastRef,a=n.eventHandlers,s=e.closeButton,u=e.children,l=e.autoClose,f=e.onClick,h=e.type,d=e.hideProgressBar,p=e.closeToast,v=e.transition,m=e.position,g=e.className,y=e.style,b=e.bodyClassName,_=e.bodyStyle,w=e.progressClassName,k=e.progressStyle,E=e.updateId,S=e.role,T=e.progress,C=e.rtl,I=e.toastId,P=e.deleteToast,A=e.isIn,N=e.isLoading,R=e.iconOut,O=e.closeOnClick,M=e.theme,D=dz("Toastify__toast","Toastify__toast-theme--".concat(M),"Toastify__toast--".concat(h),{"Toastify__toast--rtl":C},{"Toastify__toast--close-on-click":O}),L=yz(g)?g({rtl:C,position:m,type:h,defaultClassName:D}):dz(D,g),F=!!T||!l,j={closeToast:p,type:h,theme:M},z=null;return!1===s||(z=yz(s)?s(j):(0,t.isValidElement)(s)?(0,t.cloneElement)(s,j):Pz(j)),t.createElement(v,{isIn:A,done:P,position:m,preventExitTransition:i,nodeRef:o},t.createElement("div",x(x({id:I,onClick:f,className:L},a),{},{style:y,ref:o}),t.createElement("div",x(x({},A&&{role:S}),{},{className:yz(b)?b({type:h}):dz("Toastify__toast-body",b),style:_}),null!=R&&t.createElement("div",{className:dz("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!N})},R),t.createElement("div",null,u)),z,t.createElement(Az,x(x({},E&&!F?{key:"pb-".concat(E)}:{}),{},{rtl:C,theme:M,delay:l,isRunning:r,isIn:A,closeToast:p,hide:d,type:h,style:k,className:w,controlledProgress:F,progress:T||0}))))},Rz=function(e,t){return void 0===t&&(t=!1),{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},Oz=wz(Rz("bounce",!0)),Mz=(wz(Rz("slide",!0)),wz(Rz("zoom")),wz(Rz("flip")),(0,t.forwardRef)((function(e,n){var r=Tz(e),i=r.getToastToRender,o=r.containerRef,a=r.isToastActive,s=e.className,u=e.style,c=e.rtl,l=e.containerId;function f(e){var t=dz("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":c});return yz(s)?s({position:e,rtl:c,defaultClassName:t}):dz(t,bz(s))}return(0,t.useEffect)((function(){n&&(n.current=o.current)}),[]),t.createElement("div",{ref:o,className:"Toastify",id:l},i((function(e,n){var r=n.length?x({},u):x(x({},u),{},{pointerEvents:"none"});return t.createElement("div",{className:f(e),style:r,key:"container-".concat(e)},n.map((function(e,r){var i=e.content,o=e.props;return t.createElement(Nz,x(x({},o),{},{isIn:a(o.toastId),style:x(x({},o.style),{},{"--nth":r+1,"--len":n.length}),key:"toast-".concat(o.key)}),i)})))})))})));Mz.displayName="ToastContainer",Mz.defaultProps={position:"top-right",transition:Oz,autoClose:5e3,closeButton:Pz,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};var Dz,Lz=new Map,Fz=[],jz=1;function zz(){return""+jz++}function Bz(e){return e&&(gz(e.toastId)||mz(e.toastId))?e.toastId:zz()}function Vz(e,t){return Lz.size>0?xz.emit(0,e,t):Fz.push({content:e,options:t}),t.toastId}function Uz(e,t){return x(x({},t),{},{type:t&&t.type||e,toastId:Bz(t)})}function Hz(e){return function(t,n){return Vz(t,Uz(e,n))}}function qz(e,t){return Vz(e,Uz("default",t))}qz.loading=function(e,t){return Vz(e,Uz("default",x({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)))},qz.promise=function(e,t,n){var r,i=t.pending,o=t.error,a=t.success;i&&(r=gz(i)?qz.loading(i,n):qz.loading(i.render,x(x({},n),i)));var s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null,delay:100},u=function(e,t,i){if(null!=t){var o=x(x(x({type:e},s),n),{},{data:i}),a=gz(t)?{render:t}:t;return r?qz.update(r,x(x({},o),a)):qz(a.render,x(x({},o),a)),i}qz.dismiss(r)},c=yz(e)?e():e;return c.then((function(e){return u("success",a,e)})).catch((function(e){return u("error",o,e)})),c},qz.success=Hz("success"),qz.info=Hz("info"),qz.error=Hz("error"),qz.warning=Hz("warning"),qz.warn=qz.warning,qz.dark=function(e,t){return Vz(e,Uz("default",x({theme:"dark"},t)))},qz.dismiss=function(e){Lz.size>0?xz.emit(1,e):Fz=Fz.filter((function(t){return null!=e&&t.options.toastId!==e}))},qz.clearWaitingQueue=function(e){return void 0===e&&(e={}),xz.emit(5,e)},qz.isActive=function(e){var t=!1;return Lz.forEach((function(n){n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},qz.update=function(e,t){void 0===t&&(t={}),setTimeout((function(){var n=function(e,t){var n=t.containerId,r=Lz.get(n||Dz);return r&&r.getToast(e)}(e,t);if(n){var r=n.props,i=n.content,o=x(x(x({},r),t),{},{toastId:t.toastId||e,updateId:zz()});o.toastId!==e&&(o.staleId=e);var a=o.render||i;delete o.render,Vz(a,o)}}),0)},qz.done=function(e){qz.update(e,{progress:1})},qz.onChange=function(e){return xz.on(4,e),function(){xz.off(4,e)}},qz.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},qz.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},xz.on(2,(function(e){Dz=e.containerId||e,Lz.set(Dz,e),Fz.forEach((function(e){xz.emit(0,e.content,e.options)})),Fz=[]})).on(3,(function(e){Lz.delete(e.containerId||e),0===Lz.size&&xz.off(0).off(1).off(5)}));var Wz,Kz=function(e){var t=e.setIsAuth,n=lz().signup,r=function(){var e=y(m().mark((function e(r){var i,o,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.email,o=r.password,a=r.userName,e.prev=1,e.next=4,n(i,o,a);case 4:qz.success("Account Successfully Registered",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}),t(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),qz.error("User Already Exist!",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return(0,uz.jsxs)(uz.Fragment,{children:[(0,uz.jsxs)(yl,{name:"basic",initialValues:{remember:!0},onFinish:r,onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",className:"p-5 text-white",children:[(0,uz.jsx)("form-label",{children:"Email"}),(0,uz.jsx)(yl.Item,{className:"mb-3 ",name:"email",rules:[{required:!0,message:"Please enter your Email!"},{type:"email"}],hasFeedback:!0,children:(0,uz.jsx)(Dh,{className:p})}),(0,uz.jsx)("form-label",{children:"User Name"}),(0,uz.jsx)(yl.Item,{className:"mb-3 ",name:"userName",rules:[{required:!0,message:"Please enter your userName!"}],hasFeedback:!0,children:(0,uz.jsx)(Dh,{className:p})}),(0,uz.jsx)("form-label",{children:"Password"}),(0,uz.jsx)(yl.Item,{className:"mb-3",name:"password",rules:[{required:!0,message:"Please enter your password!"},{min:8,message:"min length is 8"}],hasFeedback:!0,children:(0,uz.jsx)(Dh.Password,{className:p})}),(0,uz.jsx)("form-label",{children:"Confirm Password"}),(0,uz.jsx)(yl.Item,{className:"mb-5",name:"confirmPassword",rules:[{required:!0},function(e){var t=e.getFieldValue;return{validator:function(e,n){return n&&t("password")!==n?Promise.reject("The two passwords that you entered does not match."):Promise.resolve()}}}],hasFeedback:!0,children:(0,uz.jsx)(Dh.Password,{className:p})}),(0,uz.jsx)(yl.Item,{className:"text-center",children:(0,uz.jsx)("button",{type:"submit",className:"green fw-bold btn text-white  w-100",children:"Sign up"})})]}),(0,uz.jsx)(Mz,{limit:2})]})},Gz=function(e){var t=e.setIsAuth,n=lz().login,r=function(){var e=y(m().mark((function e(r){var i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.email,o=r.password,e.prev=1,e.next=4,n(i,o);case 4:t(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),qz.error("Invliad Email or Password!",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return(0,uz.jsxs)(uz.Fragment,{children:[(0,uz.jsxs)(yl,{name:"basic",initialValues:{remember:!0},onFinish:r,onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",className:"p-5 text-white",children:[(0,uz.jsx)("form-label",{children:"Email"}),(0,uz.jsx)(yl.Item,{className:"mb-3 ",name:"email",rules:[{required:!0,message:"Please enter your Email!"},{type:"email"}],hasFeedback:!0,children:(0,uz.jsx)(Dh,{className:p})}),(0,uz.jsx)("form-label",{children:"Password"}),(0,uz.jsx)(yl.Item,{className:"mb-5",name:"password",rules:[{required:!0,message:"Please enter your password!"}],hasFeedback:!0,children:(0,uz.jsx)(Dh.Password,{className:p})}),(0,uz.jsx)(yl.Item,{className:"text-center",children:(0,uz.jsx)("button",{type:"submit",className:"green fw-bold btn text-white  w-100",children:"Log in"})})]}),(0,uz.jsx)(Mz,{limit:2})]})},Zz=function(e){var n=e.setIsAuth,r=c((0,t.useState)("login"),2),i=r[0],o=r[1],a=function(e){o(e.target.value)};return(0,uz.jsx)("section",{className:"".concat(l," vh-100 text-white d-flex align-items-center justify-content-center"),children:(0,uz.jsxs)("div",{className:"".concat(f," shadow "),children:[(0,uz.jsxs)("div",{className:"".concat(h," mb-2"),children:[(0,uz.jsx)("button",{className:"login"==i?d:"",onClick:a,value:"login",children:"Log in"}),(0,uz.jsx)("button",{className:"signup"==i?d:"",onClick:a,value:"signup",children:"Sign up"})]}),"login"==i&&(0,uz.jsx)(Gz,{setIsAuth:n}),"signup"==i&&(0,uz.jsx)(Kz,{setIsAuth:n})]})})};function Yz(){return Yz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yz.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(Wz||(Wz={}));var Qz,$z="popstate";function Xz(e){return{usr:e.state,key:e.key}}function Jz(e,t,n,r){return void 0===n&&(n=null),Yz({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?tB(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function eB(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,o=e.hash,a=void 0===o?"":o;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function tB(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function nB(e){var t="undefined"!==typeof window&&"undefined"!==typeof window.location&&"null"!==window.location.origin?window.location.origin:"unknown://unknown",n="string"===typeof e?e:eB(e);return new URL(n,t)}function rB(e,t,n,r){void 0===r&&(r={});var i=r,o=i.window,a=void 0===o?document.defaultView:o,s=i.v5Compat,u=void 0!==s&&s,c=a.history,l=Wz.Pop,f=null;function h(){l=Wz.Pop,f&&f({action:l,location:d.location})}var d={get action(){return l},get location(){return e(a,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener($z,h),f=e,function(){a.removeEventListener($z,h),f=null}},createHref:function(e){return t(a,e)},encodeLocation:function(e){var t=nB(eB(e));return Yz({},e,{pathname:t.pathname,search:t.search,hash:t.hash})},push:function(e,t){l=Wz.Push;var r=Jz(d.location,e,t);n&&n(r,e);var i=Xz(r),o=d.createHref(r);try{c.pushState(i,"",o)}catch(qW){a.location.assign(o)}u&&f&&f({action:l,location:d.location})},replace:function(e,t){l=Wz.Replace;var r=Jz(d.location,e,t);n&&n(r,e);var i=Xz(r),o=d.createHref(r);c.replaceState(i,"",o),u&&f&&f({action:l,location:d.location})},go:function(e){return c.go(e)}};return d}function iB(e,t,n){void 0===n&&(n="/");var r=hB(("string"===typeof t?tB(t):t).pathname||"/",n);if(null==r)return null;var i=oB(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var o=null,a=0;null==o&&a<i.length;++a)o=cB(i[a],fB(r));return o}function oB(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var o={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(dB(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var a=vB([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(dB(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),oB(e.children,t,s,a)),(null!=e.path||e.index)&&t.push({path:a,score:uB(a,e.index),routesMeta:s})})),t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(Qz||(Qz={}));var aB=/^:\w+$/,sB=function(e){return"*"===e};function uB(e,t){var n=e.split("/"),r=n.length;return n.some(sB)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!sB(e)})).reduce((function(e,t){return e+(aB.test(t)?3:""===t?1:10)}),r)}function cB(e,t){for(var n=e.routesMeta,r={},i="/",o=[],a=0;a<n.length;++a){var s=n[a],u=a===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=lB({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;o.push({params:r,pathname:vB([i,l.pathname]),pathnameBase:mB(vB([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=vB([i,l.pathnameBase]))}return o}function lB(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);pB("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],o=r[1],a=t.match(i);if(!a)return null;var s=a[0],u=s.replace(/(.)\/+$/,"$1"),l=a.slice(1),f=o.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(qW){return pB(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+qW+")."),e}}(l[n]||"",t),e}),{});return{params:f,pathname:s,pathnameBase:u,pattern:e}}function fB(e){try{return decodeURI(e)}catch(qW){return pB(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+qW+")."),e}}function hB(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function dB(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function pB(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Gn){}}}var vB=function(e){return e.join("/").replace(/\/\/+/g,"/")},mB=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},gB=function(e){N(n,e);var t=D(n);function n(){return T(this,n),t.apply(this,arguments)}return I(n)}(jh(Error));var yB=I((function e(t,n,r){T(this,e),this.status=t,this.statusText=n||"",this.data=r}));function bB(e){return e instanceof yB}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var _B=new Set(["POST","PUT","PATCH","DELETE"]);new Set(["GET","HEAD"].concat(S(_B)));function wB(){return wB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wB.apply(this,arguments)}var kB="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},xB=t.useState,EB=t.useEffect,SB=t.useLayoutEffect,TB=t.useDebugValue;function CB(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!kB(n,r)}catch(qW){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,r.useSyncExternalStore;var IB=t.createContext(null);var PB=t.createContext(null);var AB=t.createContext(null);var NB=t.createContext(null);var RB=t.createContext(null);var OB=t.createContext(null);var MB=t.createContext({outlet:null,matches:[]});var DB=t.createContext(null);function LB(){return null!=t.useContext(OB)}function FB(){return LB()||dB(!1),t.useContext(OB).location}function jB(){var e=function(){var e,n=t.useContext(DB),r=qB(BB.UseRouteError),i=t.useContext(MB),o=i.matches[i.matches.length-1];if(n)return n;return i||dB(!1),!o.route.id&&dB(!1),null==(e=r.errors)?void 0:e[o.route.id]}(),n=bB(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unhandled Thrown Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:o},r):null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",t.createElement("code",{style:a},"errorElement")," props on\xa0",t.createElement("code",{style:a},"<Route>")))}var zB,BB,VB=function(e){N(r,e);var n=D(r);function r(e){var t;return T(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return I(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(DB.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(t.Component);function UB(e){var n=e.routeContext,r=e.match,i=e.children,o=t.useContext(IB);return o&&r.route.errorElement&&(o._deepestRenderedBoundaryId=r.route.id),t.createElement(MB.Provider,{value:n},i)}function HB(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}var i=e,o=null==r?void 0:r.errors;if(null!=o){var a=i.findIndex((function(e){return e.route.id&&(null==o?void 0:o[e.route.id])}));a>=0||dB(!1),i=i.slice(0,Math.min(i.length,a+1))}return i.reduceRight((function(e,a,s){var u=a.route.id?null==o?void 0:o[a.route.id]:null,c=r?a.route.errorElement||t.createElement(jB,null):null,l=function(){return t.createElement(UB,{match:a,routeContext:{outlet:e,matches:n.concat(i.slice(0,s+1))}},u?c:void 0!==a.route.element?a.route.element:e)};return r&&(a.route.errorElement||0===s)?t.createElement(VB,{location:r.location,component:c,error:u,children:l()}):l()}),null)}function qB(e){var n=t.useContext(AB);return n||dB(!1),n}!function(e){e.UseRevalidator="useRevalidator"}(zB||(zB={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(BB||(BB={}));var WB;function KB(e){dB(!1)}function GB(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,o=void 0===i?null:i,a=e.location,s=e.navigationType,u=void 0===s?Wz.Pop:s,c=e.navigator,l=e.static,f=void 0!==l&&l;LB()&&dB(!1);var h=r.replace(/^\/*/,"/"),d=t.useMemo((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof a&&(a=tB(a));var p=a,v=p.pathname,m=void 0===v?"/":v,g=p.search,y=void 0===g?"":g,b=p.hash,_=void 0===b?"":b,w=p.state,k=void 0===w?null:w,x=p.key,E=void 0===x?"default":x,S=t.useMemo((function(){var e=hB(m,h);return null==e?null:{pathname:e,search:y,hash:_,state:k,key:E}}),[h,m,y,_,k,E]);return null==S?null:t.createElement(RB.Provider,{value:d},t.createElement(OB.Provider,{children:o,value:{location:S,navigationType:u}}))}function ZB(e){var n=e.children,r=e.location,i=t.useContext(PB);return function(e,n){LB()||dB(!1);var r,i=t.useContext(AB),o=t.useContext(MB).matches,a=o[o.length-1],s=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/"),c=(a&&a.route,FB());if(n){var l,f="string"===typeof n?tB(n):n;"/"===u||(null==(l=f.pathname)?void 0:l.startsWith(u))||dB(!1),r=f}else r=c;var h=r.pathname||"/",d=iB(e,{pathname:"/"===u?h:h.slice(u.length)||"/"}),p=HB(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:vB([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:vB([u,e.pathnameBase])})})),o,i||void 0);return n&&p?t.createElement(OB.Provider,{value:{location:wB({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:Wz.Pop}},p):p}(i&&!n?i.router.routes:QB(n),r)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(WB||(WB={}));var YB=new Promise((function(){}));t.Component;function QB(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e))if(e.type!==t.Fragment){e.type!==KB&&dB(!1),e.props.index&&e.props.children&&dB(!1);var o=[].concat(S(n),[i]),a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(a.children=QB(e.props.children,o)),r.push(a)}else r.push.apply(r,QB(e.props.children,n))})),r}function $B(e){var n,r=e.basename,i=e.children,o=e.window,a=t.useRef();null==a.current&&(a.current=(void 0===(n={window:o,v5Compat:!0})&&(n={}),rB((function(e,t){var n=e.location;return Jz("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:eB(t)}),null,n)));var s=a.current,u=c(t.useState({action:s.action,location:s.location}),2),l=u[0],f=u[1];return t.useLayoutEffect((function(){return s.listen(f)}),[s]),t.createElement(GB,{basename:r,children:i,location:l.location,navigationType:l.action,navigator:s})}var XB,JB;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(XB||(XB={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(JB||(JB={}));var eV=(0,t.createContext)(null),tV=eV.Provider;function nV(){var e=(0,t.useContext)(eV);if(null==e)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function rV(){return nV().map}var iV=n(8559),oV=n.n(iV),aV=["bounds","boundsOptions","center","children","className","id","placeholder","style","whenReady","zoom"];function sV(){return sV=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sV.apply(this,arguments)}function uV(e,n){var r=e.bounds,i=e.boundsOptions,o=e.center,a=e.children,s=e.className,u=e.id,l=e.placeholder,f=e.style,h=e.whenReady,d=e.zoom,p=_(e,aV),v=c((0,t.useState)({className:s,id:u,style:f}),1)[0],m=c((0,t.useState)(null),2),g=m[0],y=m[1];(0,t.useImperativeHandle)(n,(function(){var e;return null!==(e=null===g||void 0===g?void 0:g.map)&&void 0!==e?e:null}),[g]);var b=(0,t.useCallback)((function(e){if(null!==e&&null===g){var t=new iV.Map(e,p);null!=o&&null!=d?t.setView(o,d):null!=r&&t.fitBounds(r,i),null!=h&&t.whenReady(h),y(function(e){return Object.freeze({__version:1,map:e})}(t))}}),[]);(0,t.useEffect)((function(){return function(){null===g||void 0===g||g.map.remove()}}),[g]);var w=g?t.createElement(tV,{value:g},a):null!==l&&void 0!==l?l:null;return t.createElement("div",sV({},v,{ref:b}),w)}var cV=(0,t.forwardRef)(uV);function lV(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function fV(e,n){return null==n?function(n,r){var i=(0,t.useRef)();return i.current||(i.current=e(n,r)),i}:function(r,i){var o=(0,t.useRef)();o.current||(o.current=e(r,i));var a=(0,t.useRef)(r),s=o.current.instance;return(0,t.useEffect)((function(){a.current!==r&&(n(s,r,a.current),a.current=r)}),[s,r,i]),o}}function hV(e,n){var r=(0,t.useRef)(n);(0,t.useEffect)((function(){n!==r.current&&null!=e.attributionControl&&(null!=r.current&&e.attributionControl.removeAttribution(r.current),null!=n&&e.attributionControl.addAttribution(n)),r.current=n}),[e,n])}function dV(e,n){var r=(0,t.useRef)();(0,t.useEffect)((function(){return null!=n&&e.instance.on(n),r.current=n,function(){null!=r.current&&e.instance.off(r.current),r.current=null}}),[e,n])}function pV(e,t){var n,r=null!==(n=e.pane)&&void 0!==n?n:t.pane;return r?x(x({},e),{},{pane:r}):e}function vV(e){return function(n){var r=nV(),i=e(pV(n,r),r);return hV(r.map,n.attribution),dV(i.current,n.eventHandlers),function(e,n){(0,t.useEffect)((function(){var t;return(null!==(t=n.layerContainer)&&void 0!==t?t:n.map).addLayer(e.instance),function(){var t;null===(t=n.layerContainer)||void 0===t||t.removeLayer(e.instance),n.map.removeLayer(e.instance)}}),[n,e])}(i.current,r),i}}var mV,gV,yV,bV=["url"],_V=(mV=function(e,t){var n=e.url,r=_(e,bV);return lV(new iV.TileLayer(n,pV(r,t)),t)},function(e){function n(n,r){var i=e(n).current.instance;return(0,t.useImperativeHandle)(r,(function(){return i})),null}return(0,t.forwardRef)(n)}(vV(fV(mV,(function(e,t,n){!function(e,t,n){var r=t.opacity,i=t.zIndex;null!=r&&r!==n.opacity&&e.setOpacity(r),null!=i&&i!==n.zIndex&&e.setZIndex(i)}(e,t,n);var r=t.url;null!=r&&r!==n.url&&e.setUrl(r)}))))),wV=["position"],kV=function(e,n){return function(e){function n(n,r){var i=e(n).current,o=i.instance,a=i.context;return(0,t.useImperativeHandle)(r,(function(){return o})),null==n.children?null:t.createElement(tV,{value:a},n.children)}return(0,t.forwardRef)(n)}(vV(fV(e,n)))}((function(e,t){var n,r,i=e.position,o=_(e,wV),a=new iV.Marker(i,o);return lV(a,(n=t,r={overlayContainer:a},Object.freeze(x(x({},n),r))))}),(function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),null!=t.icon&&t.icon!==n.icon&&e.setIcon(t.icon),null!=t.zIndexOffset&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=e.dragging&&t.draggable!==n.draggable&&(!0===t.draggable?e.dragging.enable():e.dragging.disable())})),xV=function(e,n){var r=function(e,t){return function(n,r){var i=nV(),o=e(pV(n,i),i);return hV(i.map,n.attribution),dV(o.current,n.eventHandlers),t(o.current,i,n,r),o}}(fV(e),n);return function(e){function n(n,r){var i=c((0,t.useState)(!1),2),o=i[0],a=i[1],s=e(n,a).current.instance;(0,t.useImperativeHandle)(r,(function(){return s})),(0,t.useEffect)((function(){o&&s.update()}),[s,o,n.children]);var u=s._contentNode;return u?(0,kt.createPortal)(n.children,u):null}return(0,t.forwardRef)(n)}(r)}((function(e,t){return lV(new iV.Popup(e,t.overlayContainer),t)}),(function(e,n,r,i){var o=r.position;(0,t.useEffect)((function(){var t=e.instance;function r(e){e.popup===t&&(t.update(),i(!0))}function a(e){e.popup===t&&i(!1)}return n.map.on({popupopen:r,popupclose:a}),null==n.overlayContainer?(null!=o&&t.setLatLng(o),t.openOn(n.map)):n.overlayContainer.bindPopup(t),function(){var e;n.map.off({popupopen:r,popupclose:a}),null===(e=n.overlayContainer)||void 0===e||e.unbindPopup(),n.map.removeLayer(t)}}),[e,n,i,o])}));var EV=new WeakMap,SV=new WeakMap,TV=new WeakMap,CV=new WeakMap,IV=new WeakMap;var PV={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return SV.get(e);if("objectStoreNames"===t)return e.objectStoreNames||TV.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return RV(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function AV(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(yV||(yV=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(OV(this),n),RV(EV.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return RV(e.apply(OV(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=e.call.apply(e,[OV(this),t].concat(r));return TV.set(o,t.sort?t.sort():[t]),RV(o)}}function NV(e){return"function"===typeof e?AV(e):(e instanceof IDBTransaction&&function(e){if(!SV.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=function(){t(),r()},o=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));SV.set(e,t)}}(e),function(e,t){return t.some((function(t){return e instanceof t}))}(e,gV||(gV=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,PV):e)}function RV(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",o)},i=function(){t(RV(e.result)),r()},o=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((function(t){t instanceof IDBCursor&&EV.set(t,e)})).catch((function(){})),IV.set(t,e),t}(e);if(CV.has(e))return CV.get(e);var t=NV(e);return t!==e&&(CV.set(e,t),IV.set(t,e)),t}var OV=function(e){return IV.get(e)};var MV,DV=["get","getKey","getAll","getAllKeys","count"],LV=["put","add","delete","clear"],FV=new Map;function jV(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(FV.get(t))return FV.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=LV.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||DV.includes(n))){var o=function(){var e=y(m().mark((function e(t){var o,a,s,u,c,l,f=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=this.transaction(t,i?"readwrite":"readonly"),s=a.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(o=s)[n].apply(o,c),i&&a.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return FV.set(t,o),o}}}!function(e){PV=e(PV)}((function(e){return x(x({},e),{},{get:function(t,n,r){return jV(t,n)||e.get(t,n,r)},has:function(t,n){return!!jV(t,n)||e.has(t,n)}})}));var zV="@firebase/installations",BV="0.5.16",VV=1e4,UV="w:".concat(BV),HV="FIS_v2",qV=36e5,WV=(w(MV={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),w(MV,"not-registered","Firebase Installation is not registered."),w(MV,"installation-not-found","Firebase Installation not found."),w(MV,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),w(MV,"app-offline","Could not process request. Application offline."),w(MV,"delete-pending-registration","Can't delete installation while there is a pending registration request."),MV),KV=new hd("installations","Installations",WV);function GV(e){return e instanceof fd&&e.code.includes("request-failed")}function ZV(e){var t=e.projectId;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function YV(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function QV(e,t){return $V.apply(this,arguments)}function $V(){return($V=y(m().mark((function e(t,n){var r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,i=r.error,e.abrupt("return",KV.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function XV(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function JV(e,t){var n=t.refreshToken,r=XV(e);return r.append("Authorization",function(e){return"".concat(HV," ").concat(e)}(n)),r}function eU(e){return tU.apply(this,arguments)}function tU(){return tU=y(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),tU.apply(this,arguments)}function nU(e,t){return rU.apply(this,arguments)}function rU(){return(rU=y(m().mark((function e(t,n){var r,i,o,a,s,u,c,l,f,h,d,p;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,o=n.fid,a=ZV(r),s=XV(r),!(u=i.getImmediate({optional:!0}))){e.next=10;break}return e.next=8,u.getHeartbeatsHeader();case 8:(c=e.sent)&&s.append("x-firebase-client",c);case 10:return l={fid:o,authVersion:HV,appId:r.appId,sdkVersion:UV},f={method:"POST",headers:s,body:JSON.stringify(l)},e.next=14,eU((function(){return fetch(a,f)}));case 14:if(!(h=e.sent).ok){e.next=23;break}return e.next=18,h.json();case 18:return d=e.sent,p={fid:d.fid||o,registrationStatus:2,refreshToken:d.refreshToken,authToken:YV(d.authToken)},e.abrupt("return",p);case 23:return e.next=25,QV("Create Installation",h);case 25:throw e.sent;case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iU(e){return new Promise((function(t){setTimeout(t,e)}))}var oU=/^[cdef][\w-]{21}$/;function aU(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return function(e){return btoa(String.fromCharCode.apply(String,S(e))).replace(/\+/g,"-").replace(/\//g,"_")}(e).substr(0,22)}(e);return oU.test(t)?t:""}catch(zL){return""}}function sU(e){return"".concat(e.appName,"!").concat(e.appId)}var uU=new Map;function cU(e,t){var n=sU(e);lU(n,t),function(e,t){var n=hU();n&&n.postMessage({key:e,fid:t});dU()}(n,t)}function lU(e,t){var n=uU.get(e);if(n){var r,i=Lh(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(o){i.e(o)}finally{i.f()}}}var fU=null;function hU(){return!fU&&"BroadcastChannel"in self&&((fU=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){lU(e.data.key,e.data.fid)}),fU}function dU(){0===uU.size&&fU&&(fU.close(),fU=null)}var pU="firebase-installations-store",vU=null;function mU(){return vU||(vU=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,o=n.blocking,a=n.terminated,s=indexedDB.open(e,t),u=RV(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(RV(s.result),e.oldVersion,e.newVersion,RV(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){a&&e.addEventListener("close",(function(){return a()})),o&&e.addEventListener("versionchange",(function(){return o()}))})).catch((function(){})),u}("firebase-installations-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(pU)}})),vU}function gU(e,t){return yU.apply(this,arguments)}function yU(){return yU=y(m().mark((function e(t,n){var r,i,o,a,s;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sU(t),e.next=3,mU();case 3:return i=e.sent,o=i.transaction(pU,"readwrite"),a=o.objectStore(pU),e.next=8,a.get(r);case 8:return s=e.sent,e.next=11,a.put(n,r);case 11:return e.next=13,o.done;case 13:return s&&s.fid===n.fid||cU(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)}))),yU.apply(this,arguments)}function bU(e){return _U.apply(this,arguments)}function _U(){return _U=y(m().mark((function e(t){var n,r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=sU(t),e.next=3,mU();case 3:return r=e.sent,i=r.transaction(pU,"readwrite"),e.next=7,i.objectStore(pU).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)}))),_U.apply(this,arguments)}function wU(e,t){return kU.apply(this,arguments)}function kU(){return kU=y(m().mark((function e(t,n){var r,i,o,a,s,u;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sU(t),e.next=3,mU();case 3:return i=e.sent,o=i.transaction(pU,"readwrite"),a=o.objectStore(pU),e.next=8,a.get(r);case 8:if(s=e.sent,void 0!==(u=n(s))){e.next=15;break}return e.next=13,a.delete(r);case 13:e.next=17;break;case 15:return e.next=17,a.put(u,r);case 17:return e.next=19,o.done;case 19:return!u||s&&s.fid===u.fid||cU(t,u.fid),e.abrupt("return",u);case 21:case"end":return e.stop()}}),e)}))),kU.apply(this,arguments)}function xU(e){return EU.apply(this,arguments)}function EU(){return(EU=y(m().mark((function e(t){var n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wU(t.appConfig,(function(e){var r=SU(e),i=TU(t,r);return n=i.registrationPromise,i.installationEntry}));case 2:if(""!==(r=e.sent).fid){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SU(e){return NU(e||{fid:aU(),registrationStatus:0})}function TU(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(KV.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return CU.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:IU(e)}:{installationEntry:t}}function CU(){return(CU=y(m().mark((function e(t,n){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,nU(t,n);case 3:return r=e.sent,e.abrupt("return",gU(t.appConfig,r));case 7:if(e.prev=7,e.t0=e.catch(0),!GV(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,bU(t.appConfig);case 12:e.next=16;break;case 14:return e.next=16,gU(t.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function IU(e){return PU.apply(this,arguments)}function PU(){return(PU=y(m().mark((function e(t){var n,r,i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,AU(t.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,iU(100);case 6:return e.next=8,AU(t.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,xU(t);case 14:if(r=e.sent,i=r.installationEntry,!(o=r.registrationPromise)){e.next=21;break}return e.abrupt("return",o);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AU(e){return wU(e,(function(e){if(!e)throw KV.create("installation-not-found");return NU(e)}))}function NU(e){return 1===(t=e).registrationStatus&&t.registrationTime+VV<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function RU(e,t){return OU.apply(this,arguments)}function OU(){return(OU=y(m().mark((function e(t,n){var r,i,o,a,s,u,c,l,f,h,d;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,o=MU(r,n),a=JV(r,n),!(s=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,s.getHeartbeatsHeader();case 7:(u=e.sent)&&a.append("x-firebase-client",u);case 9:return c={installation:{sdkVersion:UV,appId:r.appId}},l={method:"POST",headers:a,body:JSON.stringify(c)},e.next=13,eU((function(){return fetch(o,l)}));case 13:if(!(f=e.sent).ok){e.next=22;break}return e.next=17,f.json();case 17:return h=e.sent,d=YV(h),e.abrupt("return",d);case 22:return e.next=24,QV("Generate Auth Token",f);case 24:throw e.sent;case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function MU(e,t){var n=t.fid;return"".concat(ZV(e),"/").concat(n,"/authTokens:generate")}function DU(e){return LU.apply(this,arguments)}function LU(){return LU=y(m().mark((function e(t){var n,r,i,o,a=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],e.next=3,wU(t.appConfig,(function(e){if(!UU(e))throw KV.create("not-registered");var i=e.authToken;if(!n&&HU(i))return e;if(1===i.requestStatus)return r=FU(t,n),e;if(!navigator.onLine)throw KV.create("app-offline");var o=qU(e);return r=BU(t,o),o}));case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return o=e.t0,e.abrupt("return",o);case 13:case"end":return e.stop()}}),e)}))),LU.apply(this,arguments)}function FU(e,t){return jU.apply(this,arguments)}function jU(){return(jU=y(m().mark((function e(t,n){var r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zU(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,iU(100);case 6:return e.next=8,zU(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(i=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",DU(t,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zU(e){return wU(e,(function(e){if(!UU(e))throw KV.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+VV<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function BU(e,t){return VU.apply(this,arguments)}function VU(){return(VU=y(m().mark((function e(t,n){var r,i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,RU(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,gU(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!GV(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,bU(t.appConfig);case 15:e.next=20;break;case 17:return o=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,gU(t.appConfig,o);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function UU(e){return void 0!==e&&2===e.registrationStatus}function HU(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+qV}(e)}function qU(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function WU(){return(WU=y(m().mark((function e(t){var n,r,i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,xU(n);case 3:return r=e.sent,i=r.installationEntry,(o=r.registrationPromise)?o.catch(console.error):DU(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KU(){return KU=y(m().mark((function e(t){var n,r,i,o=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],r=t,e.next=4,GU(r);case 4:return e.next=6,DU(r,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}}),e)}))),KU.apply(this,arguments)}function GU(e){return ZU.apply(this,arguments)}function ZU(){return(ZU=y(m().mark((function e(t){var n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xU(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function YU(e){return KV.create("missing-app-config-values",{valueName:e})}var QU,$U="installations",XU=function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw YU("App Configuration");if(!e.name)throw YU("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw YU(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Pp(t,"heartbeat"),_delete:function(){return Promise.resolve()}}},JU=function(e){var t=Pp(e.getProvider("app").getImmediate(),$U).getImmediate(),n={getId:function(){return function(e){return WU.apply(this,arguments)}(t)},getToken:function(e){return function(e){return KU.apply(this,arguments)}(t,e)}};return n};Ip(new Vd($U,XU,"PUBLIC")),Ip(new Vd("installations-internal",JU,"PRIVATE")),Vp(zV,BV),Vp(zV,BV,"esm2017");var eH="analytics",tH=6e4,nH="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rH="https://www.googletagmanager.com/gtag/js",iH=new Jd("@firebase/analytics");function oH(e){return Promise.all(e.map((function(e){return e.catch((function(e){return e}))})))}function aH(e,t){var n=document.createElement("script");n.src="".concat(rH,"?l=").concat(e,"&id=").concat(t),n.async=!0,document.head.appendChild(n)}function sH(e,t,n,r,i,o){return uH.apply(this,arguments)}function uH(){return uH=y(m().mark((function e(t,n,r,i,o,a){var s,u,c;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=i[o],e.prev=1,!s){e.next=7;break}return e.next=5,n[s];case 5:e.next=14;break;case 7:return e.next=9,oH(r);case 9:if(u=e.sent,!(c=u.find((function(e){return e.measurementId===o})))){e.next=14;break}return e.next=14,n[c.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),iH.error(e.t0);case 19:t("config",o,a);case 20:case"end":return e.stop()}}),e,null,[[1,16]])}))),uH.apply(this,arguments)}function cH(e,t,n,r,i){return lH.apply(this,arguments)}function lH(){return lH=y(m().mark((function e(t,n,r,i,o){var a,s,u,c,l,f;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=[],!o||!o.send_to){e.next=26;break}return s=o.send_to,Array.isArray(s)||(s=[s]),e.next=7,oH(r);case 7:u=e.sent,c=Lh(s),e.prev=9,f=function(){var e=l.value,t=u.find((function(t){return t.measurementId===e})),r=t&&n[t.appId];if(!r)return a=[],"break";a.push(r)},c.s();case 12:if((l=c.n()).done){e.next=18;break}if("break"!==f()){e.next=16;break}return e.abrupt("break",18);case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),c.e(e.t0);case 23:return e.prev=23,c.f(),e.finish(23);case 26:return 0===a.length&&(a=Object.values(n)),e.next=29,Promise.all(a);case 29:t("event",i,o||{}),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(0),iH.error(e.t1);case 35:case"end":return e.stop()}}),e,null,[[0,32],[9,20,23,26]])}))),lH.apply(this,arguments)}function fH(e,t,n,r,i){var o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){function i(){return(i=y(m().mark((function i(o,a,s){return m().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,"event"!==o){i.next=6;break}return i.next=4,cH(e,t,n,a,s);case 4:i.next=12;break;case 6:if("config"!==o){i.next=11;break}return i.next=9,sH(e,t,n,r,a,s);case 9:i.next=12;break;case 11:"consent"===o?e("consent","update",s):e("set",a);case 12:i.next=17;break;case 14:i.prev=14,i.t0=i.catch(0),iH.error(i.t0);case 17:case"end":return i.stop()}}),i,null,[[0,14]])})))).apply(this,arguments)}return function(e,t,n){return i.apply(this,arguments)}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}function hH(e){for(var t=window.document.getElementsByTagName("script"),n=0,r=Object.values(t);n<r.length;n++){var i=r[n];if(i.src&&i.src.includes(rH)&&i.src.includes(e))return i}return null}var dH=(w(QU={},"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),w(QU,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),w(QU,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),w(QU,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),w(QU,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),w(QU,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),w(QU,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),w(QU,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),w(QU,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),w(QU,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),QU),pH=new hd("analytics","Analytics",dH),vH=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;T(this,e),this.throttleMetadata=t,this.intervalMillis=n}return I(e,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),e}(),mH=new vH;function gH(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function yH(e){return bH.apply(this,arguments)}function bH(){return bH=y(m().mark((function e(t){var n,r,i,o,a,s,u,c;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appId,i=t.apiKey,o={method:"GET",headers:gH(i)},a=nH.replace("{app-id}",r),e.next=5,fetch(a,o);case 5:if(200===(s=e.sent).status||304===s.status){e.next=18;break}return u="",e.prev=8,e.next=11,s.json();case 11:c=e.sent,(null===(n=c.error)||void 0===n?void 0:n.message)&&(u=c.error.message),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(8);case 17:throw pH.create("config-fetch-failed",{httpStatus:s.status,responseMessage:u});case 18:return e.abrupt("return",s.json());case 19:case"end":return e.stop()}}),e,null,[[8,15]])}))),bH.apply(this,arguments)}function _H(e){return wH.apply(this,arguments)}function wH(){return wH=y(m().mark((function e(t){var n,r,i,o,a,s,u,c,l=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:mH,r=l.length>2?l[2]:void 0,i=t.options,o=i.appId,a=i.apiKey,s=i.measurementId,o){e.next=5;break}throw pH.create("no-app-id");case 5:if(a){e.next=9;break}if(!s){e.next=8;break}return e.abrupt("return",{measurementId:s,appId:o});case 8:throw pH.create("no-api-key");case 9:return u=n.getThrottleMetadata(o)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new IH,setTimeout(y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.abort();case 1:case"end":return e.stop()}}),e)}))),void 0!==r?r:tH),e.abrupt("return",kH({appId:o,apiKey:a,measurementId:s},u,c,n));case 13:case"end":return e.stop()}}),e)}))),wH.apply(this,arguments)}function kH(e,t,n){return xH.apply(this,arguments)}function xH(){return xH=y(m().mark((function e(t,n,r){var i,o,a,s,u,c,l,f,h,d,p,v=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.throttleEndTimeMillis,o=n.backoffCount,a=v.length>3&&void 0!==v[3]?v[3]:mH,c=t.appId,l=t.measurementId,e.prev=3,e.next=6,EH(r,i);case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(3),!l){e.next=13;break}return iH.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===(s=e.t0)||void 0===s?void 0:s.message,"]")),e.abrupt("return",{appId:c,measurementId:l});case 13:throw e.t0;case 14:return e.prev=14,e.next=17,yH(t);case 17:return f=e.sent,a.deleteThrottleMetadata(c),e.abrupt("return",f);case 22:if(e.prev=22,e.t1=e.catch(14),SH(h=e.t1)){e.next=33;break}if(a.deleteThrottleMetadata(c),!l){e.next=32;break}return iH.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===h||void 0===h?void 0:h.message,"]")),e.abrupt("return",{appId:c,measurementId:l});case 32:throw e.t1;case 33:return d=503===Number(null===(u=null===h||void 0===h?void 0:h.customData)||void 0===u?void 0:u.httpStatus)?zd(o,a.intervalMillis,30):zd(o,a.intervalMillis),p={throttleEndTimeMillis:Date.now()+d,backoffCount:o+1},a.setThrottleMetadata(c,p),iH.debug("Calling attemptFetch again in ".concat(d," millis")),e.abrupt("return",kH(t,p,r,a));case 38:case"end":return e.stop()}}),e,null,[[3,8],[14,22]])}))),xH.apply(this,arguments)}function EH(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(pH.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function SH(e){if(!(e instanceof fd)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var TH,CH,IH=function(){function e(){T(this,e),this.listeners=[]}return I(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),e}();function PH(){return PH=y(m().mark((function e(t,n,r,i,o){var a,s;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o||!o.global){e.next=5;break}return t("event",r,i),e.abrupt("return");case 5:return e.next=7,n;case 7:a=e.sent,s=Object.assign(Object.assign({},i),{send_to:a}),t("event",r,s);case 10:case"end":return e.stop()}}),e)}))),PH.apply(this,arguments)}function AH(){return AH=y(m().mark((function e(t,n,r,i){var o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.global){e.next=5;break}return t("set",{screen_name:r}),e.abrupt("return",Promise.resolve());case 5:return e.next=7,n;case 7:o=e.sent,t("config",o,{update:!0,screen_name:r});case 9:case"end":return e.stop()}}),e)}))),AH.apply(this,arguments)}function NH(){return NH=y(m().mark((function e(t,n,r,i){var o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.global){e.next=5;break}return t("set",{user_id:r}),e.abrupt("return",Promise.resolve());case 5:return e.next=7,n;case 7:o=e.sent,t("config",o,{update:!0,user_id:r});case 9:case"end":return e.stop()}}),e)}))),NH.apply(this,arguments)}function RH(){return RH=y(m().mark((function e(t,n,r,i){var o,a,s,u,c;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.global){e.next=7;break}for(o={},a=0,s=Object.keys(r);a<s.length;a++)u=s[a],o["user_properties.".concat(u)]=r[u];return t("set",o),e.abrupt("return",Promise.resolve());case 7:return e.next=9,n;case 9:c=e.sent,t("config",c,{update:!0,user_properties:r});case 11:case"end":return e.stop()}}),e)}))),RH.apply(this,arguments)}function OH(){return OH=y(m().mark((function e(t,n){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:r=e.sent,window["ga-disable-".concat(r)]=!n;case 4:case"end":return e.stop()}}),e)}))),OH.apply(this,arguments)}function MH(e){CH=e}function DH(e){TH=e}function LH(){return FH.apply(this,arguments)}function FH(){return FH=y(m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(rd()){e.next=5;break}return iH.warn(pH.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,id();case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),iH.warn(pH.create("indexeddb-unavailable",{errorInfo:null===(t=e.t0)||void 0===t?void 0:t.toString()}).message),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,null,[[5,10]])}))),FH.apply(this,arguments)}function jH(){return jH=y(m().mark((function e(t,n,r,i,o,a,s){var u,l,f,h,d,p,v,g;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(l=_H(t)).then((function(e){r[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&iH.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return iH.error(e)})),n.push(l),f=LH().then((function(e){return e?i.getId():void 0})),e.next=6,Promise.all([l,f]);case 6:return h=e.sent,d=c(h,2),p=d[0],v=d[1],hH(a)||aH(a,p.measurementId),CH&&(o("consent","default",CH),MH(void 0)),o("js",new Date),(g=null!==(u=null===s||void 0===s?void 0:s.config)&&void 0!==u?u:{}).origin="firebase",g.update=!0,null!=v&&(g.firebase_id=v),o("config",p.measurementId,g),TH&&(o("set",TH),DH(void 0)),e.abrupt("return",p.measurementId);case 20:case"end":return e.stop()}}),e)}))),jH.apply(this,arguments)}var zH,BH,VH=function(){function e(t){T(this,e),this.app=t}return I(e,[{key:"_delete",value:function(){return delete UH[this.app.options.appId],Promise.resolve()}}]),e}(),UH={},HH=[],qH={},WH="dataLayer",KH="gtag",GH=!1;function ZH(e){if(GH)throw pH.create("already-initialized");e.dataLayerName&&(WH=e.dataLayerName),e.gtagName&&(KH=e.gtagName)}function YH(e,t,n){!function(){var e=[];if(Jh()&&e.push("This is a browser extension environment."),od()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"(".concat(t+1,") ").concat(e)})).join(" "),n=pH.create("invalid-analytics-context",{errorInfo:t});iH.warn(n.message)}}();var r=e.options.appId;if(!r)throw pH.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw pH.create("no-api-key");iH.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=UH[r])throw pH.create("already-exists",{id:r});if(!GH){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(WH);var i=fH(UH,HH,qH,WH,KH),o=i.wrappedGtag,a=i.gtagCore;BH=o,zH=a,GH=!0}return UH[r]=function(e,t,n,r,i,o,a){return jH.apply(this,arguments)}(e,HH,qH,t,zH,WH,n),new VH(e)}function QH(){return $H.apply(this,arguments)}function $H(){return($H=y(m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Jh()){e.next=2;break}return e.abrupt("return",!1);case 2:if(od()){e.next=4;break}return e.abrupt("return",!1);case 4:if(rd()){e.next=6;break}return e.abrupt("return",!1);case 6:return e.prev=6,e.next=9,id();case 9:return t=e.sent,e.abrupt("return",t);case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})))).apply(this,arguments)}function XH(e,t,n){e=Bd(e),function(e,t,n,r){return AH.apply(this,arguments)}(BH,UH[e.app.options.appId],t,n).catch((function(e){return iH.error(e)}))}function JH(e,t,n){e=Bd(e),function(e,t,n,r){return NH.apply(this,arguments)}(BH,UH[e.app.options.appId],t,n).catch((function(e){return iH.error(e)}))}function eq(e,t,n){e=Bd(e),function(e,t,n,r){return RH.apply(this,arguments)}(BH,UH[e.app.options.appId],t,n).catch((function(e){return iH.error(e)}))}function tq(e,t){e=Bd(e),function(e,t){return OH.apply(this,arguments)}(UH[e.app.options.appId],t).catch((function(e){return iH.error(e)}))}function nq(e,t,n,r){e=Bd(e),function(e,t,n,r,i){return PH.apply(this,arguments)}(BH,UH[e.app.options.appId],t,n,r).catch((function(e){return iH.error(e)}))}var rq="@firebase/analytics",iq="0.8.4";Ip(new Vd(eH,(function(e,t){var n=t.options;return YH(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),Ip(new Vd("analytics-internal",(function(e){try{var t=e.getProvider(eH).getImmediate();return{logEvent:function(e,n,r){return nq(t,e,n,r)}}}catch(Gn){throw pH.create("interop-component-reg-failed",{reason:Gn})}}),"PRIVATE")),Vp(rq,iq),Vp(rq,iq,"esm2017");var oq,aq=function(){function e(t,n){T(this,e),this.app=t,this._delegate=n}return I(e,[{key:"logEvent",value:function(e,t,n){nq(this._delegate,e,t,n)}},{key:"setCurrentScreen",value:function(e,t){XH(this._delegate,e,t)}},{key:"setUserId",value:function(e,t){JH(this._delegate,e,t)}},{key:"setUserProperties",value:function(e,t){eq(this._delegate,e,t)}},{key:"setAnalyticsCollectionEnabled",value:function(e){tq(this._delegate,e)}}]),e}();!function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(oq||(oq={}));var sq,uq=function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("analytics").getImmediate();return new aq(t,n)};!function(){var e={Analytics:aq,settings:ZH,isSupported:QH,EventName:oq};fv.INTERNAL.registerComponent(new Vd("analytics-compat",uq,"PUBLIC").setServiceProps(e).setMultipleInstances(!0))}(),fv.registerVersion("@firebase/analytics-compat","0.1.17");var cq=new Map,lq={activated:!1,tokenObservers:[]},fq={initialized:!1,enabled:!1};function hq(e){return cq.get(e)||Object.assign({},lq)}function dq(){return fq}var pq="https://content-firebaseappcheck.googleapis.com/v1",vq=3e4,mq=96e4,gq=function(){function e(t,n,r,i,o){if(T(this,e),this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}return I(e,[{key:"start",value:function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((function(){}))}},{key:"stop",value:function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}},{key:"isRunning",value:function(){return!!this.pending}},{key:"process",value:function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.stop(),e.prev=1,this.pending=new cd,e.next=5,yq(this.getNextRun(t));case 5:return this.pending.resolve(),e.next=8,this.pending.promise;case 8:return this.pending=new cd,e.next=11,this.operation();case 11:return this.pending.resolve(),e.next=14,this.pending.promise;case 14:this.process(!0).catch((function(){})),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),this.retryPolicy(e.t0)?this.process(!1).catch((function(){})):this.stop();case 20:case"end":return e.stop()}}),e,this,[[1,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getNextRun",value:function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}]),e}();function yq(e){return new Promise((function(t){setTimeout(t,e)}))}var bq=(w(sq={},"already-initialized","You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance."),w(sq,"use-before-activation","App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services."),w(sq,"fetch-network-error","Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}."),w(sq,"fetch-parse-error","Fetch client could not parse response. Original error: {$originalErrorMessage}."),w(sq,"fetch-status-error","Fetch server returned an HTTP error status. HTTP status: {$httpStatus}."),w(sq,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),w(sq,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),w(sq,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),w(sq,"recaptcha-error","ReCAPTCHA error."),w(sq,"throttled","Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"),sq),_q=new hd("appCheck","AppCheck",bq);function wq(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t?null===(e=self.grecaptcha)||void 0===e?void 0:e.enterprise:self.grecaptcha}function kq(e){if(!hq(e).activated)throw _q.create("use-before-activation",{appName:e.name})}function xq(e){var t=Math.round(e/1e3),n=Math.floor(t/86400),r=Math.floor((t-3600*n*24)/3600),i=Math.floor((t-3600*n*24-3600*r)/60),o=t-3600*n*24-3600*r-60*i,a="";return n&&(a+=Eq(n)+"d:"),r&&(a+=Eq(r)+"h:"),a+=Eq(i)+"m:"+Eq(o)+"s"}function Eq(e){return 0===e?"00":e>=10?e.toString():"0"+e}function Sq(e,t){return Tq.apply(this,arguments)}function Tq(){return Tq=y(m().mark((function e(t,n){var r,i,o,a,s,u,c,l,f,h,d,p,v;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.url,i=t.body,s={"Content-Type":"application/json"},!(u=n.getImmediate({optional:!0}))){e.next=8;break}return e.next=6,u.getHeartbeatsHeader();case 6:(c=e.sent)&&(s["X-Firebase-Client"]=c);case 8:return l={method:"POST",body:JSON.stringify(i),headers:s},e.prev=9,e.next=12,fetch(r,l);case 12:f=e.sent,e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(9),_q.create("fetch-network-error",{originalErrorMessage:null===(o=e.t0)||void 0===o?void 0:o.message});case 18:if(200===f.status){e.next=20;break}throw _q.create("fetch-status-error",{httpStatus:f.status});case 20:return e.prev=20,e.next=23,f.json();case 23:h=e.sent,e.next=29;break;case 26:throw e.prev=26,e.t1=e.catch(20),_q.create("fetch-parse-error",{originalErrorMessage:null===(a=e.t1)||void 0===a?void 0:a.message});case 29:if((d=h.ttl.match(/^([\d.]+)(s)$/))&&d[2]&&!isNaN(Number(d[1]))){e.next=32;break}throw _q.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration "+"format: ".concat(h.ttl)});case 32:return p=1e3*Number(d[1]),v=Date.now(),e.abrupt("return",{token:h.token,expireTimeMillis:v+p,issuedAtTimeMillis:v});case 35:case"end":return e.stop()}}),e,null,[[9,15],[20,26]])}))),Tq.apply(this,arguments)}function Cq(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:"".concat(pq,"/projects/").concat(r,"/apps/").concat(i,":").concat("exchangeRecaptchaV3Token","?key=").concat(o),body:{recaptcha_v3_token:t}}}function Iq(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:"".concat(pq,"/projects/").concat(r,"/apps/").concat(i,":").concat("exchangeRecaptchaEnterpriseToken","?key=").concat(o),body:{recaptcha_enterprise_token:t}}}function Pq(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:"".concat(pq,"/projects/").concat(r,"/apps/").concat(i,":").concat("exchangeDebugToken","?key=").concat(o),body:{debug_token:t}}}var Aq="firebase-app-check-store",Nq="debug-token",Rq=null;function Oq(){return Rq||(Rq=new Promise((function(e,t){var n;try{var r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=function(t){e(t.target.result)},r.onerror=function(e){var n;t(_q.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},r.onupgradeneeded=function(e){var t=e.target.result;if(0===e.oldVersion)t.createObjectStore(Aq,{keyPath:"compositeKey"})}}catch(Gn){t(_q.create("storage-open",{originalErrorMessage:null===(n=Gn)||void 0===n?void 0:n.message}))}})),Rq)}function Mq(e){return zq(Vq(e))}function Dq(e){return Fq(Nq,e)}function Lq(){return zq(Nq)}function Fq(e,t){return jq.apply(this,arguments)}function jq(){return jq=y(m().mark((function e(t,n){var r,i,o,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oq();case 2:return r=e.sent,i=r.transaction(Aq,"readwrite"),o=i.objectStore(Aq),a=o.put({compositeKey:t,value:n}),e.abrupt("return",new Promise((function(e,t){a.onsuccess=function(t){e()},i.onerror=function(e){var n;t(_q.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}})));case 7:case"end":return e.stop()}}),e)}))),jq.apply(this,arguments)}function zq(e){return Bq.apply(this,arguments)}function Bq(){return Bq=y(m().mark((function e(t){var n,r,i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oq();case 2:return n=e.sent,r=n.transaction(Aq,"readonly"),i=r.objectStore(Aq),o=i.get(t),e.abrupt("return",new Promise((function(e,t){o.onsuccess=function(t){var n=t.target.result;e(n?n.value:void 0)},r.onerror=function(e){var n;t(_q.create("storage-get",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}})));case 7:case"end":return e.stop()}}),e)}))),Bq.apply(this,arguments)}function Vq(e){return"".concat(e.options.appId,"-").concat(e.name)}var Uq=new Jd("@firebase/app-check");function Hq(){return Hq=y(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!rd()){e.next=12;break}return n=void 0,e.prev=2,e.next=5,Mq(t);case 5:n=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),Uq.warn("Failed to read token from IndexedDB. Error: ".concat(e.t0));case 11:return e.abrupt("return",n);case 12:return e.abrupt("return",void 0);case 13:case"end":return e.stop()}}),e,null,[[2,8]])}))),Hq.apply(this,arguments)}function qq(e,t){return rd()?function(e,t){return Fq(Vq(e),t)}(e,t).catch((function(e){Uq.warn("Failed to write token to IndexedDB. Error: ".concat(e))})):Promise.resolve()}function Wq(){return Wq=y(m().mark((function e(){var t,n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0,e.prev=1,e.next=4,Lq();case 4:t=e.sent,e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:if(t){e.next=15;break}return Dq(n=Fd()).catch((function(e){return Uq.warn("Failed to persist debug token to IndexedDB. Error: ".concat(e))})),e.abrupt("return",n);case 15:return e.abrupt("return",t);case 16:case"end":return e.stop()}}),e,null,[[1,7]])}))),Wq.apply(this,arguments)}function Kq(){return dq().enabled}function Gq(){return Zq.apply(this,arguments)}function Zq(){return(Zq=y(m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=dq()).enabled||!t.token){e.next=5;break}return e.abrupt("return",t.token.promise);case 5:throw Error("\n            Can't get debug token in production mode.\n        ");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yq(){var e=ad(),t=dq();if(t.initialized=!0,"string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===e.FIREBASE_APPCHECK_DEBUG_TOKEN){t.enabled=!0;var n=new cd;t.token=n,"string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(function(){return Wq.apply(this,arguments)}())}}var Qq={error:"UNKNOWN_ERROR"};function $q(e){return Xq.apply(this,arguments)}function Xq(){return Xq=y(m().mark((function e(t){var n,r,i,o,a,s,u,c,l,f=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=f.length>1&&void 0!==f[1]&&f[1],kq(r=t.app),i=hq(r),o=i.token,a=void 0,o&&!rW(o)&&(i.token=void 0,o=void 0),o){e.next=18;break}return e.next=10,i.cachedTokenPromise;case 10:if(!(s=e.sent)){e.next=18;break}if(!rW(s)){e.next=16;break}o=s,e.next=18;break;case 16:return e.next=18,qq(r,void 0);case 18:if(n||!o||!rW(o)){e.next=20;break}return e.abrupt("return",{token:o.token});case 20:if(u=!1,!Kq()){e.next=40;break}if(i.exchangeTokenPromise){e.next=33;break}return e.t0=Sq,e.t1=Pq,e.t2=r,e.next=28,Gq();case 28:e.t3=e.sent,e.t4=(0,e.t1)(e.t2,e.t3),e.t5=t.heartbeatServiceProvider,i.exchangeTokenPromise=(0,e.t0)(e.t4,e.t5).finally((function(){i.exchangeTokenPromise=void 0})),u=!0;case 33:return e.next=35,i.exchangeTokenPromise;case 35:return c=e.sent,e.next=38,qq(r,c);case 38:return i.token=c,e.abrupt("return",{token:c.token});case 40:return e.prev=40,i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally((function(){i.exchangeTokenPromise=void 0})),u=!0),e.next=44,hq(r).exchangeTokenPromise;case 44:o=e.sent,e.next=51;break;case 47:e.prev=47,e.t6=e.catch(40),e.t6.code==="appCheck/".concat("throttled")?Uq.warn(e.t6.message):Uq.error(e.t6),a=e.t6;case 51:if(o){e.next=55;break}l=iW(a),e.next=63;break;case 55:if(!a){e.next=59;break}l=rW(o)?{token:o.token,internalError:a}:iW(a),e.next=63;break;case 59:return l={token:o.token},i.token=o,e.next=63,qq(r,o);case 63:return u&&nW(r,l),e.abrupt("return",l);case 65:case"end":return e.stop()}}),e,null,[[40,47]])}))),Xq.apply(this,arguments)}function Jq(e,t,n,r){var i=hq(e.app),o={next:n,error:r,type:t};if(i.tokenObservers=[].concat(S(i.tokenObservers),[o]),i.token&&rW(i.token)){var a=i.token;Promise.resolve().then((function(){n({token:a.token}),tW(e)})).catch((function(){}))}i.cachedTokenPromise.then((function(){return tW(e)}))}function eW(e,t){var n=hq(e),r=n.tokenObservers.filter((function(e){return e.next!==t}));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function tW(e){var t=hq(e.app),n=t.tokenRefresher;n||(n=function(e){var t=e.app;return new gq(y(m().mark((function n(){var r;return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(hq(t).token){n.next=7;break}return n.next=4,$q(e);case 4:r=n.sent,n.next=10;break;case 7:return n.next=9,$q(e,!0);case 9:r=n.sent;case 10:if(!r.error){n.next=12;break}throw r.error;case 12:if(!r.internalError){n.next=14;break}throw r.internalError;case 14:case"end":return n.stop()}}),n)}))),(function(){return!0}),(function(){var e=hq(t);if(e.token){var n=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5,r=e.token.expireTimeMillis-3e5;return n=Math.min(n,r),Math.max(0,n-Date.now())}return 0}),vq,mq)}(e),t.tokenRefresher=n),!n.isRunning()&&t.isTokenAutoRefreshEnabled&&n.start()}function nW(e,t){var n,r=Lh(hq(e).tokenObservers);try{for(r.s();!(n=r.n()).done;){var i=n.value;try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(Gn){}}}catch(o){r.e(o)}finally{r.f()}}function rW(e){return e.expireTimeMillis-Date.now()>0}function iW(e){return{token:(t=Qq,Wh.encodeString(JSON.stringify(t),!1)),error:e};var t}var oW=function(){function e(t,n){T(this,e),this.app=t,this.heartbeatServiceProvider=n}return I(e,[{key:"_delete",value:function(){var e,t=Lh(hq(this.app).tokenObservers);try{for(t.s();!(e=t.n()).done;){var n=e.value;eW(this.app,n.next)}}catch(r){t.e(r)}finally{t.f()}return Promise.resolve()}}]),e}();var aW="https://www.google.com/recaptcha/api.js",sW="https://www.google.com/recaptcha/enterprise.js";function uW(e,t){var n=new cd;hq(e).reCAPTCHAState={initialized:n};var r=fW(e),i=wq(!1);return i?lW(e,t,i,r,n):function(e){var t=document.createElement("script");t.src=aW,t.onload=e,document.head.appendChild(t)}((function(){var i=wq(!1);if(!i)throw new Error("no recaptcha");lW(e,t,i,r,n)})),n.promise}function cW(e,t){var n=new cd;hq(e).reCAPTCHAState={initialized:n};var r=fW(e),i=wq(!0);return i?lW(e,t,i,r,n):function(e){var t=document.createElement("script");t.src=sW,t.onload=e,document.head.appendChild(t)}((function(){var i=wq(!0);if(!i)throw new Error("no recaptcha");lW(e,t,i,r,n)})),n.promise}function lW(e,t,n,r,i){n.ready((function(){!function(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),o=hq(e);o.reCAPTCHAState=Object.assign(Object.assign({},o.reCAPTCHAState),{widgetId:i})}(e,t,n,r),i.resolve(n)}))}function fW(e){var t="fire_app_check_".concat(e.name),n=document.createElement("div");return n.id=t,n.style.display="none",document.body.appendChild(n),t}function hW(e){return dW.apply(this,arguments)}function dW(){return(dW=y(m().mark((function e(t){var n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kq(t),n=hq(t).reCAPTCHAState,e.next=4,n.initialized.promise;case 4:return r=e.sent,e.abrupt("return",new Promise((function(e,n){var i=hq(t).reCAPTCHAState;r.ready((function(){e(r.execute(i.widgetId,{action:"fire_app_check"}))}))})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pW=function(){function e(t){T(this,e),this._siteKey=t,this._throttleData=null}return I(e,[{key:"getToken",value:function(){var e=y(m().mark((function e(){var t,n,r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yW(this._throttleData),e.next=3,hW(this._app).catch((function(e){throw _q.create("recaptcha-error")}));case 3:return r=e.sent,e.prev=4,e.next=7,Sq(Cq(this._app,r),this._heartbeatServiceProvider);case 7:i=e.sent,e.next=18;break;case 10:if(e.prev=10,e.t0=e.catch(4),!(null===(t=e.t0.code)||void 0===t?void 0:t.includes("fetch-status-error"))){e.next=17;break}throw this._throttleData=gW(Number(null===(n=e.t0.customData)||void 0===n?void 0:n.httpStatus),this._throttleData),_q.create("throttled",{time:xq(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus});case 17:throw e.t0;case 18:return this._throttleData=null,e.abrupt("return",i);case 20:case"end":return e.stop()}}),e,this,[[4,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"initialize",value:function(e){this._app=e,this._heartbeatServiceProvider=Pp(e,"heartbeat"),uW(e,this._siteKey).catch((function(){}))}},{key:"isEqual",value:function(t){return t instanceof e&&this._siteKey===t._siteKey}}]),e}(),vW=function(){function e(t){T(this,e),this._siteKey=t,this._throttleData=null}return I(e,[{key:"getToken",value:function(){var e=y(m().mark((function e(){var t,n,r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yW(this._throttleData),e.next=3,hW(this._app).catch((function(e){throw _q.create("recaptcha-error")}));case 3:return r=e.sent,e.prev=4,e.next=7,Sq(Iq(this._app,r),this._heartbeatServiceProvider);case 7:i=e.sent,e.next=18;break;case 10:if(e.prev=10,e.t0=e.catch(4),!(null===(t=e.t0.code)||void 0===t?void 0:t.includes("fetch-status-error"))){e.next=17;break}throw this._throttleData=gW(Number(null===(n=e.t0.customData)||void 0===n?void 0:n.httpStatus),this._throttleData),_q.create("throttled",{time:xq(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus});case 17:throw e.t0;case 18:return this._throttleData=null,e.abrupt("return",i);case 20:case"end":return e.stop()}}),e,this,[[4,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"initialize",value:function(e){this._app=e,this._heartbeatServiceProvider=Pp(e,"heartbeat"),cW(e,this._siteKey).catch((function(){}))}},{key:"isEqual",value:function(t){return t instanceof e&&this._siteKey===t._siteKey}}]),e}(),mW=function(){function e(t){T(this,e),this._customProviderOptions=t}return I(e,[{key:"getToken",value:function(){var e=y(m().mark((function e(){var t,n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._customProviderOptions.getToken();case 2:return t=e.sent,n=yd(t.token),r=null!==n&&n<Date.now()&&n>0?1e3*n:Date.now(),e.abrupt("return",Object.assign(Object.assign({},t),{issuedAtTimeMillis:r}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initialize",value:function(e){this._app=e}},{key:"isEqual",value:function(t){return t instanceof e&&this._customProviderOptions.getToken.toString()===t._customProviderOptions.getToken.toString()}}]),e}();function gW(e,t){if(404===e||403===e)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:e};var n=t?t.backoffCount:0,r=zd(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:e}}function yW(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw _q.create("throttled",{time:xq(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}function bW(e,t,n){var r=function(e,t){return cq.set(e,t),cq.get(e)}(e,Object.assign({},lq));r.activated=!0,r.provider=t,r.cachedTokenPromise=function(e){return Hq.apply(this,arguments)}(e).then((function(t){return t&&rW(t)&&(r.token=t,nW(e,{token:t.token})),t})),r.isTokenAutoRefreshEnabled=void 0===n?e.automaticDataCollectionEnabled:n,r.provider.initialize(e)}function _W(){return(_W=y(m().mark((function e(t,n){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$q(t,n);case 2:if(!(r=e.sent).error){e.next=5;break}throw r.error;case 5:return e.abrupt("return",{token:r.token});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wW="app-check-internal";Ip(new Vd("app-check",(function(e){return function(e,t){return new oW(e,t)}(e.getProvider("app").getImmediate(),e.getProvider("heartbeat"))}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider(wW).initialize()}))),Ip(new Vd(wW,(function(e){return function(e){return{getToken:function(t){return $q(e,t)},addTokenListener:function(t){return Jq(e,"INTERNAL",t)},removeTokenListener:function(t){return eW(e.app,t)}}}(e.getProvider("app-check").getImmediate())}),"PUBLIC").setInstantiationMode("EXPLICIT")),Vp("@firebase/app-check","0.5.17");var kW=w({},"use-before-activation","App Check is being used before activate() is called for FirebaseApp {$appName}. Call activate() before instantiating other Firebase services."),xW=new hd("appCheck","AppCheck",kW),EW=function(){function e(t){T(this,e),this.app=t}return I(e,[{key:"activate",value:function(e,t){var n;n="string"===typeof e?new pW(e):e instanceof vW||e instanceof pW||e instanceof mW?e:new mW({getToken:e.getToken}),this._delegate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fp(),t=arguments.length>1?arguments[1]:void 0,n=Pp(e=Bd(e),"app-check");if(dq().initialized||Yq(),Kq()&&Gq().then((function(e){return console.log("App Check debug token: ".concat(e,". You will need to add it to your app's App Check settings in the Firebase console for it to work."))})),n.isInitialized()){var r=n.getImmediate(),i=n.getOptions();if(i.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&i.provider.isEqual(t.provider))return r;throw _q.create("already-initialized",{appName:e.name})}var o=n.initialize({options:t});return bW(e,t.provider,t.isTokenAutoRefreshEnabled),hq(e).isTokenAutoRefreshEnabled&&Jq(o,"INTERNAL",(function(){})),o}(this.app,{provider:n,isTokenAutoRefreshEnabled:t})}},{key:"setTokenAutoRefreshEnabled",value:function(e){if(!this._delegate)throw xW.create("use-before-activation",{appName:this.app.name});!function(e,t){var n=hq(e.app);n.tokenRefresher&&(!0===t?n.tokenRefresher.start():n.tokenRefresher.stop()),n.isTokenAutoRefreshEnabled=t}(this._delegate,e)}},{key:"getToken",value:function(e){if(!this._delegate)throw xW.create("use-before-activation",{appName:this.app.name});return function(e,t){return _W.apply(this,arguments)}(this._delegate,e)}},{key:"onTokenChanged",value:function(e,t,n){if(!this._delegate)throw xW.create("use-before-activation",{appName:this.app.name});return function(e,t,n,r){var i=function(){},o=function(){};return i=null!=t.next?t.next.bind(t):t,null!=t.error?o=t.error.bind(t):n&&(o=n),Jq(e,"EXTERNAL",i,o),function(){return eW(e.app,i)}}(this._delegate,e,t)}}]),e}(),SW=function(e){var t=e.getProvider("app-compat").getImmediate();return new EW(t)};fv.INTERNAL.registerComponent(new Vd("appCheck-compat",SW,"PUBLIC").setServiceProps({ReCaptchaEnterpriseProvider:vW,ReCaptchaV3Provider:pW,CustomProvider:mW})),fv.registerVersion("@firebase/app-check-compat","0.2.17");var TW="@firebase/database",CW="0.13.10",IW="";function PW(e){IW=e}var AW=function(){function e(t){T(this,e),this.domStorage_=t,this.prefix_="firebase:"}return I(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),md(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:vd(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),NW=function(){function e(){T(this,e),this.cache_={},this.isInMemoryStorage=!0}return I(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return bd(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),RW=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new AW(t)}}catch(Gn){}return new NW},OW=RW("localStorage"),MW=RW("sessionStorage"),DW=new Jd("@firebase/database"),LW=function(){var e=1;return function(){return e++}}(),FW=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,Uh(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Id;n.update(t);var r=n.digest();return Wh.encodeByteArray(r)},jW=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?md(r):r,t+=" "}return t},zW=null,BW=!0,VW=function(e,t){Uh(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(DW.logLevel=Kd.VERBOSE,zW=DW.log.bind(DW),t&&MW.set("logging_enabled",!0)):"function"===typeof e?zW=e:(zW=null,MW.remove("logging_enabled"))},UW=function(){if(!0===BW&&(BW=!1,null===zW&&!0===MW.get("logging_enabled")&&VW(!0)),zW){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=jW.apply(null,t);zW(r)}},HW=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];UW.apply(void 0,[e].concat(n))}},qW=function(){var e="FIREBASE INTERNAL ERROR: "+jW.apply(void 0,arguments);DW.error(e)},WW=function(){var e="FIREBASE FATAL ERROR: ".concat(jW.apply(void 0,arguments));throw DW.error(e),new Error(e)},KW=function(){var e="FIREBASE WARNING: "+jW.apply(void 0,arguments);DW.warn(e)},GW=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},ZW="[MIN_NAME]",YW="[MAX_NAME]",QW=function(e,t){if(e===t)return 0;if(e===ZW||t===YW)return-1;if(t===ZW||e===YW)return 1;var n=aK(e),r=aK(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},$W=function(e,t){return e===t?0:e<t?-1:1},XW=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+md(t))},JW=function e(t){if("object"!==typeof t||null===t)return md(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",o=0;o<n.length;o++)0!==o&&(i+=","),i+=md(n[o]),i+=":",i+=e(t[n[o]]);return i+="}"},eK=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function tK(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var nK=function(e){Uh(!GW(e),"Invalid JSON number");var t,n,r,i,o,a=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),a))+a,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(o=52;o;o-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(o=0;o<64;o+=8){var l=parseInt(u.substr(o,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var rK=new RegExp("^-?(0*)\\d{1,10}$"),iK=-2147483648,oK=2147483647,aK=function(e){if(rK.test(e)){var t=Number(e);if(t>=iK&&t<=oK)return t}return null},sK=function(e){try{e()}catch(Gn){setTimeout((function(){var t=Gn.stack||"";throw KW("Exception was thrown by user callback.",t),Gn}),Math.floor(0))}},uK=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},cK=function(){function e(t,n){var r=this;T(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return I(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){KW('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),lK=function(){function e(t,n,r){var i=this;T(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return I(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(UW("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',KW(e)}}]),e}(),fK=function(){function e(t){T(this,e),this.accessToken=t}return I(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();fK.OWNER="owner";var hK="5",dK=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,pK="websocket",vK="long_polling",mK=function(){function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];T(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=a,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=OW.get("host:"+t)||this._host}return I(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&OW.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function gK(e,t,n){var r;if(Uh("string"===typeof t,"typeof type must == string"),Uh("object"===typeof n,"typeof params must == object"),t===pK)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==vK)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return tK(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var yK=function(){function e(){T(this,e),this.counters_={}}return I(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;bd(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return Yh(void 0,this.counters_)}}]),e}(),bK={},_K={};function wK(e){var t=e.toString();return bK[t]||(bK[t]=new yK),bK[t]}var kK=function(){function e(t){T(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return I(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&sK((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),xK="start",EK="close",SK=function(){function e(t,n,r,i,o,a,s){var u=this;T(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=a,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=HW(t),this.stats_=wK(n),this.urlFn=function(e){return u.appCheckToken&&(e.ac=u.appCheckToken),gK(n,vK,e)}}return I(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new kK(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(nd()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new TK((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],o=t[1],a=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===xK)n.id=o,n.password=a;else{if(i!==EK)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],o=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=hK,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&dK.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=md(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Kh(t),r=eK(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!nd()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=md(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!nd()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),TK=function(){function e(t,n,r,i){if(T(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,nd())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=LW(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var o="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))o='<script>document.domain="'+document.domain+'";<\/script>';var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(Gn){UW("frame writing exception"),Gn.stack&&UW(Gn.stack),UW(Gn)}}}return I(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;nd()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){UW("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(Gn){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||UW("No IE domain setting required")}catch(Gn){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),CK=null;"undefined"!==typeof MozWebSocket?CK=MozWebSocket:"undefined"!==typeof WebSocket&&(CK=WebSocket);var IK=function(){function e(t,n,r,i,o,a,s){T(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=HW(this.connId),this.stats_=wK(n),this.connURL=e.connectionURL_(n,a,s,i,r),this.nodeAdmin=n.nodeAdmin}return I(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,OW.set("previous_websocket_failure",!0);try{var r;if(nd()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(hK,"/").concat(IW,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var o={NODE_ENV:"production",PUBLIC_URL:"/mapty",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},a=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new CK(this.connURL,[],r)}catch(Gn){this.log_("Error instantiating WebSocket.");var s=Gn.message||Gn.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){OW.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=vd(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(Uh(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=md(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=eK(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(Gn){this.log_("Exception thrown from WebSocket.send():",Gn.message||Gn.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var o={};return o.v=hK,!nd()&&"undefined"!==typeof location&&location.hostname&&dK.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o.ac=r),i&&(o.p=i),gK(e,pK,o)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==CK&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return OW.isInMemoryStorage||!0===OW.get("previous_websocket_failure")}}]),e}();IK.responsesRequiredToBeHealthy=2,IK.healthyTimeout=3e4;var PK=function(){function e(t){T(this,e),this.initTransports_(t)}return I(e,[{key:"initTransports_",value:function(t){var n=IK&&IK.isAvailable(),r=n&&!IK.previouslyFailed();if(t.webSocketOnly&&(n||KW("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[IK];else{var i,o=this.transports_=[],a=Lh(e.ALL_TRANSPORTS);try{for(a.s();!(i=a.n()).done;){var s=i.value;s&&s.isAvailable()&&o.push(s)}}catch(u){a.e(u)}finally{a.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[SK,IK]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();PK.globalTransportInitialized_=!1;var AK=function(){function e(t,n,r,i,o,a,s,u,c,l){T(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=a,this.onReady_=s,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=HW("c:"+this.id+":"),this.transportManager_=new PK(n),this.log_("Connection created"),this.start_()}return I(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=uK((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=XW("t",e),n=XW("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=XW("t",e),n=XW("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=XW("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?qW("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):qW("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),hK!==n&&KW("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),uK((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):uK((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(OW.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),NK=function(){function e(){T(this,e)}return I(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),RK=function(){function e(t){T(this,e),this.allowedEvents_=t,this.listeners_={},Uh(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return I(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=S(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0;o<t.length;o++)t[o].callback.apply(t[o].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){Uh(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),OK=function(e){N(n,e);var t=D(n);function n(){var e;return T(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||$h()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return I(n,[{key:"getInitialEvent",value:function(e){return Uh("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(RK),MK=function(){function e(t,n){if(T(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return I(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function DK(){return new MK("")}function LK(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function FK(e){return e.pieces_.length-e.pieceNum_}function jK(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new MK(e.pieces_,t)}function zK(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function BK(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function VK(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new MK(t,0)}function UK(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof MK)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var o=t.split("/"),a=0;a<o.length;a++)o[a].length>0&&n.push(o[a]);return new MK(n,0)}function HK(e){return e.pieceNum_>=e.pieces_.length}function qK(e,t){var n=LK(e),r=LK(t);if(null===n)return t;if(n===r)return qK(jK(e),jK(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function WK(e,t){for(var n=BK(e,0),r=BK(t,0),i=0;i<n.length&&i<r.length;i++){var o=QW(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function KK(e,t){if(FK(e)!==FK(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function GK(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(FK(e)>FK(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var ZK=I((function e(t,n){T(this,e),this.errorPrefix_=n,this.parts_=BK(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Ld(this.parts_[r]);YK(this)}));function YK(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+QK(e))}function QK(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var $K=function(e){N(n,e);var t=D(n);function n(){var e,r,i;return T(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return I(n,[{key:"getInitialEvent",value:function(e){return Uh("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(RK),XK=1e3,JK=function(e){N(n,e);var t=D(n);function n(e,r,i,o,a,s,u,c){var l;if(T(this,n),(l=t.call(this)).repoInfo_=e,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=o,l.onServerInfoUpdate_=a,l.authTokenProvider_=s,l.appCheckTokenProvider_=u,l.authOverride_=c,l.id=n.nextPersistentConnectionId_++,l.log_=HW("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=XK,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!nd())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return $K.getInstance().on("visible",l.onVisible_,P(l)),-1===e.host.indexOf("fblocal")&&OK.getInstance().on("online",l.onOnline_,P(l)),l}return I(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(md(i)),Uh(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new cd,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),Uh(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Uh(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(o))===e&&(t.log_("listen response",a),"ok"!==u&&t.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=gd(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=gd(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Uh(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+md(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):qW("Unrecognized action received from server: "+md(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;Uh(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=XK,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=XK,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=XK),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=y(m().mark((function e(){var t,r,i,o,a,s,u,l,f,h,d,p,v,g,y=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+n.nextConnectionId_++,a=this.lastSessionId,s=!1,u=null,l=function(){u?u.close():(s=!0,i())},f=function(e){Uh(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:l,sendRequest:f},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);case 19:d=e.sent,p=c(d,2),v=p[0],g=p[1],s?UW("getToken() completed but was canceled"):(UW("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=g&&g.token,u=new AK(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){KW(e+" ("+y.repoInfo_.toString()+")"),y.interrupt("server_kill")}),a)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&KW(e.t0),l());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){UW("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){UW("Resuming connection for reason: "+e),delete this.interruptReasons_[e],wd(this.interruptReasons_)&&(this.reconnectDelay_=XK,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return JW(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new MK(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){UW("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){UW("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=Lh(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=Lh(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var o=0;o<this.outstandingPuts_.length;o++)this.outstandingPuts_[o]&&this.sendPut_(o);for(;this.onDisconnectRequestQueue_.length;){var a=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(a.action,a.pathString,a.data,a.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";nd()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+IW.replace(/\./g,"-")]=1,$h()?e["framework.cordova"]=1:ed()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=OK.getInstance().currentlyOnline();return wd(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&bd(e,"w")){var n=_d(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();KW("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(NK);JK.nextPersistentConnectionId_=0,JK.nextConnectionId_=0;var eG,tG=function(){function e(t,n){T(this,e),this.name=t,this.node=n}return I(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),nG=function(){function e(){T(this,e)}return I(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new tG(ZW,e),r=new tG(ZW,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return tG.MIN}}]),e}(),rG=function(e){N(n,e);var t=D(n);function n(){return T(this,n),t.apply(this,arguments)}return I(n,[{key:"compare",value:function(e,t){return QW(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw Hh("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return tG.MIN}},{key:"maxPost",value:function(){return new tG(YW,eG)}},{key:"makePost",value:function(e,t){return Uh("string"===typeof e,"KeyIndex indexValue must always be a string."),new tG(e,eG)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return eG},set:function(e){eG=e}}]),n}(nG),iG=new rG,oG=function(){function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;T(this,e),this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse_?t.left:t.right;else{if(0===a){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return I(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),aG=function(){function e(t,n,r,i,o){T(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:cG.EMPTY_NODE,this.right=null!=o?o:cG.EMPTY_NODE}return I(e,[{key:"copy",value:function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return cG.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return cG.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();aG.RED=!0,aG.BLACK=!1;var sG,uG=function(){function e(){T(this,e)}return I(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new aG(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),cG=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;T(this,e),this.comparator_=t,this.root_=n}return I(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,aG.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,aG.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new oG(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new oG(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new oG(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new oG(this.root_,null,this.comparator_,!0,e)}}]),e}();function lG(e,t){return QW(e.name,t.name)}function fG(e,t){return QW(e,t)}cG.EMPTY_NODE=new uG;var hG,dG,pG,vG=function(e){return"number"===typeof e?"number:"+nK(e):"string:"+e},mG=function(e){if(e.isLeafNode()){var t=e.val();Uh("string"===typeof t||"number"===typeof t||"object"===typeof t&&bd(t,".sv"),"Priority must be a string or number.")}else Uh(e===sG||e.isEmpty(),"priority of unexpected type.");Uh(e===sG||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},gG=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;T(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Uh(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),mG(this.priorityNode_)}return I(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return HK(t)?this:".priority"===LK(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=LK(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Uh(".priority"!==r||1===FK(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(jK(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+vG(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?nK(this.value_):this.value_,this.lazyHash_=FW(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Uh(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),o=e.VALUE_TYPE_ORDER.indexOf(r);return Uh(i>=0,"Unknown leaf type: "+n),Uh(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return hG},set:function(e){hG=e}}]),e}();gG.VALUE_TYPE_ORDER=["object","boolean","number","string"];var yG,bG,_G=function(e){N(n,e);var t=D(n);function n(){return T(this,n),t.apply(this,arguments)}return I(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?QW(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return tG.MIN}},{key:"maxPost",value:function(){return new tG(YW,new gG("[PRIORITY-POST]",pG))}},{key:"makePost",value:function(e,t){var n=dG(e);return new tG(t,new gG("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(nG),wG=new _G,kG=Math.log(2),xG=function(){function e(t){T(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/kG,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return I(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),EG=function(e,t,n,r){e.sort(t);var i=function t(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=e[r],a=n?n(o):o,new aG(a,o.node,aG.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return o=e[u],a=n?n(o):o,new aG(a,o.node,aG.BLACK,c,l)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var c=i(o+1,s),l=e[o],f=n?n(l):l;u(new aG(f,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?s(f,aG.BLACK):(s(f,aG.BLACK),s(f,aG.RED))}return o}(new xG(e.length));return new cG(r||t,o)},SG={},TG=function(){function e(t,n){T(this,e),this.indexes_=t,this.indexSet_=n}return I(e,[{key:"get",value:function(e){var t=_d(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof cG?t:null}},{key:"hasIndex",value:function(e){return bd(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){Uh(t!==iG,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,a=n.getIterator(tG.Wrap),s=a.getNext();s;)o=o||t.isDefinedOn(s.node),i.push(s),s=a.getNext();r=o?EG(i,t.getCompare()):SG;var u=t.toString(),c=Object.assign({},this.indexSet_);c[u]=t;var l=Object.assign({},this.indexes_);return l[u]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this,i=kd(this.indexes_,(function(e,i){var o=_d(r.indexSet_,i);if(Uh(o,"Missing index implementation for "+i),e===SG){if(o.isDefinedOn(t.node)){for(var a=[],s=n.getIterator(tG.Wrap),u=s.getNext();u;)u.name!==t.name&&a.push(u),u=s.getNext();return a.push(t),EG(a,o.getCompare())}return SG}var c=n.get(t.name),l=e;return c&&(l=l.remove(new tG(t.name,c))),l.insert(t,t.node)}));return new e(i,this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(kd(this.indexes_,(function(e){if(e===SG)return e;var r=n.get(t.name);return r?e.remove(new tG(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return Uh(SG&&wG,"ChildrenNode.ts has not been loaded"),yG=yG||new e({".priority":SG},{".priority":wG})}}]),e}(),CG=function(){function e(t,n,r){T(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&mG(this.priorityNode_),this.children_.isEmpty()&&Uh(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return I(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||bG}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?bG:t}},{key:"getChild",value:function(e){var t=LK(e);return null===t?this:this.getImmediateChild(t).getChild(jK(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(Uh(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,o=new tG(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(o,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(o,this.children_));var a=r.isEmpty()?bG:this.priorityNode_;return new e(r,a,i)}},{key:"updateChild",value:function(e,t){var n=LK(e);if(null===n)return t;Uh(".priority"!==LK(e)||1===FK(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(jK(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(wG,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+vG(this.getPriority().val())+":"),this.forEachChild(wG,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":FW(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new tG(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new tG(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new tG(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,tG.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,tG.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===IG?-1:0}},{key:"withIndex",value:function(t){if(t===iG||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===iG||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(wG),r=t.getIterator(wG),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===iG?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return bG||(bG=new e(new cG(fG),null,TG.Default))}}]),e}();CG.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var IG=new(function(e){N(n,e);var t=D(n);function n(){return T(this,n),t.call(this,new cG(fG),CG.EMPTY_NODE,TG.Default)}return I(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return CG.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(CG));Object.defineProperties(tG,{MIN:{value:new tG(ZW,CG.EMPTY_NODE)},MAX:{value:new tG(YW,IG)}}),rG.__EMPTY_NODE=CG.EMPTY_NODE,gG.__childrenNodeConstructor=CG,sG=IG,function(e){pG=e}(IG);function PG(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return CG.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Uh(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new gG(n,PG(t))}if(e instanceof Array){var r=CG.EMPTY_NODE;return tK(e,(function(t,n){if(bd(e,t)&&"."!==t.substring(0,1)){var i=PG(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(PG(t))}var i=[],o=!1,a=e;if(tK(a,(function(e,t){if("."!==e.substring(0,1)){var n=PG(t);n.isEmpty()||(o=o||!n.getPriority().isEmpty(),i.push(new tG(e,n)))}})),0===i.length)return CG.EMPTY_NODE;var s=EG(i,lG,(function(e){return e.name}),fG);if(o){var u=EG(i,wG.getCompare());return new CG(s,PG(t),new TG({".priority":u},{".priority":wG}))}return new CG(s,PG(t),TG.Default)}!function(e){dG=e}(PG);var AG=function(e){N(n,e);var t=D(n);function n(e){var r;return T(this,n),(r=t.call(this)).indexPath_=e,Uh(!HK(e)&&".priority"!==LK(e),"Can't create PathIndex with empty path or .priority key"),r}return I(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?QW(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=PG(e),r=CG.EMPTY_NODE.updateChild(this.indexPath_,n);return new tG(t,r)}},{key:"maxPost",value:function(){var e=CG.EMPTY_NODE.updateChild(this.indexPath_,IG);return new tG(YW,e)}},{key:"toString",value:function(){return BK(this.indexPath_,0).join("/")}}]),n}(nG),NG=function(e){N(n,e);var t=D(n);function n(){return T(this,n),t.apply(this,arguments)}return I(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?QW(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return tG.MIN}},{key:"maxPost",value:function(){return tG.MAX}},{key:"makePost",value:function(e,t){var n=PG(e);return new tG(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(nG),RG=new NG,OG="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",MG=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var o=new Array(8);for(r=7;r>=0;r--)o[r]=OG.charAt(n%64),n=Math.floor(n/64);Uh(0===n,"Cannot push at time == 0");var a=o.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)a+=OG.charAt(t[r]);return Uh(20===a.length,"nextPushId: Length should be 20."),a}}(),DG=function(e){if("2147483647"===e)return"-";var t=aK(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return YW;var o=n[i],a=OG.charAt(OG.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},LG=function(e){if("-2147483648"===e)return ZW;var t=aK(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=OG.charAt(OG.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function FG(e){return{type:"value",snapshotNode:e}}function jG(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function zG(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function BG(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var VG=function(){function e(t){T(this,e),this.index_=t}return I(e,[{key:"updateChild",value:function(e,t,n,r,i,o){Uh(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(zG(t,a)):Uh(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(jG(t,n)):o.trackChildChange(BG(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(wG,(function(e,r){t.hasChild(e)||n.trackChildChange(zG(e,r))})),t.isLeafNode()||t.forEachChild(wG,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(BG(t,r,i))}else n.trackChildChange(jG(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?CG.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),UG=function(){function e(t){T(this,e),this.indexedFilter_=new VG(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return I(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}},{key:"updateChild",value:function(e,t,n,r,i,o){return this.matches(new tG(t,n))||(n=CG.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=CG.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(CG.EMPTY_NODE);var i=this;return t.forEachChild(wG,(function(e,t){i.matches(new tG(e,t))||(r=r.updateImmediateChild(e,CG.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),HG=function(){function e(t){T(this,e),this.rangedFilter_=new UG(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return I(e,[{key:"updateChild",value:function(e,t,n,r,i,o){return this.rangedFilter_.matches(new tG(t,n))||(n=CG.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=CG.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=CG.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{var s,u,c,l;if(r=(r=t.withIndex(this.index_)).updatePriority(CG.EMPTY_NODE),this.reverse_){l=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var f=this.index_.getCompare();c=function(e,t){return f(t,e)}}else l=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();for(var h=0,d=!1;l.hasNext();){var p=l.getNext();!d&&c(s,p)<=0&&(d=!0),d&&h<this.limit_&&c(p,u)<=0?h++:r=r.updateImmediateChild(p.name,CG.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var o;if(this.reverse_){var a=this.index_.getCompare();o=function(e,t){return a(t,e)}}else o=this.index_.getCompare();var s=e;Uh(s.numChildren()===this.limit_,"");var u=new tG(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var f=s.getImmediateChild(t),h=r.getChildAfterChild(this.index_,c,this.reverse_);null!=h&&(h.name===t||s.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);var d=null==h?1:o(h,u);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(BG(t,n,f)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(zG(t,f));var p=s.updateImmediateChild(t,CG.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=i&&i.trackChildChange(jG(h.name,h.node)),p.updateImmediateChild(h.name,h.node)):p}return n.isEmpty()?e:l&&o(c,u)>=0?(null!=i&&(i.trackChildChange(zG(c.name,c.node)),i.trackChildChange(jG(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,CG.EMPTY_NODE)):e}}]),e}(),qG=function(){function e(){T(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=wG}return I(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return Uh(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return Uh(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ZW}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return Uh(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return Uh(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:YW}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return Uh(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===wG}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function WG(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function KG(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function GG(e,t){var n=e.copy();return n.index_=t,n}function ZG(e){var t,n={};return e.isDefault()||(e.index_===wG?t="$priority":e.index_===RG?t="$value":e.index_===iG?t="$key":(Uh(e.index_ instanceof AG,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=md(t),e.startSet_&&(n.startAt=md(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+md(e.indexStartName_))),e.endSet_&&(n.endAt=md(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+md(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function YG(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==wG&&(t.i=e.index_.toString()),t}var QG=function(e){N(n,e);var t=D(n);function n(e,r,i,o){var a;return T(this,n),(a=t.call(this)).repoInfo_=e,a.onDataUpdate_=r,a.authTokenProvider_=i,a.appCheckTokenProvider_=o,a.log_=HW("p:rest:"),a.listens_={},a}return I(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var o=this,a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var c=ZG(e._queryParams);this.restRequest_(a+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&o.onDataUpdate_(a,n,!1,r),_d(o.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=ZG(e._queryParams),r=e._path.toString(),i=new cd;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var o=c(i,2),a=o[0],s=o[1];a&&a.accessToken&&(n.auth=a.accessToken),s&&s.token&&(n.ac=s.token);var u=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Sd(n);t.log_("Sending REST request for "+u);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(r&&4===l.readyState){t.log_("REST Response for "+u+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=vd(l.responseText)}catch(Gn){KW("Failed to parse JSON response for "+u+": "+l.responseText)}r(null,e)}else 401!==l.status&&404!==l.status&&KW("Got unsuccessful REST response for "+u+" Status: "+l.status),r(l.status);r=null}},l.open("GET",u,!0),l.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(Uh(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(NK),$G=function(){function e(){T(this,e),this.rootNode_=CG.EMPTY_NODE}return I(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function XG(){return{value:null,children:new Map}}function JG(e,t,n){if(HK(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=LK(t);e.children.has(r)||e.children.set(r,XG()),JG(e.children.get(r),t=jK(t),n)}}function eZ(e,t){if(HK(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(wG,(function(t,n){JG(e,new MK(t),n)})),eZ(e,t)}if(e.children.size>0){var r=LK(t);if(t=jK(t),e.children.has(r))eZ(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function tZ(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){tZ(r,new MK(t.toString()+"/"+e),n)}))}var nZ,rZ=function(){function e(t){T(this,e),this.collection_=t,this.last_=null}return I(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&tK(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),iZ=function(){function e(t,n){T(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new rZ(t);var r=1e4+2e4*Math.random();uK(this.reportStats_.bind(this),Math.floor(r))}return I(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;tK(t,(function(t,i){i>0&&bd(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),uK(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function oZ(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(nZ||(nZ={}));var aZ,sZ=function(){function e(t,n,r){T(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=nZ.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return I(e,[{key:"operationForChild",value:function(t){if(HK(this.path)){if(null!=this.affectedTree.value)return Uh(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new MK(t));return new e(DK(),n,this.revert)}return Uh(LK(this.path)===t,"operationForChild called for unrelated child."),new e(jK(this.path),this.affectedTree,this.revert)}}]),e}(),uZ=function(){function e(t,n){T(this,e),this.source=t,this.path=n,this.type=nZ.LISTEN_COMPLETE}return I(e,[{key:"operationForChild",value:function(t){return HK(this.path)?new e(this.source,DK()):new e(this.source,jK(this.path))}}]),e}(),cZ=function(){function e(t,n,r){T(this,e),this.source=t,this.path=n,this.snap=r,this.type=nZ.OVERWRITE}return I(e,[{key:"operationForChild",value:function(t){return HK(this.path)?new e(this.source,DK(),this.snap.getImmediateChild(t)):new e(this.source,jK(this.path),this.snap)}}]),e}(),lZ=function(){function e(t,n,r){T(this,e),this.source=t,this.path=n,this.children=r,this.type=nZ.MERGE}return I(e,[{key:"operationForChild",value:function(t){if(HK(this.path)){var n=this.children.subtree(new MK(t));return n.isEmpty()?null:n.value?new cZ(this.source,DK(),n.value):new e(this.source,DK(),n)}return Uh(LK(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,jK(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),fZ=function(){function e(t,n,r){T(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return I(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(HK(e))return this.isFullyInitialized()&&!this.filtered_;var t=LK(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),hZ=I((function e(t){T(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function dZ(e,t,n,r,i,o){var a=r.filter((function(e){return e.type===n}));a.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Hh("Should only compare child_ events.");var r=new tG(t.childName,t.snapshotNode),i=new tG(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),a.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function pZ(e,t){return{eventCache:e,serverCache:t}}function vZ(e,t,n,r){return pZ(new fZ(t,n,r),e.serverCache)}function mZ(e,t,n,r){return pZ(e.eventCache,new fZ(t,n,r))}function gZ(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function yZ(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var bZ=function(){return aZ||(aZ=new cG($W)),aZ},_Z=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bZ();T(this,e),this.value=t,this.children=n}return I(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:DK(),value:this.value};if(HK(e))return null;var n=LK(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(jK(e),t);return null!=i?{path:UK(new MK(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(HK(t))return this;var n=LK(t),r=this.children.get(n);return null!==r?r.subtree(jK(t)):new e(null)}},{key:"set",value:function(t,n){if(HK(t))return new e(n,this.children);var r=LK(t),i=(this.children.get(r)||new e(null)).set(jK(t),n),o=this.children.insert(r,i);return new e(this.value,o)}},{key:"remove",value:function(t){if(HK(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=LK(t),r=this.children.get(n);if(r){var i,o=r.remove(jK(t));return i=o.isEmpty()?this.children.remove(n):this.children.insert(n,o),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(HK(e))return this.value;var t=LK(e),n=this.children.get(t);return n?n.get(jK(e)):null}},{key:"setTree",value:function(t,n){if(HK(t))return n;var r,i=LK(t),o=(this.children.get(i)||new e(null)).setTree(jK(t),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(DK(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(UK(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,DK(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(HK(e))return null;var i=LK(e),o=this.children.get(i);return o?o.findOnPath_(jK(e),UK(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,DK(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(HK(t))return this;this.value&&r(n,this.value);var i=LK(t),o=this.children.get(i);return o?o.foreachOnPath_(jK(t),UK(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(DK(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(UK(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return tK(t,(function(e,t){n=n.set(new MK(e),t)})),n}}]),e}(),wZ=function(){function e(t){T(this,e),this.writeTree_=t}return I(e,null,[{key:"empty",value:function(){return new e(new _Z(null))}}]),e}();function kZ(e,t,n){if(HK(t))return new wZ(new _Z(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=qK(i,t);return o=o.updateChild(a,n),new wZ(e.writeTree_.set(i,o))}var s=new _Z(n),u=e.writeTree_.setTree(t,s);return new wZ(u)}function xZ(e,t,n){var r=e;return tK(n,(function(e,n){r=kZ(r,UK(t,e),n)})),r}function EZ(e,t){if(HK(t))return wZ.empty();var n=e.writeTree_.setTree(t,new _Z(null));return new wZ(n)}function SZ(e,t){return null!=TZ(e,t)}function TZ(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(qK(n.path,t)):null}function CZ(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(wG,(function(e,n){t.push(new tG(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new tG(e,n.value))})),t}function IZ(e,t){if(HK(t))return e;var n=TZ(e,t);return new wZ(null!=n?new _Z(n):e.writeTree_.subtree(t))}function PZ(e){return e.writeTree_.isEmpty()}function AZ(e,t){return NZ(DK(),e.writeTree_,t)}function NZ(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(Uh(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=NZ(UK(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(UK(e,".priority"),r)),n}function RZ(e,t){return KZ(t,e)}function OZ(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function MZ(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Uh(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,o=!1,a=e.allWrites.length-1;i&&a>=0;){var s=e.allWrites[a];s.visible&&(a>=n&&DZ(s,r.path)?i=!1:GK(r.path,s.path)&&(o=!0)),a--}if(i){if(o)return function(e){e.visibleWrites=FZ(e.allWrites,LZ,DK()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=EZ(e.visibleWrites,r.path):tK(r.children,(function(t){e.visibleWrites=EZ(e.visibleWrites,UK(r.path,t))}));return!0}return!1}function DZ(e,t){if(e.snap)return GK(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&GK(UK(e.path,n),t))return!0;return!1}function LZ(e){return e.visible}function FZ(e,t,n){for(var r=wZ.empty(),i=0;i<e.length;++i){var o=e[i];if(t(o)){var a=o.path,s=void 0;if(o.snap)GK(n,a)?r=kZ(r,s=qK(n,a),o.snap):GK(a,n)&&(s=qK(a,n),r=kZ(r,DK(),o.snap.getChild(s)));else{if(!o.children)throw Hh("WriteRecord should have .snap or .children");if(GK(n,a))r=xZ(r,s=qK(n,a),o.children);else if(GK(a,n))if(HK(s=qK(a,n)))r=xZ(r,DK(),o.children);else{var u=_d(o.children,LK(s));if(u){var c=u.getChild(jK(s));r=kZ(r,DK(),c)}}}}}return r}function jZ(e,t,n,r,i){if(r||i){var o=IZ(e.visibleWrites,t);if(!i&&PZ(o))return n;if(i||null!=n||SZ(o,DK())){var a=FZ(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(GK(e.path,t)||GK(t,e.path))}),t);return AZ(a,n||CG.EMPTY_NODE)}return null}var s=TZ(e.visibleWrites,t);if(null!=s)return s;var u=IZ(e.visibleWrites,t);return PZ(u)?n:null!=n||SZ(u,DK())?AZ(u,n||CG.EMPTY_NODE):null}function zZ(e,t,n,r){return jZ(e.writeTree,e.treePath,t,n,r)}function BZ(e,t){return function(e,t,n){var r=CG.EMPTY_NODE,i=TZ(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(wG,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=IZ(e.visibleWrites,t);return n.forEachChild(wG,(function(e,t){var n=AZ(IZ(o,new MK(e)),t);r=r.updateImmediateChild(e,n)})),CZ(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return CZ(IZ(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function VZ(e,t,n,r){return function(e,t,n,r,i){Uh(r||i,"Either existingEventSnap or existingServerSnap must exist");var o=UK(t,n);if(SZ(e.visibleWrites,o))return null;var a=IZ(e.visibleWrites,o);return PZ(a)?i.getChild(n):AZ(a,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function UZ(e,t){return function(e,t){return TZ(e.visibleWrites,t)}(e.writeTree,UK(e.treePath,t))}function HZ(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,u=IZ(e.visibleWrites,t),c=TZ(u,DK());if(null!=c)s=c;else{if(null==n)return[];s=AZ(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],f=a.getCompare(),h=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,o)}function qZ(e,t,n){return function(e,t,n,r){var i=UK(t,n),o=TZ(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?AZ(IZ(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function WZ(e,t){return KZ(UK(e.treePath,t),e.writeTree)}function KZ(e,t){return{treePath:e,writeTree:t}}var GZ=function(){function e(){T(this,e),this.changeMap=new Map}return I(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;Uh("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Uh(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,BG(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,zG(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,jG(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Hh("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,BG(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),ZZ=new(function(){function e(){T(this,e)}return I(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),YZ=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;T(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return I(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new fZ(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return qZ(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:yZ(this.viewCache_),i=HZ(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function QZ(e,t,n,r,i){var o,a,s=new GZ;if(n.type===nZ.OVERWRITE){var u=n;u.source.fromUser?o=JZ(e,t,u.path,u.snap,r,i,s):(Uh(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered()&&!HK(u.path),o=XZ(e,t,u.path,u.snap,r,i,a,s))}else if(n.type===nZ.MERGE){var c=n;c.source.fromUser?o=function(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,u){var c=UK(n,r);eY(t,LK(c))&&(s=JZ(e,s,c,u,i,o,a))})),r.foreach((function(r,u){var c=UK(n,r);eY(t,LK(c))||(s=JZ(e,s,c,u,i,o,a))})),s}(e,t,c.path,c.children,r,i,s):(Uh(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),o=nY(e,t,c.path,c.children,r,i,a,s))}else if(n.type===nZ.ACK_USER_WRITE){var l=n;o=l.revert?function(e,t,n,r,i,o){var a;if(null!=UZ(r,n))return t;var s,u=new YZ(r,t,i),c=t.eventCache.getNode();if(HK(n)||".priority"===LK(n)){var l;if(t.serverCache.isFullyInitialized())l=zZ(r,yZ(t));else{var f=t.serverCache.getNode();Uh(f instanceof CG,"serverChildren would be complete if leaf node"),l=BZ(r,f)}s=e.filter.updateFullNode(c,l,o)}else{var h=LK(n),d=qZ(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=c.getImmediateChild(h)),(s=null!=d?e.filter.updateChild(c,h,d,jK(n),u,o):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(c,h,CG.EMPTY_NODE,jK(n),u,o):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(a=zZ(r,yZ(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,a,o))}return a=t.serverCache.isFullyInitialized()||null!=UZ(r,DK()),vZ(t,s,a,e.filter.filtersNodes())}(e,t,l.path,r,i,s):function(e,t,n,r,i,o,a){if(null!=UZ(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(HK(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return XZ(e,t,n,u.getNode().getChild(n),i,o,s,a);if(HK(n)){var c=new _Z(null);return u.getNode().forEachChild(iG,(function(e,t){c=c.set(new MK(e),t)})),nY(e,t,n,c,i,o,s,a)}return t}var l=new _Z(null);return r.foreach((function(e,t){var r=UK(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),nY(e,t,n,l,i,o,s,a)}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==nZ.LISTEN_COMPLETE)throw Hh("Unknown operation type: "+n.type);o=function(e,t,n,r,i){var o=t.serverCache,a=mZ(t,o.getNode(),o.isFullyInitialized()||HK(n),o.isFiltered());return $Z(e,a,n,r,ZZ,i)}(e,t,n.path,r,s)}var f=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=gZ(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(FG(gZ(t)))}}(t,o,f),{viewCache:o,changes:f}}function $Z(e,t,n,r,i,o){var a,s,u=t.eventCache;if(null!=UZ(r,n))return t;if(HK(n))if(Uh(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=yZ(t),l=BZ(r,c instanceof CG?c:CG.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),l,o)}else{var f=zZ(r,yZ(t));a=e.filter.updateFullNode(t.eventCache.getNode(),f,o)}else{var h=LK(n);if(".priority"===h){Uh(1===FK(n),"Can't have a priority with additional path components");var d=u.getNode(),p=VZ(r,n,d,s=t.serverCache.getNode());a=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,m=jK(n);if(u.isCompleteForChild(h)){s=t.serverCache.getNode();var g=VZ(r,n,u.getNode(),s);v=null!=g?u.getNode().getImmediateChild(h).updateChild(m,g):u.getNode().getImmediateChild(h)}else v=qZ(r,h,t.serverCache);a=null!=v?e.filter.updateChild(u.getNode(),h,v,m,i,o):u.getNode()}}return vZ(t,a,u.isFullyInitialized()||HK(n),e.filter.filtersNodes())}function XZ(e,t,n,r,i,o,a,s){var u,c=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if(HK(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{var h=LK(n);if(!c.isCompleteForPath(n)&&FK(n)>1)return t;var d=jK(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,ZZ,null)}var v=mZ(t,u,c.isFullyInitialized()||HK(n),l.filtersNodes());return $Z(e,v,n,i,new YZ(i,v,o),s)}function JZ(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new YZ(i,t,o);if(HK(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=vZ(t,u,!0,e.filter.filtersNodes());else{var f=LK(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=vZ(t,u,c.isFullyInitialized(),c.isFiltered());else{var h,d=jK(n),p=c.getNode().getImmediateChild(f);if(HK(d))h=r;else{var v=l.getCompleteChild(f);h=null!=v?".priority"===zK(d)&&v.getChild(VK(d)).isEmpty()?v:v.updateChild(d,r):CG.EMPTY_NODE}if(p.equals(h))s=t;else s=vZ(t,e.filter.updateChild(c.getNode(),f,h,d,l,a),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function eY(e,t){return e.eventCache.isCompleteForChild(t)}function tY(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function nY(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=HK(n)?r:new _Z(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=tY(0,t.serverCache.getNode().getImmediateChild(n),r);c=XZ(e,c,new MK(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!l.hasChild(n)&&!u){var f=tY(0,t.serverCache.getNode().getImmediateChild(n),r);c=XZ(e,c,new MK(n),f,i,o,a,s)}})),c}var rY,iY=function(){function e(t,n){T(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,o=new VG(i.getIndex()),a=(r=i).loadsAllData()?new VG(r.getIndex()):r.hasLimit()?new HG(r):new UG(r);this.processor_=function(e){return{filter:e}}(a);var s=n.serverCache,u=n.eventCache,c=o.updateFullNode(CG.EMPTY_NODE,s.getNode(),null),l=a.updateFullNode(CG.EMPTY_NODE,u.getNode(),null),f=new fZ(c,s.isFullyInitialized(),o.filtersNodes()),h=new fZ(l,u.isFullyInitialized(),a.filtersNodes());this.viewCache_=pZ(h,f),this.eventGenerator_=new hZ(this.query_)}return I(e,[{key:"query",get:function(){return this.query_}}]),e}();function oY(e,t){var n=yZ(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!HK(t)&&!n.getImmediateChild(LK(t)).isEmpty())?n.getChild(t):null}function aY(e){return 0===e.eventRegistrations_.length}function sY(e,t,n){var r=[];if(n){Uh(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var o=[],a=0;a<e.eventRegistrations_.length;++a){var s=e.eventRegistrations_[a];if(s.matches(t)){if(t.hasAnyCallback()){o=o.concat(e.eventRegistrations_.slice(a+1));break}}else o.push(s)}e.eventRegistrations_=o}else e.eventRegistrations_=[];return r}function uY(e,t,n,r){t.type===nZ.MERGE&&null!==t.source.queryId&&(Uh(yZ(e.viewCache_),"We should always have a full cache before handling merges"),Uh(gZ(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,o,a=e.viewCache_,s=QZ(e.processor_,a,t,n,r);return i=e.processor_,o=s.viewCache,Uh(o.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Uh(o.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Uh(s.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,cY(e,s.changes,s.viewCache.eventCache.getNode(),null)}function cY(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),dZ(e,i,"child_removed",t,r,n),dZ(e,i,"child_added",t,r,n),dZ(e,i,"child_moved",o,r,n),dZ(e,i,"child_changed",t,r,n),dZ(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var lY,fY=I((function e(){T(this,e),this.views=new Map}));function hY(e){return 0===e.views.size}function dY(e,t,n,r){var i=t.source.queryId;if(null!==i){var o=e.views.get(i);return Uh(null!=o,"SyncTree gave us an op for an invalid query."),uY(o,t,n,r)}var a,s=[],u=Lh(e.views.values());try{for(u.s();!(a=u.n()).done;){var c=a.value;s=s.concat(uY(c,t,n,r))}}catch(l){u.e(l)}finally{u.f()}return s}function pY(e,t,n,r,i){var o=t._queryIdentifier,a=e.views.get(o);if(!a){var s=zZ(n,i?r:null),u=!1;s?u=!0:r instanceof CG?(s=BZ(n,r),u=!1):(s=CG.EMPTY_NODE,u=!1);var c=pZ(new fZ(s,u,!1),new fZ(r,i,!1));return new iY(t,c)}return a}function vY(e,t,n,r,i,o){var a=pY(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(wG,(function(e,t){r.push(jG(e,t))})),n.isFullyInitialized()&&r.push(FG(n.getNode())),cY(e,r,n.getNode(),t)}(a,n)}function mY(e,t,n,r){var i=t._queryIdentifier,o=[],a=[],s=wY(e);if("default"===i){var u,l=Lh(e.views.entries());try{for(l.s();!(u=l.n()).done;){var f=c(u.value,2),h=f[0],d=f[1];a=a.concat(sY(d,n,r)),aY(d)&&(e.views.delete(h),d.query._queryParams.loadsAllData()||o.push(d.query))}}catch(v){l.e(v)}finally{l.f()}}else{var p=e.views.get(i);p&&(a=a.concat(sY(p,n,r)),aY(p)&&(e.views.delete(i),p.query._queryParams.loadsAllData()||o.push(p.query)))}return s&&!wY(e)&&o.push(new(Uh(rY,"Reference.ts has not been loaded"),rY)(t._repo,t._path)),{removed:o,events:a}}function gY(e){var t,n=[],r=Lh(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(o){r.e(o)}finally{r.f()}return n}function yY(e,t){var n,r=null,i=Lh(e.views.values());try{for(i.s();!(n=i.n()).done;){var o=n.value;r=r||oY(o,t)}}catch(a){i.e(a)}finally{i.f()}return r}function bY(e,t){if(t._queryParams.loadsAllData())return kY(e);var n=t._queryIdentifier;return e.views.get(n)}function _Y(e,t){return null!=bY(e,t)}function wY(e){return null!=kY(e)}function kY(e){var t,n=Lh(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var xY=1,EY=I((function e(t){T(this,e),this.listenProvider_=t,this.syncPointTree_=new _Z(null),this.pendingWriteTree_={visibleWrites:wZ.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function SY(e,t,n,r,i){return function(e,t,n,r,i){Uh(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=kZ(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?MY(e,new cZ({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function TY(e,t,n,r){!function(e,t,n,r){Uh(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=xZ(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=_Z.fromObject(n);return MY(e,new lZ({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function CY(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=OZ(e.pendingWriteTree_,t),i=MZ(e.pendingWriteTree_,t);if(i){var o=new _Z(null);return null!=r.snap?o=o.set(DK(),!0):tK(r.children,(function(e){o=o.set(new MK(e),!0)})),MY(e,new sZ(r.path,o,n))}return[]}function IY(e,t,n){return MY(e,new cZ({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function PY(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=t._path,a=e.syncPointTree_.get(o),s=[];if(a&&("default"===t._queryIdentifier||_Y(a,t))){var u=mY(a,t,n,r);hY(a)&&(e.syncPointTree_=e.syncPointTree_.remove(o));var c=u.removed;if(s=u.events,!i){var l=-1!==c.findIndex((function(e){return e._queryParams.loadsAllData()})),f=e.syncPointTree_.findOnPath(o,(function(e,t){return wY(t)}));if(l&&!f){var h=e.syncPointTree_.subtree(o);if(!h.isEmpty())for(var d=HY(h),p=0;p<d.length;++p){var v=d[p],m=v.query,g=FY(e,v);e.listenProvider_.startListening(qY(m),jY(e,m),g.hashFn,g.onComplete)}}if(!f&&c.length>0&&!r)if(l){var y=null;e.listenProvider_.stopListening(qY(t),y)}else c.forEach((function(t){var n=e.queryToTagMap.get(zY(t));e.listenProvider_.stopListening(qY(t),n)}))}WY(e,c)}return s}function AY(e,t,n,r){var i=BY(e,r);if(null!=i){var o=VY(i),a=o.path,s=o.queryId,u=qK(a,t);return UY(e,a,new cZ(oZ(s),u,n))}return[]}function NY(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t._path,o=null,a=!1;e.syncPointTree_.foreachOnPath(i,(function(e,t){var n=qK(e,i);o=o||yY(t,n),a=a||wY(t)}));var s,u=e.syncPointTree_.get(i);if(u?(a=a||wY(u),o=o||yY(u,DK())):(u=new fY,e.syncPointTree_=e.syncPointTree_.set(i,u)),null!=o)s=!0;else{s=!1,o=CG.EMPTY_NODE;var c=e.syncPointTree_.subtree(i);c.foreachChild((function(e,t){var n=yY(t,DK());n&&(o=o.updateImmediateChild(e,n))}))}var l=_Y(u,t);if(!l&&!t._queryParams.loadsAllData()){var f=zY(t);Uh(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");var h=KY();e.queryToTagMap.set(f,h),e.tagToQueryMap.set(h,f)}var d=RZ(e.pendingWriteTree_,i),p=vY(u,t,n,d,o,s);if(!l&&!a&&!r){var v=bY(u,t);p=p.concat(GY(e,t,v))}return p}function RY(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=yY(n,qK(e,t));if(r)return r}));return jZ(r,t,i,n,!0)}function OY(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=qK(e,n);r=r||yY(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||yY(i,DK()):(i=new fY,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new fZ(r,!0,!1):null;return function(e){return gZ(e.viewCache_)}(pY(i,t,RZ(e.pendingWriteTree_,t._path),o?a.getNode():CG.EMPTY_NODE,o))}function MY(e,t){return DY(t,e.syncPointTree_,null,RZ(e.pendingWriteTree_,DK()))}function DY(e,t,n,r){if(HK(e.path))return LY(e,t,n,r);var i=t.get(DK());null==n&&null!=i&&(n=yY(i,DK()));var o=[],a=LK(e.path),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=WZ(r,a);o=o.concat(DY(s,u,c,l))}return i&&(o=o.concat(dY(i,e,r,n))),o}function LY(e,t,n,r){var i=t.get(DK());null==n&&null!=i&&(n=yY(i,DK()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=WZ(r,t),u=e.operationForChild(t);u&&(o=o.concat(LY(u,i,a,s)))})),i&&(o=o.concat(dY(i,e,r,n))),o}function FY(e,t){var n=t.query,r=jY(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||CG.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=BY(e,n);if(r){var i=VY(r),o=i.path,a=i.queryId,s=qK(o,t);return UY(e,o,new uZ(oZ(a),s))}return[]}(e,n._path,r):function(e,t){return MY(e,new uZ({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return PY(e,n,null,i)}}}function jY(e,t){var n=zY(t);return e.queryToTagMap.get(n)}function zY(e){return e._path.toString()+"$"+e._queryIdentifier}function BY(e,t){return e.tagToQueryMap.get(t)}function VY(e){var t=e.indexOf("$");return Uh(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new MK(e.substr(0,t))}}function UY(e,t,n){var r=e.syncPointTree_.get(t);return Uh(r,"Missing sync point for query tag that we're tracking"),dY(r,n,RZ(e.pendingWriteTree_,t),null)}function HY(e){return e.fold((function(e,t,n){if(t&&wY(t))return[kY(t)];var r=[];return t&&(r=gY(t)),tK(n,(function(e,t){r=r.concat(t)})),r}))}function qY(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Uh(lY,"Reference.ts has not been loaded"),lY)(e._repo,e._path):e}function WY(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=zY(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}function KY(){return xY++}function GY(e,t,n){var r=t._path,i=jY(e,t),o=FY(e,n),a=e.listenProvider_.startListening(qY(t),i,o.hashFn,o.onComplete),s=e.syncPointTree_.subtree(r);if(i)Uh(!wY(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!HK(e)&&t&&wY(t))return[kY(t).query];var r=[];return t&&(r=r.concat(gY(t).map((function(e){return e.query})))),tK(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<u.length;++c){var l=u[c];e.listenProvider_.stopListening(qY(l),jY(e,l))}return a}var ZY=function(){function e(t){T(this,e),this.node_=t}return I(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),YY=function(){function e(t,n){T(this,e),this.syncTree_=t,this.path_=n}return I(e,[{key:"getImmediateChild",value:function(t){var n=UK(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return RY(this.syncTree_,this.path_)}}]),e}(),QY=function(e,t,n){return e&&"object"===typeof e?(Uh(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?$Y(e[".sv"],t,n):"object"===typeof e[".sv"]?XY(e[".sv"],t):void Uh(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},$Y=function(e,t,n){if("timestamp"===e)return n.timestamp;Uh(!1,"Unexpected server value: "+e)},XY=function(e,t,n){e.hasOwnProperty("increment")||Uh(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&Uh(!1,"Unexpected increment value: "+r);var i=t.node();if(Uh(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i.getValue();return"number"!==typeof o?r:o+r},JY=function(e,t,n,r){return tQ(t,new YY(n,e),r)},eQ=function(e,t,n){return tQ(e,new ZY(t),n)};function tQ(e,t,n){var r,i=e.getPriority().val(),o=QY(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=QY(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new gG(s,PG(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new gG(o))),u.forEachChild(wG,(function(e,i){var o=tQ(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}var nQ=I((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};T(this,e),this.name=t,this.parent=n,this.node=r}));function rQ(e,t){for(var n=t instanceof MK?t:new MK(t),r=e,i=LK(n);null!==i;){var o=_d(r.node.children,i)||{children:{},childCount:0};r=new nQ(i,r,o),i=LK(n=jK(n))}return r}function iQ(e){return e.node.value}function oQ(e,t){e.node.value=t,lQ(e)}function aQ(e){return e.node.childCount>0}function sQ(e,t){tK(e.node.children,(function(n,r){t(new nQ(n,e,r))}))}function uQ(e,t,n,r){n&&!r&&t(e),sQ(e,(function(e){uQ(e,t,!0,r)})),n&&r&&t(e)}function cQ(e){return new MK(null===e.parent?e.name:cQ(e.parent)+"/"+e.name)}function lQ(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===iQ(e)&&!aQ(e)}(n),i=bd(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,lQ(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,lQ(e))}(e.parent,e.name,e)}var fQ=/[\[\].#$\/\u0000-\u001F\u007F]/,hQ=/[\[\].#$\u0000-\u001F\u007F]/,dQ=10485760,pQ=function(e){return"string"===typeof e&&0!==e.length&&!fQ.test(e)},vQ=function(e){return"string"===typeof e&&0!==e.length&&!hQ.test(e)},mQ=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!GW(e)||e&&"object"===typeof e&&bd(e,".sv")},gQ=function(e,t,n,r){r&&void 0===t||yQ(Od(e,"value"),t,n)},yQ=function e(t,n,r){var i=r instanceof MK?new ZK(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+QK(i));if("function"===typeof n)throw new Error(t+"contains a function "+QK(i)+" with contents = "+n.toString());if(GW(n))throw new Error(t+"contains "+n.toString()+" "+QK(i));if("string"===typeof n&&n.length>dQ/3&&Ld(n)>dQ)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+QK(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var o=!1,a=!1;if(tK(n,(function(n,r){if(".value"===n)o=!0;else if(".priority"!==n&&".sv"!==n&&(a=!0,!pQ(n)))throw new Error(t+" contains an invalid key ("+n+") "+QK(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Ld(t),YK(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Ld(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),o&&a)throw new Error(t+' contains ".value" child '+QK(i)+" in addition to actual children.")}},bQ=function(e,t,n,r){if(!r||void 0!==t){var i=Od(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var o=[];tK(t,(function(e,t){var r=new MK(e);if(yQ(i,t,UK(n,r)),".priority"===zK(r)&&!mQ(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=BK(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!pQ(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(WK);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&GK(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,o)}},_Q=function(e,t,n){if(!n||void 0!==t){if(GW(t))throw new Error(Od(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!mQ(t))throw new Error(Od(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},wQ=function(e,t,n,r){if((!r||void 0!==n)&&!pQ(n))throw new Error(Od(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},kQ=function(e,t,n,r){if((!r||void 0!==n)&&!vQ(n))throw new Error(Od(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},xQ=function(e,t){if(".info"===LK(t))throw new Error(e+" failed = Can't modify data under /.info/")},EQ=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!pQ(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),vQ(e)}(n))throw new Error(Od(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},SQ=I((function e(){T(this,e),this.eventLists_=[],this.recursionDepth_=0}));function TQ(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||KK(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function CQ(e,t,n){TQ(e,n),PQ(e,(function(e){return KK(e,t)}))}function IQ(e,t,n){TQ(e,n),PQ(e,(function(e){return GK(e,t)||GK(t,e)}))}function PQ(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(AQ(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function AQ(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();zW&&UW("event: "+n.toString()),sK(r)}}}var NQ="repo_interrupt",RQ=function(){function e(t,n,r,i){T(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new SQ,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=XG(),this.transactionQueueTree_=new nQ,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return I(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function OQ(e,t,n){if(e.stats_=wK(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new QG(e.repoInfo_,(function(t,n,r,i){LQ(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return FQ(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{md(n)}catch(Gn){throw new Error("Invalid authOverride provided: "+Gn)}}e.persistentConnection_=new JK(e.repoInfo_,t,(function(t,n,r,i){LQ(e,t,n,r,i)}),(function(t){FQ(e,t)}),(function(t){!function(e,t){tK(t,(function(t,n){jQ(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return _K[n]||(_K[n]=t()),_K[n]}(e.repoInfo_,(function(){return new iZ(e.stats_,e.server_)})),e.infoData_=new $G,e.infoSyncTree_=new EY({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=IY(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),jQ(e,"connected",!1),e.serverSyncTree_=new EY({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);IQ(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function MQ(e){var t=e.infoData_.getNode(new MK(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function DQ(e){return(t=(t={timestamp:MQ(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function LQ(e,t,n,r,i){e.dataUpdateCount++;var o=new MK(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var a=[];if(i)if(r){var s=kd(n,(function(e){return PG(e)}));a=function(e,t,n,r){var i=BY(e,r);if(i){var o=VY(i),a=o.path,s=o.queryId,u=qK(a,t),c=_Z.fromObject(n);return UY(e,a,new lZ(oZ(s),u,c))}return[]}(e.serverSyncTree_,o,s,i)}else{var u=PG(n);a=AY(e.serverSyncTree_,o,u,i)}else if(r){var c=kd(n,(function(e){return PG(e)}));a=function(e,t,n){var r=_Z.fromObject(n);return MY(e,new lZ({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,c)}else{var l=PG(n);a=IY(e.serverSyncTree_,o,l)}var f=o;a.length>0&&(f=QQ(e,o)),IQ(e.eventQueue_,f,a)}function FQ(e,t){jQ(e,"connected",t),!1===t&&function(e){WQ(e,"onDisconnectEvents");var t=DQ(e),n=XG();tZ(e.onDisconnect_,DK(),(function(r,i){var o=JY(r,i,e.serverSyncTree_,t);JG(n,r,o)}));var r=[];tZ(n,DK(),(function(t,n){r=r.concat(IY(e.serverSyncTree_,t,n));var i=t$(e,t);QQ(e,i)})),e.onDisconnect_=XG(),IQ(e.eventQueue_,DK(),r)}(e)}function jQ(e,t,n){var r=new MK("/.info/"+t),i=PG(n);e.infoData_.updateSnapshot(r,i);var o=IY(e.infoSyncTree_,r,i);IQ(e.eventQueue_,r,o)}function zQ(e){return e.nextWriteId_++}function BQ(e,t,n,r,i){WQ(e,"set",{path:t.toString(),value:n,priority:r});var o=DQ(e),a=PG(n,r),s=RY(e.serverSyncTree_,t),u=eQ(a,s,o),c=zQ(e),l=SY(e.serverSyncTree_,t,u,c,!0);TQ(e.eventQueue_,l),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||KW("set at "+t+" failed: "+n);var a=CY(e.serverSyncTree_,c,!o);IQ(e.eventQueue_,t,a),KQ(e,i,n,r)}));var f=t$(e,t);QQ(e,f),IQ(e.eventQueue_,f,[])}function VQ(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&eZ(e.onDisconnect_,t),KQ(e,n,r,i)}))}function UQ(e,t,n,r){var i=PG(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&JG(e.onDisconnect_,t,i),KQ(e,r,n,o)}))}function HQ(e,t,n){var r;r=".info"===LK(t._path)?PY(e.infoSyncTree_,t,n):PY(e.serverSyncTree_,t,n),CQ(e.eventQueue_,t._path,r)}function qQ(e){e.persistentConnection_&&e.persistentConnection_.interrupt(NQ)}function WQ(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];UW.apply(void 0,[t].concat(r))}function KQ(e,t,n,r){t&&sK((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function GQ(e,t,n){return RY(e.serverSyncTree_,t,n)||CG.EMPTY_NODE}function ZQ(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||e$(e,t),iQ(t)){var n=XQ(e,t);Uh(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&YQ(e,cQ(t),n)}else aQ(t)&&sQ(t,(function(t){ZQ(e,t)}))}function YQ(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=GQ(e,t,r),o=i,a=i.hash(),s=0;s<n.length;s++){var u=n[s];Uh(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=qK(t,u.path);o=o.updateChild(c,u.currentOutputSnapshotRaw)}var l=o.val(!0),f=t;e.server_.put(f.toString(),l,(function(r){WQ(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(CY(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);e$(e,rQ(e.transactionQueueTree_,t)),ZQ(e,e.transactionQueueTree_),IQ(e.eventQueue_,t,i);for(var u=0;u<o.length;u++)sK(o[u])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{KW("transaction at "+f.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}QQ(e,t)}}),a)}function QQ(e,t){var n=$Q(e,t),r=cQ(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],o=t.filter((function(e){return 0===e.status})),a=o.map((function(e){return e.currentWriteId})),s=function(o){var s,u=t[o],c=qK(n,u.path),l=!1,f=void 0;if(Uh(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,f=u.abortReason,i=i.concat(CY(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)l=!0,f="maxretry",i=i.concat(CY(e.serverSyncTree_,u.currentWriteId,!0));else{var h=GQ(e,u.path,a);u.currentInputSnapshot=h;var d=t[o].update(h.val());if(void 0!==d){yQ("transaction failed: Data returned ",d,u.path);var p=PG(d);"object"===typeof d&&null!=d&&bd(d,".priority")||(p=p.updatePriority(h.getPriority()));var v=u.currentWriteId,m=DQ(e),g=eQ(p,h,m);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=g,u.currentWriteId=zQ(e),a.splice(a.indexOf(v),1),i=(i=i.concat(SY(e.serverSyncTree_,u.path,g,u.currentWriteId,u.applyLocally))).concat(CY(e.serverSyncTree_,v,!0))}else l=!0,f="nodata",i=i.concat(CY(e.serverSyncTree_,u.currentWriteId,!0))}IQ(e.eventQueue_,n,i),i=[],l&&(t[o].status=2,s=t[o].unwatcher,setTimeout(s,Math.floor(0)),t[o].onComplete&&("nodata"===f?r.push((function(){return t[o].onComplete(null,!1,t[o].currentInputSnapshot)})):r.push((function(){return t[o].onComplete(new Error(f),!1,null)}))))},u=0;u<t.length;u++)s(u);e$(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)sK(r[c]);ZQ(e,e.transactionQueueTree_)}(e,XQ(e,n),r),r}function $Q(e,t){var n,r=e.transactionQueueTree_;for(n=LK(t);null!==n&&void 0===iQ(r);)r=rQ(r,n),n=LK(t=jK(t));return r}function XQ(e,t){var n=[];return JQ(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function JQ(e,t,n){var r=iQ(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);sQ(t,(function(t){JQ(e,t,n)}))}function e$(e,t){var n=iQ(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,oQ(t,n.length>0?n:void 0)}sQ(t,(function(t){e$(e,t)}))}function t$(e,t){var n=cQ($Q(e,t)),r=rQ(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){n$(e,t)})),n$(e,r),uQ(r,(function(t){n$(e,t)})),n}function n$(e,t){var n=iQ(t);if(n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?(Uh(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set"):(Uh(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(CY(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));-1===o?oQ(t,void 0):n.length=o+1,IQ(e.eventQueue_,cQ(t),i);for(var s=0;s<r.length;s++)sK(r[s])}}var r$=function(e,t){var n=i$(e),r=n.namespace;"firebase.com"===n.domain&&WW(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||WW("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&KW("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new mK(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new MK(n.pathString)}},i$=function(e){var t="",n="",r="",i="",o="",a=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(l,f)),l<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(Gn){}t+="/"+i}return t}(e.substring(l,f)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=Lh(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var o=i.split("=");2===o.length?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):KW("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(a){r.e(a)}finally{r.f()}return t}(e.substring(Math.min(e.length,f)));(c=t.indexOf(":"))>=0?(a="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:a,scheme:s,pathString:i,namespace:o}},o$=function(){function e(t,n,r,i){T(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return I(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+md(this.snapshot.exportVal())}}]),e}(),a$=function(){function e(t,n,r){T(this,e),this.eventRegistration=t,this.error=n,this.path=r}return I(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),s$=function(){function e(t,n){T(this,e),this.snapshotCallback=t,this.cancelCallback=n}return I(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return Uh(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),u$=function(){function e(t,n){T(this,e),this._repo=t,this._path=n}return I(e,[{key:"cancel",value:function(){var e=new cd;return VQ(this._repo,this._path,e.wrapCallback((function(){}))),e.promise}},{key:"remove",value:function(){xQ("OnDisconnect.remove",this._path);var e=new cd;return UQ(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise}},{key:"set",value:function(e){xQ("OnDisconnect.set",this._path),gQ("OnDisconnect.set",e,this._path,!1);var t=new cd;return UQ(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}},{key:"setWithPriority",value:function(e,t){xQ("OnDisconnect.setWithPriority",this._path),gQ("OnDisconnect.setWithPriority",e,this._path,!1),_Q("OnDisconnect.setWithPriority",t,!1);var n=new cd;return function(e,t,n,r,i){var o=PG(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&JG(e.onDisconnect_,t,o),KQ(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise}},{key:"update",value:function(e){xQ("OnDisconnect.update",this._path),bQ("OnDisconnect.update",e,this._path,!1);var t=new cd;return function(e,t,n,r){if(wd(n))return UW("onDisconnect().update() called with empty data.  Don't do anything."),void KQ(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&tK(n,(function(n,r){var i=PG(r);JG(e.onDisconnect_,UK(t,n),i)})),KQ(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}}]),e}(),c$=function(){function e(t,n,r,i){T(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return I(e,[{key:"key",get:function(){return HK(this._path)?null:zK(this._path)}},{key:"ref",get:function(){return new d$(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=YG(this._queryParams),t=JW(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return YG(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=Bd(t))instanceof e))return!1;var n=this._repo===t._repo,r=KK(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();function l$(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function f$(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===iG){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==ZW)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==YW)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===wG){if(null!=t&&!mQ(t)||null!=n&&!mQ(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Uh(e.getIndex()instanceof AG||e.getIndex()===RG,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function h$(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var d$=function(e){N(n,e);var t=D(n);function n(e,r){return T(this,n),t.call(this,e,r,new qG,!1)}return I(n,[{key:"parent",get:function(){var e=VK(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(c$),p$=function(){function e(t,n,r){T(this,e),this._node=t,this.ref=n,this._index=r}return I(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new MK(t),r=g$(this.ref,t);return new e(this._node.getChild(n),r,wG)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,g$(n.ref,r),wG))}))}},{key:"hasChild",value:function(e){var t=new MK(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function v$(e,t){return(e=Bd(e))._checkNotDeleted("ref"),void 0!==t?g$(e._root,t):e._root}function m$(e,t){(e=Bd(e))._checkNotDeleted("refFromURL");var n=r$(t,e._repo.repoInfo_.nodeAdmin);EQ("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||WW("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),v$(e,n.path.toString())}function g$(e,t){var n,r,i,o;return null===LK((e=Bd(e))._path)?(n="child",r="path",o=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),kQ(n,r,i,o)):kQ("child","path",t,!1),new d$(e._repo,UK(e._path,t))}function y$(e,t){e=Bd(e),xQ("push",e._path),gQ("push",t,e._path,!0);var n,r=MQ(e._repo),i=MG(r),o=g$(e,i),a=g$(e,i);return n=null!=t?_$(a,t).then((function(){return a})):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),o}function b$(e){return xQ("remove",e._path),_$(e,null)}function _$(e,t){e=Bd(e),xQ("set",e._path),gQ("set",t,e._path,!1);var n=new cd;return BQ(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function w$(e,t){e=Bd(e),xQ("setPriority",e._path),_Q("setPriority",t,!1);var n=new cd;return BQ(e._repo,UK(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function k$(e,t,n){if(xQ("setWithPriority",e._path),gQ("setWithPriority",t,e._path,!1),_Q("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new cd;return BQ(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function x$(e,t){bQ("update",t,e._path,!1);var n=new cd;return function(e,t,n,r){WQ(e,"update",{path:t.toString(),value:n});var i=!0,o=DQ(e),a={};if(tK(n,(function(n,r){i=!1,a[n]=JY(UK(t,n),PG(r),e.serverSyncTree_,o)})),i)UW("update() called with empty data.  Don't do anything."),KQ(0,r,"ok",void 0);else{var s=zQ(e),u=TY(e.serverSyncTree_,t,a,s);TQ(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||KW("update at "+t+" failed: "+n);var a=CY(e.serverSyncTree_,s,!o),u=a.length>0?QQ(e,t):t;IQ(e.eventQueue_,u,a),KQ(0,r,n,i)})),tK(n,(function(n){var r=t$(e,UK(t,n));QQ(e,r)})),IQ(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function E$(e){e=Bd(e);var t=new s$((function(){})),n=new S$(t);return function(e,t,n){var r=OY(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((function(r){var i,o=PG(r).withIndex(t._queryParams.getIndex());if(NY(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())i=IY(e.serverSyncTree_,t._path,o);else{var a=jY(e.serverSyncTree_,t);i=AY(e.serverSyncTree_,t._path,o,a)}return IQ(e.eventQueue_,t._path,i),PY(e.serverSyncTree_,t,n,null,!0),o}),(function(n){return WQ(e,"get for query "+md(t)+" failed: "+n),Promise.reject(new Error(n))}))}(e._repo,e,n).then((function(t){return new p$(t,new d$(e._repo,e._path),e._queryParams.getIndex())}))}var S$=function(){function e(t){T(this,e),this.callbackContext=t}return I(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new o$("value",this,new p$(e.snapshotNode,new d$(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new a$(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),T$=function(){function e(t,n){T(this,e),this.eventType=t,this.callbackContext=n}return I(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new a$(this,e,t):null}},{key:"createEvent",value:function(e,t){Uh(null!=e.childName,"Child events should have a childName.");var n=g$(new d$(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new o$(e.type,this,new p$(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function C$(e,t,n,r,i){var o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(t,n){HQ(e._repo,e,c),a(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new s$(n,o||void 0),c="value"===t?new S$(u):new T$(t,u);return function(e,t,n){var r;r=".info"===LK(t._path)?NY(e.infoSyncTree_,t,n):NY(e.serverSyncTree_,t,n),CQ(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return HQ(e._repo,e,c)}}function I$(e,t,n,r){return C$(e,"value",t,n,r)}function P$(e,t,n,r){return C$(e,"child_added",t,n,r)}function A$(e,t,n,r){return C$(e,"child_changed",t,n,r)}function N$(e,t,n,r){return C$(e,"child_moved",t,n,r)}function R$(e,t,n,r){return C$(e,"child_removed",t,n,r)}function O$(e,t,n){var r=null,i=n?new s$(n):null;"value"===t?r=new S$(i):t&&(r=new T$(t,i)),HQ(e._repo,e,r)}var M$=I((function e(){T(this,e)})),D$=function(e){N(n,e);var t=D(n);function n(e,r){var i;return T(this,n),(i=t.call(this))._value=e,i._key=r,i}return I(n,[{key:"_apply",value:function(e){gQ("endAt",this._value,e._path,!0);var t=KG(e._queryParams,this._value,this._key);if(h$(t),f$(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new c$(e._repo,e._path,t,e._orderByCalled)}}]),n}(M$);function L$(e,t){return wQ("endAt","key",t,!0),new D$(e,t)}var F$=function(e){N(n,e);var t=D(n);function n(e,r){var i;return T(this,n),(i=t.call(this))._value=e,i._key=r,i}return I(n,[{key:"_apply",value:function(e){gQ("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===iG?("string"===typeof t&&(t=LG(t)),r=KG(e,t,n)):r=KG(e,t,null==n?ZW:LG(n)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(h$(t),f$(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new c$(e._repo,e._path,t,e._orderByCalled)}}]),n}(M$);function j$(e,t){return wQ("endBefore","key",t,!0),new F$(e,t)}var z$=function(e){N(n,e);var t=D(n);function n(e,r){var i;return T(this,n),(i=t.call(this))._value=e,i._key=r,i}return I(n,[{key:"_apply",value:function(e){gQ("startAt",this._value,e._path,!0);var t=WG(e._queryParams,this._value,this._key);if(h$(t),f$(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new c$(e._repo,e._path,t,e._orderByCalled)}}]),n}(M$);function B$(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return wQ("startAt","key",t,!0),new z$(e,t)}var V$=function(e){N(n,e);var t=D(n);function n(e,r){var i;return T(this,n),(i=t.call(this))._value=e,i._key=r,i}return I(n,[{key:"_apply",value:function(e){gQ("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===iG?("string"===typeof t&&(t=DG(t)),r=WG(e,t,n)):r=WG(e,t,null==n?YW:DG(n)),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(h$(t),f$(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new c$(e._repo,e._path,t,e._orderByCalled)}}]),n}(M$);function U$(e,t){return wQ("startAfter","key",t,!0),new V$(e,t)}var H$=function(e){N(n,e);var t=D(n);function n(e){var r;return T(this,n),(r=t.call(this))._limit=e,r}return I(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new c$(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(M$);function q$(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new H$(e)}var W$=function(e){N(n,e);var t=D(n);function n(e){var r;return T(this,n),(r=t.call(this))._limit=e,r}return I(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new c$(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(M$);function K$(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new W$(e)}var G$=function(e){N(n,e);var t=D(n);function n(e){var r;return T(this,n),(r=t.call(this))._path=e,r}return I(n,[{key:"_apply",value:function(e){l$(e,"orderByChild");var t=new MK(this._path);if(HK(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new AG(t),r=GG(e._queryParams,n);return f$(r),new c$(e._repo,e._path,r,!0)}}]),n}(M$);function Z$(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return kQ("orderByChild","path",e,!1),new G$(e)}var Y$=function(e){N(n,e);var t=D(n);function n(){return T(this,n),t.apply(this,arguments)}return I(n,[{key:"_apply",value:function(e){l$(e,"orderByKey");var t=GG(e._queryParams,iG);return f$(t),new c$(e._repo,e._path,t,!0)}}]),n}(M$);function Q$(){return new Y$}var $$=function(e){N(n,e);var t=D(n);function n(){return T(this,n),t.apply(this,arguments)}return I(n,[{key:"_apply",value:function(e){l$(e,"orderByPriority");var t=GG(e._queryParams,wG);return f$(t),new c$(e._repo,e._path,t,!0)}}]),n}(M$);function X$(){return new $$}var J$=function(e){N(n,e);var t=D(n);function n(){return T(this,n),t.apply(this,arguments)}return I(n,[{key:"_apply",value:function(e){l$(e,"orderByValue");var t=GG(e._queryParams,RG);return f$(t),new c$(e._repo,e._path,t,!0)}}]),n}(M$);function eX(){return new J$}var tX=function(e){N(n,e);var t=D(n);function n(e,r){var i;return T(this,n),(i=t.call(this))._value=e,i._key=r,i}return I(n,[{key:"_apply",value:function(e){if(gQ("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new D$(this._value,this._key)._apply(new z$(this._value,this._key)._apply(e))}}]),n}(M$);function nX(e,t){return wQ("equalTo","key",t,!0),new tX(e,t)}function rX(e){for(var t=Bd(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0,a=r;o<a.length;o++){var s=a[o];t=s._apply(t)}return t}!function(e){Uh(!rY,"__referenceConstructor has already been defined"),rY=e}(d$),function(e){Uh(!lY,"__referenceConstructor has already been defined"),lY=e}(d$);var iX={},oX=!1;function aX(e,t,n,r){e.repoInfo_=new mK("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function sX(e,t,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||WW("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),UW("Using default host for project ",e.options.projectId),o="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var a,s=r$(o,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"/mapty",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),c?(a=!0,o="http://".concat(c,"?ns=").concat(u.namespace),u=(s=r$(o,i)).repoInfo):a=!s.repoInfo.secure;var l=i&&a?new fK(fK.OWNER):new lK(e.name,e.options,t);EQ("Invalid Firebase Database URL",s),HK(s.path)||WW("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=iX[t.name];i||(i={},iX[t.name]=i);var o=i[e.toURLString()];o&&WW("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new RQ(e,oX,n,r),i[e.toURLString()]=o,o}(u,e,l,new cK(e.name,n));return new uX(f,e)}var uX=function(){function e(t,n){T(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return I(e,[{key:"_repo",get:function(){return this._instanceStarted||(OQ(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new d$(this._repo,DK())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=iX[t];n&&n[e.key]===e||WW("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),qQ(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&WW("Cannot call "+e+" on a deleted database.")}}]),e}();function cX(){PK.IS_TRANSPORT_INITIALIZED&&KW("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function lX(){cX(),SK.forceDisallow()}function fX(){cX(),IK.forceDisallow(),SK.forceAllow()}function hX(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=Bd(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&WW("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,o=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&WW('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new fK(fK.OWNER);else if(r.mockUserToken){var a="string"===typeof r.mockUserToken?r.mockUserToken:ld(r.mockUserToken,e.app.options.projectId);o=new fK(a)}aX(i,t,n,o)}function dX(e){(e=Bd(e))._checkNotDeleted("goOffline"),qQ(e._repo)}function pX(e){var t;(e=Bd(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(NQ)}function vX(e,t){VW(e,t)}var mX={".sv":"timestamp"};var gX=function(){function e(t,n){T(this,e),this.committed=t,this.snapshot=n}return I(e,[{key:"toJSON",value:function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}();function yX(e,t,n){var r;if(e=Bd(e),xQ("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,o=new cd,a=I$(e,(function(){}));return function(e,t,n,r,i,o){WQ(e,"transaction on "+t);var a={path:t,update:n,onComplete:r,status:null,order:LW(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=GQ(e,t,void 0);a.currentInputSnapshot=s;var u=a.update(s.val());if(void 0===u)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{yQ("transaction failed: Data returned ",u,a.path),a.status=0;var c,l=rQ(e.transactionQueueTree_,t),f=iQ(l)||[];f.push(a),oQ(l,f),"object"===typeof u&&null!==u&&bd(u,".priority")?(c=_d(u,".priority"),Uh(mQ(c),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):c=(RY(e.serverSyncTree_,t)||CG.EMPTY_NODE).getPriority().val();var h=DQ(e),d=PG(u,c),p=eQ(d,s,h);a.currentOutputSnapshotRaw=d,a.currentOutputSnapshotResolved=p,a.currentWriteId=zQ(e);var v=SY(e.serverSyncTree_,t,p,a.currentWriteId,a.applyLocally);IQ(e.eventQueue_,t,v),ZQ(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?o.reject(t):(i=new p$(r,new d$(e._repo,e._path),wG),o.resolve(new gX(n,i)))}),a,i),o.promise}JK.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},JK.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){PW(Dp),Ip(new Vd("database",(function(e,t){var n=t.instanceIdentifier;return sX(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Vp(TW,CW,e),Vp(TW,CW,"esm2017")}();var bX=new Jd("@firebase/database-compat"),_X=function(e){var t="FIREBASE WARNING: "+e;bX.warn(t)},wX=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(Od(e,t)+"must be a boolean.")},kX=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Od(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},xX=function(){function e(t){T(this,e),this._delegate=t}return I(e,[{key:"cancel",value:function(e){Rd("OnDisconnect.cancel",0,1,arguments.length),Md("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"remove",value:function(e){Rd("OnDisconnect.remove",0,1,arguments.length),Md("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"set",value:function(e,t){Rd("OnDisconnect.set",1,2,arguments.length),Md("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"setWithPriority",value:function(e,t,n){Rd("OnDisconnect.setWithPriority",2,3,arguments.length),Md("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"update",value:function(e,t){if(Rd("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,_X("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Md("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}}]),e}(),EX=function(){function e(t,n){T(this,e),this.committed=t,this.snapshot=n}return I(e,[{key:"toJSON",value:function(){return Rd("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}(),SX=function(){function e(t,n){T(this,e),this._database=t,this._delegate=n}return I(e,[{key:"val",value:function(){return Rd("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}},{key:"exportVal",value:function(){return Rd("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}},{key:"toJSON",value:function(){return Rd("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"exists",value:function(){return Rd("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}},{key:"child",value:function(t){return Rd("DataSnapshot.child",0,1,arguments.length),t=String(t),kQ("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}},{key:"hasChild",value:function(e){return Rd("DataSnapshot.hasChild",1,1,arguments.length),kQ("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}},{key:"getPriority",value:function(){return Rd("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}},{key:"forEach",value:function(t){var n=this;return Rd("DataSnapshot.forEach",1,1,arguments.length),Md("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))}},{key:"hasChildren",value:function(){return Rd("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}},{key:"key",get:function(){return this._delegate.key}},{key:"numChildren",value:function(){return Rd("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}},{key:"getRef",value:function(){return Rd("DataSnapshot.ref",0,0,arguments.length),new CX(this._database,this._delegate.ref)}},{key:"ref",get:function(){return this.getRef()}}]),e}(),TX=function(){function e(t,n){T(this,e),this.database=t,this._delegate=n}return I(e,[{key:"on",value:function(t,n,r,i){var o,a=this;Rd("Query.on",2,4,arguments.length),Md("Query.on","callback",n,!1);var s=e.getCancelAndContextArgs_("Query.on",r,i),u=function(e,t){n.call(s.context,new SX(a.database,e),t)};u.userCallback=n,u.context=s.context;var c=null===(o=s.cancel)||void 0===o?void 0:o.bind(s.context);switch(t){case"value":return I$(this._delegate,u,c),n;case"child_added":return P$(this._delegate,u,c),n;case"child_removed":return R$(this._delegate,u,c),n;case"child_changed":return A$(this._delegate,u,c),n;case"child_moved":return N$(this._delegate,u,c),n;default:throw new Error(Od("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}},{key:"off",value:function(e,t,n){if(Rd("Query.off",0,3,arguments.length),kX("Query.off",e,!0),Md("Query.off","callback",t,!0),Dd("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,O$(this._delegate,e,r)}else O$(this._delegate,e)}},{key:"get",value:function(){var e=this;return E$(this._delegate).then((function(t){return new SX(e.database,t)}))}},{key:"once",value:function(t,n,r,i){var o=this;Rd("Query.once",1,4,arguments.length),Md("Query.once","callback",n,!0);var a=e.getCancelAndContextArgs_("Query.once",r,i),s=new cd,u=function(e,t){var r=new SX(o.database,e);n&&n.call(a.context,r,t),s.resolve(r)};u.userCallback=n,u.context=a.context;var c=function(e){a.cancel&&a.cancel.call(a.context,e),s.reject(e)};switch(t){case"value":I$(this._delegate,u,c,{onlyOnce:!0});break;case"child_added":P$(this._delegate,u,c,{onlyOnce:!0});break;case"child_removed":R$(this._delegate,u,c,{onlyOnce:!0});break;case"child_changed":A$(this._delegate,u,c,{onlyOnce:!0});break;case"child_moved":N$(this._delegate,u,c,{onlyOnce:!0});break;default:throw new Error(Od("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}},{key:"limitToFirst",value:function(t){return Rd("Query.limitToFirst",1,1,arguments.length),new e(this.database,rX(this._delegate,q$(t)))}},{key:"limitToLast",value:function(t){return Rd("Query.limitToLast",1,1,arguments.length),new e(this.database,rX(this._delegate,K$(t)))}},{key:"orderByChild",value:function(t){return Rd("Query.orderByChild",1,1,arguments.length),new e(this.database,rX(this._delegate,Z$(t)))}},{key:"orderByKey",value:function(){return Rd("Query.orderByKey",0,0,arguments.length),new e(this.database,rX(this._delegate,Q$()))}},{key:"orderByPriority",value:function(){return Rd("Query.orderByPriority",0,0,arguments.length),new e(this.database,rX(this._delegate,X$()))}},{key:"orderByValue",value:function(){return Rd("Query.orderByValue",0,0,arguments.length),new e(this.database,rX(this._delegate,eX()))}},{key:"startAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Rd("Query.startAt",0,2,arguments.length),new e(this.database,rX(this._delegate,B$(t,n)))}},{key:"startAfter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Rd("Query.startAfter",0,2,arguments.length),new e(this.database,rX(this._delegate,U$(t,n)))}},{key:"endAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Rd("Query.endAt",0,2,arguments.length),new e(this.database,rX(this._delegate,L$(t,n)))}},{key:"endBefore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Rd("Query.endBefore",0,2,arguments.length),new e(this.database,rX(this._delegate,j$(t,n)))}},{key:"equalTo",value:function(t,n){return Rd("Query.equalTo",1,2,arguments.length),new e(this.database,rX(this._delegate,nX(t,n)))}},{key:"toString",value:function(){return Rd("Query.toString",0,0,arguments.length),this._delegate.toString()}},{key:"toJSON",value:function(){return Rd("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"isEqual",value:function(t){if(Rd("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)}},{key:"ref",get:function(){return new CX(this.database,new d$(this._delegate._repo,this._delegate._path))}}],[{key:"getCancelAndContextArgs_",value:function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,Md(e,"cancel",r.cancel,!0),r.context=n,Dd(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(Od(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}}]),e}(),CX=function(e){N(n,e);var t=D(n);function n(e,r){var i;return T(this,n),(i=t.call(this,e,new c$(r._repo,r._path,new qG,!1))).database=e,i._delegate=r,i}return I(n,[{key:"getKey",value:function(){return Rd("Reference.key",0,0,arguments.length),this._delegate.key}},{key:"child",value:function(e){return Rd("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new n(this.database,g$(this._delegate,e))}},{key:"getParent",value:function(){Rd("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new n(this.database,e):null}},{key:"getRoot",value:function(){return Rd("Reference.root",0,0,arguments.length),new n(this.database,this._delegate.root)}},{key:"set",value:function(e,t){Rd("Reference.set",1,2,arguments.length),Md("Reference.set","onComplete",t,!0);var n=_$(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"update",value:function(e,t){if(Rd("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,_X("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}xQ("Reference.update",this._delegate._path),Md("Reference.update","onComplete",t,!0);var i=x$(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}},{key:"setWithPriority",value:function(e,t,n){Rd("Reference.setWithPriority",2,3,arguments.length),Md("Reference.setWithPriority","onComplete",n,!0);var r=k$(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"remove",value:function(e){Rd("Reference.remove",0,1,arguments.length),Md("Reference.remove","onComplete",e,!0);var t=b$(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"transaction",value:function(e,t,n){var r=this;Rd("Reference.transaction",1,3,arguments.length),Md("Reference.transaction","transactionUpdate",e,!1),Md("Reference.transaction","onComplete",t,!0),wX("Reference.transaction","applyLocally",n,!0);var i=yX(this._delegate,e,{applyLocally:n}).then((function(e){return new EX(e.committed,new SX(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i}},{key:"setPriority",value:function(e,t){Rd("Reference.setPriority",1,2,arguments.length),Md("Reference.setPriority","onComplete",t,!0);var n=w$(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"push",value:function(e,t){var r=this;Rd("Reference.push",0,2,arguments.length),Md("Reference.push","onComplete",t,!0);var i=y$(this._delegate,e),o=i.then((function(e){return new n(r.database,e)}));t&&o.then((function(){return t(null)}),(function(e){return t(e)}));var a=new n(this.database,i);return a.then=o.then.bind(o),a.catch=o.catch.bind(o,void 0),a}},{key:"onDisconnect",value:function(){return xQ("Reference.onDisconnect",this._delegate._path),new xX(new u$(this._delegate._repo,this._delegate._path))}},{key:"key",get:function(){return this.getKey()}},{key:"parent",get:function(){return this.getParent()}},{key:"root",get:function(){return this.getRoot()}}]),n}(TX),IX=function(){function e(t,n){var r=this;T(this,e),this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()},forceWebSockets:lX,forceLongPolling:fX}}return I(e,[{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};hX(this._delegate,e,t,n)}},{key:"ref",value:function(e){if(Rd("database.ref",0,1,arguments.length),e instanceof CX){var t=m$(this._delegate,e.toString());return new CX(this,t)}var n=v$(this._delegate,e);return new CX(this,n)}},{key:"refFromURL",value:function(e){var t="database.refFromURL";Rd(t,1,1,arguments.length);var n=m$(this._delegate,e);return new CX(this,n)}},{key:"goOffline",value:function(){return Rd("database.goOffline",0,0,arguments.length),dX(this._delegate)}},{key:"goOnline",value:function(){return Rd("database.goOnline",0,0,arguments.length),pX(this._delegate)}}]),e}();IX.ServerValue={TIMESTAMP:mX,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}};var PX=Object.freeze({__proto__:null,initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,o=e.namespace,a=e.nodeAdmin,s=void 0!==a&&a;PW(r);var u=new Hd("auth-internal",new Gd("database-standalone"));return u.setComponent(new Vd("auth-internal",(function(){return i}),"PRIVATE")),{instance:new IX(sX(t,u,void 0,n,s),t),namespace:o}}}),AX=IX.ServerValue;!function(e){e.INTERNAL.registerComponent(new Vd("database-compat",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new IX(i,r)}),"PUBLIC").setServiceProps({Reference:CX,Query:TX,Database:IX,DataSnapshot:SX,enableLogging:vX,INTERNAL:PX,ServerValue:AX}).setMultipleInstances(!0)),e.registerVersion("@firebase/database-compat","0.2.10")}(fv);function NX(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function RX(e){if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map((function(e){return RX(e)}));if("function"===typeof e||"object"===typeof e)return NX(e,(function(e){return RX(e)}));throw new Error("Data cannot be encoded in JSON: "+e)}function OX(e){if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return OX(e)})):"function"===typeof e||"object"===typeof e?NX(e,(function(e){return OX(e)})):e}var MX="functions",DX={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},LX=function(e){N(n,e);var t=D(n);function n(e,r,i){var o;return T(this,n),(o=t.call(this,"".concat(MX,"/").concat(e),r||"")).details=i,o}return I(n)}(fd);function FX(e,t){var n=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),r=n,i=void 0;try{var o=t&&t.error;if(o){var a=o.status;if("string"===typeof a){if(!DX[a])return new LX("internal","internal");n=DX[a],r=a}var s=o.message;"string"===typeof s&&(r=s),void 0!==(i=o.details)&&(i=OX(i))}}catch(Gn){}return"ok"===n?null:new LX(n,r,i)}var jX=function(){function e(t,n,r){var i=this;T(this,e),this.auth=null,this.messaging=null,this.appCheck=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then((function(e){return i.auth=e}),(function(){})),this.messaging||n.get().then((function(e){return i.messaging=e}),(function(){})),this.appCheck||r.get().then((function(e){return i.appCheck=e}),(function(){}))}return I(e,[{key:"getAuthToken",value:function(){var e=y(m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.prev=2,e.next=5,this.auth.getToken();case 5:return t=e.sent,e.abrupt("return",null===t||void 0===t?void 0:t.accessToken);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",void 0);case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getMessagingToken",value:function(){var e=y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.messaging&&"Notification"in self&&"granted"===Notification.permission){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.prev=2,e.next=5,this.messaging.getToken();case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",void 0);case 11:case"end":return e.stop()}}),e,this,[[2,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"getAppCheckToken",value:function(){var e=y(m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.appCheck){e.next=7;break}return e.next=3,this.appCheck.getToken();case 3:if(!(t=e.sent).error){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",t.token);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getContext",value:function(){var e=y(m().mark((function e(){var t,n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAuthToken();case 2:return t=e.sent,e.next=5,this.getMessagingToken();case 5:return n=e.sent,e.next=8,this.getAppCheckToken();case 8:return r=e.sent,e.abrupt("return",{authToken:t,messagingToken:n,appCheckToken:r});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),zX="us-central1";function BX(e){var t=null;return{promise:new Promise((function(n,r){t=setTimeout((function(){r(new LX("deadline-exceeded","deadline-exceeded"))}),e)})),cancel:function(){t&&clearTimeout(t)}}}var VX=function(){function e(t,n,r,i){var o=this,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:zX,s=arguments.length>5?arguments[5]:void 0;T(this,e),this.app=t,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new jX(n,r,i),this.cancelAllRequests=new Promise((function(e){o.deleteService=function(){return Promise.resolve(e())}}));try{var u=new URL(a);this.customDomain=u.origin,this.region=zX}catch(Gn){this.customDomain=null,this.region=a}}return I(e,[{key:"_delete",value:function(){return this.deleteService()}},{key:"_url",value:function(e){var t=this.app.options.projectId;if(null!==this.emulatorOrigin){var n=this.emulatorOrigin;return"".concat(n,"/").concat(t,"/").concat(this.region,"/").concat(e)}return null!==this.customDomain?"".concat(this.customDomain,"/").concat(e):"https://".concat(this.region,"-").concat(t,".cloudfunctions.net/").concat(e)}}]),e}();function UX(e,t,n){return function(r){return function(e,t,n,r){var i=e._url(t);return WX(e,i,n,r)}(e,t,r,n||{})}}function HX(e,t,n,r){return qX.apply(this,arguments)}function qX(){return qX=y(m().mark((function e(t,n,r,i){var o,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r["Content-Type"]="application/json",e.prev=1,e.next=4,i(t,{method:"POST",body:JSON.stringify(n),headers:r});case 4:o=e.sent,e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",{status:0,json:null});case 10:return a=null,e.prev=11,e.next=14,o.json();case 14:a=e.sent,e.next=19;break;case 17:e.prev=17,e.t1=e.catch(11);case 19:return e.abrupt("return",{status:o.status,json:a});case 20:case"end":return e.stop()}}),e,null,[[1,7],[11,17]])}))),qX.apply(this,arguments)}function WX(e,t,n,r){return KX.apply(this,arguments)}function KX(){return KX=y(m().mark((function e(t,n,r,i){var o,a,s,u,c,l,f,h,d;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=RX(r),o={data:r},a={},e.next=5,t.contextProvider.getContext();case 5:return(s=e.sent).authToken&&(a.Authorization="Bearer "+s.authToken),s.messagingToken&&(a["Firebase-Instance-ID-Token"]=s.messagingToken),null!==s.appCheckToken&&(a["X-Firebase-AppCheck"]=s.appCheckToken),u=i.timeout||7e4,c=BX(u),e.next=13,Promise.race([HX(n,o,a,t.fetchImpl),c.promise,t.cancelAllRequests]);case 13:if(l=e.sent,c.cancel(),l){e.next=17;break}throw new LX("cancelled","Firebase Functions instance was deleted.");case 17:if(!(f=FX(l.status,l.json))){e.next=20;break}throw f;case 20:if(l.json){e.next=22;break}throw new LX("internal","Response is not valid JSON object.");case 22:if("undefined"===typeof(h=l.json.data)&&(h=l.json.result),"undefined"!==typeof h){e.next=26;break}throw new LX("internal","Response is missing data field.");case 26:return d=OX(h),e.abrupt("return",{data:d});case 28:case"end":return e.stop()}}),e)}))),KX.apply(this,arguments)}var GX="@firebase/functions",ZX="0.8.8";function YX(e,t,n){!function(e,t,n){e.emulatorOrigin="http://".concat(t,":").concat(n)}(Bd(e),t,n)}function QX(e,t,n){return function(e,t,n){return function(r){return WX(e,t,r,n||{})}}(Bd(e),t,n)}!function(e,t){Ip(new Vd(MX,(function(t,n){var r=n.instanceIdentifier,i=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),a=t.getProvider("messaging-internal"),s=t.getProvider("app-check-internal");return new VX(i,o,a,s,r,e)}),"PUBLIC").setMultipleInstances(!0)),Vp(GX,ZX,t),Vp(GX,ZX,"esm2017")}(fetch.bind(self));var $X=function(){function e(t,n){T(this,e),this.app=t,this._delegate=n,this._region=this._delegate.region,this._customDomain=this._delegate.customDomain}return I(e,[{key:"httpsCallable",value:function(e,t){return function(e,t,n){return UX(Bd(e),t,n)}(this._delegate,e,t)}},{key:"httpsCallableFromURL",value:function(e,t){return QX(this._delegate,e,t)}},{key:"useFunctionsEmulator",value:function(e){var t=e.match("[a-zA-Z]+://([a-zA-Z0-9.-]+)(?::([0-9]+))?");if(null==t)throw new fd("functions","No origin provided to useFunctionsEmulator()");if(null==t[2])throw new fd("functions","Port missing in origin provided to useFunctionsEmulator()");return YX(this._delegate,t[1],Number(t[2]))}},{key:"useEmulator",value:function(e,t){return YX(this._delegate,e,t)}}]),e}(),XX=function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("functions").getImmediate({identifier:null!==n&&void 0!==n?n:"us-central1"});return new $X(r,i)};!function(){var e={Functions:$X};fv.INTERNAL.registerComponent(new Vd("functions-compat",XX,"PUBLIC").setServiceProps(e).setMultipleInstances(!0))}(),fv.registerVersion("@firebase/functions-compat","0.2.8");var JX,eJ;var tJ=new WeakMap,nJ=new WeakMap,rJ=new WeakMap,iJ=new WeakMap,oJ=new WeakMap;var aJ={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return nJ.get(e);if("objectStoreNames"===t)return e.objectStoreNames||rJ.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cJ(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function sJ(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(eJ||(eJ=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(lJ(this),n),cJ(tJ.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return cJ(e.apply(lJ(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=e.call.apply(e,[lJ(this),t].concat(r));return rJ.set(o,t.sort?t.sort():[t]),cJ(o)}}function uJ(e){return"function"===typeof e?sJ(e):(e instanceof IDBTransaction&&function(e){if(!nJ.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=function(){t(),r()},o=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));nJ.set(e,t)}}(e),function(e,t){return t.some((function(t){return e instanceof t}))}(e,JX||(JX=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,aJ):e)}function cJ(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",o)},i=function(){t(cJ(e.result)),r()},o=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((function(t){t instanceof IDBCursor&&tJ.set(t,e)})).catch((function(){})),oJ.set(t,e),t}(e);if(iJ.has(e))return iJ.get(e);var t=uJ(e);return t!==e&&(iJ.set(e,t),oJ.set(t,e)),t}var lJ=function(e){return oJ.get(e)};function fJ(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,o=n.blocking,a=n.terminated,s=indexedDB.open(e,t),u=cJ(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(cJ(s.result),e.oldVersion,e.newVersion,cJ(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){a&&e.addEventListener("close",(function(){return a()})),o&&e.addEventListener("versionchange",(function(){return o()}))})).catch((function(){})),u}function hJ(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.blocked,r=indexedDB.deleteDatabase(e);return n&&r.addEventListener("blocked",(function(){return n()})),cJ(r).then((function(){}))}var dJ,pJ=["get","getKey","getAll","getAllKeys","count"],vJ=["put","add","delete","clear"],mJ=new Map;function gJ(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(mJ.get(t))return mJ.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=vJ.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||pJ.includes(n))){var o=function(){var e=y(m().mark((function e(t){var o,a,s,u,c,l,f=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=this.transaction(t,i?"readwrite":"readonly"),s=a.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(o=s)[n].apply(o,c),i&&a.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return mJ.set(t,o),o}}}!function(e){aJ=e(aJ)}((function(e){return x(x({},e),{},{get:function(t,n,r){return gJ(t,n)||e.get(t,n,r)},has:function(t,n){return!!gJ(t,n)||e.has(t,n)}})}));var yJ,bJ,_J="/firebase-messaging-sw.js",wJ="/firebase-cloud-messaging-push-scope",kJ="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",xJ="google.c.a.c_id";function EJ(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,S(t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function SJ(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(yJ||(yJ={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(bJ||(bJ={}));var TJ="fcm_token_details_db",CJ="fcm_token_object_Store";function IJ(e){return PJ.apply(this,arguments)}function PJ(){return PJ=y(m().mark((function e(t){var n,r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("databases"in indexedDB)){e.next=7;break}return e.next=3,indexedDB.databases();case 3:if(n=e.sent,r=n.map((function(e){return e.name})),r.includes(TJ)){e.next=7;break}return e.abrupt("return",null);case 7:return i=null,e.next=10,fJ(TJ,5,{upgrade:function(){var e=y(m().mark((function e(n,r,o,a){var s,u,c,l,f,h;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r<2)){e.next=2;break}return e.abrupt("return");case 2:if(n.objectStoreNames.contains(CJ)){e.next=4;break}return e.abrupt("return");case 4:return u=a.objectStore(CJ),e.next=7,u.index("fcmSenderId").get(t);case 7:return c=e.sent,e.next=10,u.clear();case 10:if(c){e.next=12;break}return e.abrupt("return");case 12:if(2!==r){e.next=19;break}if((l=c).auth&&l.p256dh&&l.endpoint){e.next=16;break}return e.abrupt("return");case 16:i={token:l.fcmToken,createTime:null!==(s=l.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:l.auth,p256dh:l.p256dh,endpoint:l.endpoint,swScope:l.swScope,vapidKey:"string"===typeof l.vapidKey?l.vapidKey:EJ(l.vapidKey)}},e.next=20;break;case 19:3===r?i={token:(f=c).fcmToken,createTime:f.createTime,subscriptionOptions:{auth:EJ(f.auth),p256dh:EJ(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:EJ(f.vapidKey)}}:4===r&&(i={token:(h=c).fcmToken,createTime:h.createTime,subscriptionOptions:{auth:EJ(h.auth),p256dh:EJ(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:EJ(h.vapidKey)}});case 20:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()});case 10:return e.sent.close(),e.next=14,hJ(TJ);case 14:return e.next=16,hJ("fcm_vapid_details_db");case 16:return e.next=18,hJ("undefined");case 18:return e.abrupt("return",AJ(i)?i:null);case 19:case"end":return e.stop()}}),e)}))),PJ.apply(this,arguments)}function AJ(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}var NJ="firebase-messaging-store",RJ=null;function OJ(){return RJ||(RJ=fJ("firebase-messaging-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(NJ)}})),RJ}function MJ(e){return DJ.apply(this,arguments)}function DJ(){return DJ=y(m().mark((function e(t){var n,r,i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=BJ(t),e.next=3,OJ();case 3:return r=e.sent,e.next=6,r.transaction(NJ).objectStore(NJ).get(n);case 6:if(!(i=e.sent)){e.next=11;break}return e.abrupt("return",i);case 11:return e.next=13,IJ(t.appConfig.senderId);case 13:if(!(o=e.sent)){e.next=18;break}return e.next=17,LJ(t,o);case 17:return e.abrupt("return",o);case 18:case"end":return e.stop()}}),e)}))),DJ.apply(this,arguments)}function LJ(e,t){return FJ.apply(this,arguments)}function FJ(){return FJ=y(m().mark((function e(t,n){var r,i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=BJ(t),e.next=3,OJ();case 3:return i=e.sent,o=i.transaction(NJ,"readwrite"),e.next=7,o.objectStore(NJ).put(n,r);case 7:return e.next=9,o.done;case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)}))),FJ.apply(this,arguments)}function jJ(e){return zJ.apply(this,arguments)}function zJ(){return zJ=y(m().mark((function e(t){var n,r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=BJ(t),e.next=3,OJ();case 3:return r=e.sent,i=r.transaction(NJ,"readwrite"),e.next=7,i.objectStore(NJ).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)}))),zJ.apply(this,arguments)}function BJ(e){return e.appConfig.appId}var VJ=(w(dJ={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),w(dJ,"only-available-in-window","This method is available in a Window context."),w(dJ,"only-available-in-sw","This method is available in a service worker context."),w(dJ,"permission-default","The notification permission was not granted and dismissed instead."),w(dJ,"permission-blocked","The notification permission was not granted and blocked instead."),w(dJ,"unsupported-browser","This browser doesn't support the API's required to use the Firebase SDK."),w(dJ,"indexed-db-unsupported","This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)"),w(dJ,"failed-service-worker-registration","We are unable to register the default service worker. {$browserErrorMessage}"),w(dJ,"token-subscribe-failed","A problem occurred while subscribing the user to FCM: {$errorInfo}"),w(dJ,"token-subscribe-no-token","FCM returned no token when subscribing the user to push."),w(dJ,"token-unsubscribe-failed","A problem occurred while unsubscribing the user from FCM: {$errorInfo}"),w(dJ,"token-update-failed","A problem occurred while updating the user from FCM: {$errorInfo}"),w(dJ,"token-update-no-token","FCM returned no token when updating the user to push."),w(dJ,"use-sw-after-get-token","The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used."),w(dJ,"invalid-sw-registration","The input to useServiceWorker() must be a ServiceWorkerRegistration."),w(dJ,"invalid-bg-handler","The input to setBackgroundMessageHandler() must be a function."),w(dJ,"invalid-vapid-key","The public VAPID key must be a string."),w(dJ,"use-vapid-key-after-get-token","The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."),dJ),UJ=new hd("messaging","Messaging",VJ);function HJ(e,t){return qJ.apply(this,arguments)}function qJ(){return qJ=y(m().mark((function e(t,n){var r,i,o,a,s,u,c;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,QJ(t);case 2:return i=e.sent,o=XJ(n),a={method:"POST",headers:i,body:JSON.stringify(o)},e.prev=5,e.next=8,fetch(YJ(t.appConfig),a);case 8:return u=e.sent,e.next=11,u.json();case 11:s=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),UJ.create("token-subscribe-failed",{errorInfo:null===(r=e.t0)||void 0===r?void 0:r.toString()});case 17:if(!s.error){e.next=20;break}throw c=s.error.message,UJ.create("token-subscribe-failed",{errorInfo:c});case 20:if(s.token){e.next=22;break}throw UJ.create("token-subscribe-no-token");case 22:return e.abrupt("return",s.token);case 23:case"end":return e.stop()}}),e,null,[[5,14]])}))),qJ.apply(this,arguments)}function WJ(e,t){return KJ.apply(this,arguments)}function KJ(){return KJ=y(m().mark((function e(t,n){var r,i,o,a,s,u,c;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,QJ(t);case 2:return i=e.sent,o=XJ(n.subscriptionOptions),a={method:"PATCH",headers:i,body:JSON.stringify(o)},e.prev=5,e.next=8,fetch("".concat(YJ(t.appConfig),"/").concat(n.token),a);case 8:return u=e.sent,e.next=11,u.json();case 11:s=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),UJ.create("token-update-failed",{errorInfo:null===(r=e.t0)||void 0===r?void 0:r.toString()});case 17:if(!s.error){e.next=20;break}throw c=s.error.message,UJ.create("token-update-failed",{errorInfo:c});case 20:if(s.token){e.next=22;break}throw UJ.create("token-update-no-token");case 22:return e.abrupt("return",s.token);case 23:case"end":return e.stop()}}),e,null,[[5,14]])}))),KJ.apply(this,arguments)}function GJ(e,t){return ZJ.apply(this,arguments)}function ZJ(){return ZJ=y(m().mark((function e(t,n){var r,i,o,a,s,u;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,QJ(t);case 2:return i=e.sent,o={method:"DELETE",headers:i},e.prev=4,e.next=7,fetch("".concat(YJ(t.appConfig),"/").concat(n),o);case 7:return a=e.sent,e.next=10,a.json();case 10:if(!(s=e.sent).error){e.next=14;break}throw u=s.error.message,UJ.create("token-unsubscribe-failed",{errorInfo:u});case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(4),UJ.create("token-unsubscribe-failed",{errorInfo:null===(r=e.t0)||void 0===r?void 0:r.toString()});case 19:case"end":return e.stop()}}),e,null,[[4,16]])}))),ZJ.apply(this,arguments)}function YJ(e){var t=e.projectId;return"".concat("https://fcmregistrations.googleapis.com/v1","/projects/").concat(t,"/registrations")}function QJ(e){return $J.apply(this,arguments)}function $J(){return($J=y(m().mark((function e(t){var n,r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.appConfig,r=t.installations,e.next=3,r.getToken();case 3:return i=e.sent,e.abrupt("return",new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(i)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function XJ(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,o={web:{endpoint:r,auth:n,p256dh:t}};return i!==kJ&&(o.web.applicationPubKey=i),o}var JJ=6048e5;function e0(e){return t0.apply(this,arguments)}function t0(){return(t0=y(m().mark((function e(t){var n,r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u0(t.swRegistration,t.vapidKey);case 2:return n=e.sent,r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:n.endpoint,auth:EJ(n.getKey("auth")),p256dh:EJ(n.getKey("p256dh"))},e.next=6,MJ(t.firebaseDependencies);case 6:if(i=e.sent){e.next=11;break}return e.abrupt("return",a0(t.firebaseDependencies,r));case 11:if(l0(i.subscriptionOptions,r)){e.next=23;break}return e.prev=12,e.next=15,GJ(t.firebaseDependencies,i.token);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(12),console.warn(e.t0);case 20:return e.abrupt("return",a0(t.firebaseDependencies,r));case 23:if(!(Date.now()>=i.createTime+JJ)){e.next=27;break}return e.abrupt("return",i0(t,{token:i.token,createTime:Date.now(),subscriptionOptions:r}));case 27:return e.abrupt("return",i.token);case 28:case"end":return e.stop()}}),e,null,[[12,17]])})))).apply(this,arguments)}function n0(e){return r0.apply(this,arguments)}function r0(){return(r0=y(m().mark((function e(t){var n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,MJ(t.firebaseDependencies);case 2:if(!(n=e.sent)){e.next=8;break}return e.next=6,GJ(t.firebaseDependencies,n.token);case 6:return e.next=8,jJ(t.firebaseDependencies);case 8:return e.next=10,t.swRegistration.pushManager.getSubscription();case 10:if(!(r=e.sent)){e.next=13;break}return e.abrupt("return",r.unsubscribe());case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i0(e,t){return o0.apply(this,arguments)}function o0(){return(o0=y(m().mark((function e(t,n){var r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,WJ(t.firebaseDependencies,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{token:r,createTime:Date.now()}),e.next=7,LJ(t.firebaseDependencies,i);case 7:return e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),e.next=14,n0(t);case 14:throw e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function a0(e,t){return s0.apply(this,arguments)}function s0(){return s0=y(m().mark((function e(t,n){var r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HJ(t,n);case 2:return r=e.sent,i={token:r,createTime:Date.now(),subscriptionOptions:n},e.next=6,LJ(t,i);case 6:return e.abrupt("return",i.token);case 7:case"end":return e.stop()}}),e)}))),s0.apply(this,arguments)}function u0(e,t){return c0.apply(this,arguments)}function c0(){return(c0=y(m().mark((function e(t,n){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.pushManager.getSubscription();case 2:if(!(r=e.sent)){e.next=5;break}return e.abrupt("return",r);case 5:return e.abrupt("return",t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:SJ(n)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l0(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,o=t.p256dh===e.p256dh;return n&&r&&i&&o}function f0(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i);var o=t.notification.icon;o&&(e.notification.icon=o)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){var n,r,i,o,a;if(!t.fcmOptions&&!(null===(n=t.notification)||void 0===n?void 0:n.click_action))return;e.fcmOptions={};var s=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=t.notification)||void 0===o?void 0:o.click_action;s&&(e.fcmOptions.link=s);var u=null===(a=t.fcmOptions)||void 0===a?void 0:a.analytics_label;u&&(e.fcmOptions.analyticsLabel=u)}(t,e),t}function h0(e){return"object"===typeof e&&!!e&&xJ in e}function d0(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function p0(e){return UJ.create("missing-app-config-values",{valueName:e})}d0("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),d0("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");var v0=function(){function e(t,n,r){T(this,e),this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;var i=function(e){if(!e||!e.options)throw p0("App Configuration Object");if(!e.name)throw p0("App Name");for(var t=e.options,n=0,r=["projectId","apiKey","appId","messagingSenderId"];n<r.length;n++){var i=r[n];if(!t[i])throw p0(i)}return{appName:e.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:i,installations:n,analyticsProvider:r}}return I(e,[{key:"_delete",value:function(){return Promise.resolve()}}]),e}();function m0(e){return g0.apply(this,arguments)}function g0(){return g0=y(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.serviceWorker.register(_J,{scope:wJ});case 3:t.swRegistration=e.sent,t.swRegistration.update().catch((function(){})),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),UJ.create("failed-service-worker-registration",{browserErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),g0.apply(this,arguments)}function y0(e,t){return b0.apply(this,arguments)}function b0(){return(b0=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n||t.swRegistration){e.next=3;break}return e.next=3,m0(t);case 3:if(n||!t.swRegistration){e.next=5;break}return e.abrupt("return");case 5:if(n instanceof ServiceWorkerRegistration){e.next=7;break}throw UJ.create("invalid-sw-registration");case 7:t.swRegistration=n;case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _0(e,t){return w0.apply(this,arguments)}function w0(){return(w0=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n?t.vapidKey=n:t.vapidKey||(t.vapidKey=kJ);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k0(e,t){return x0.apply(this,arguments)}function x0(){return(x0=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator){e.next=2;break}throw UJ.create("only-available-in-window");case 2:if("default"!==Notification.permission){e.next=5;break}return e.next=5,Notification.requestPermission();case 5:if("granted"===Notification.permission){e.next=7;break}throw UJ.create("permission-blocked");case 7:return e.next=9,_0(t,null===n||void 0===n?void 0:n.vapidKey);case 9:return e.next=11,y0(t,null===n||void 0===n?void 0:n.serviceWorkerRegistration);case 11:return e.abrupt("return",e0(t));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E0(e,t,n){return S0.apply(this,arguments)}function S0(){return(S0=y(m().mark((function e(t,n,r){var i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=T0(n),e.next=3,t.firebaseDependencies.analyticsProvider.get();case 3:e.sent.logEvent(i,{message_id:r["google.c.a.c_id"],message_name:r["google.c.a.c_l"],message_time:r["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T0(e){switch(e){case bJ.NOTIFICATION_CLICKED:return"notification_open";case bJ.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function C0(){return(C0=y(m().mark((function e(t,n){var r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=n.data).isFirebaseMessaging){e.next=3;break}return e.abrupt("return");case 3:if(t.onMessageHandler&&r.messageType===bJ.PUSH_RECEIVED&&("function"===typeof t.onMessageHandler?t.onMessageHandler(f0(r)):t.onMessageHandler.next(f0(r))),!h0(i=r.data)||"1"!==i["google.c.a.e"]){e.next=8;break}return e.next=8,E0(t,r.messageType,i);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I0,P0="@firebase/messaging",A0="0.11.0",N0=function(e){var t=new v0(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",(function(e){return function(e,t){return C0.apply(this,arguments)}(t,e)})),t},R0=function(e){var t=e.getProvider("messaging").getImmediate();return{getToken:function(e){return k0(t,e)}}};function O0(){return(O0=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator){e.next=2;break}throw UJ.create("only-available-in-window");case 2:if(t.swRegistration){e.next=5;break}return e.next=5,m0(t);case 5:return e.abrupt("return",n0(t));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M0(e,t){return D0.apply(this,arguments)}function D0(){return(D0=y(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Bd(t),e.abrupt("return",k0(t,n));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L0(e){return function(e){return O0.apply(this,arguments)}(e=Bd(e))}function F0(e,t){return function(e,t){if(!navigator)throw UJ.create("only-available-in-window");return e.onMessageHandler=t,function(){e.onMessageHandler=null}}(e=Bd(e),t)}Ip(new Vd("messaging",N0,"PUBLIC")),Ip(new Vd("messaging-internal",R0,"PRIVATE")),Vp(P0,A0),Vp(P0,A0,"esm2017");var j0,z0,B0="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",V0="FCM_MSG";function U0(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,S(t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function H0(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(j0||(j0={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(z0||(z0={}));var q0="fcm_token_details_db",W0="fcm_token_object_Store";function K0(e){return G0.apply(this,arguments)}function G0(){return G0=y(m().mark((function e(t){var n,r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("databases"in indexedDB)){e.next=7;break}return e.next=3,indexedDB.databases();case 3:if(n=e.sent,r=n.map((function(e){return e.name})),r.includes(q0)){e.next=7;break}return e.abrupt("return",null);case 7:return i=null,e.next=10,fJ(q0,5,{upgrade:function(){var e=y(m().mark((function e(n,r,o,a){var s,u,c,l,f,h;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r<2)){e.next=2;break}return e.abrupt("return");case 2:if(n.objectStoreNames.contains(W0)){e.next=4;break}return e.abrupt("return");case 4:return u=a.objectStore(W0),e.next=7,u.index("fcmSenderId").get(t);case 7:return c=e.sent,e.next=10,u.clear();case 10:if(c){e.next=12;break}return e.abrupt("return");case 12:if(2!==r){e.next=19;break}if((l=c).auth&&l.p256dh&&l.endpoint){e.next=16;break}return e.abrupt("return");case 16:i={token:l.fcmToken,createTime:null!==(s=l.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:l.auth,p256dh:l.p256dh,endpoint:l.endpoint,swScope:l.swScope,vapidKey:"string"===typeof l.vapidKey?l.vapidKey:U0(l.vapidKey)}},e.next=20;break;case 19:3===r?i={token:(f=c).fcmToken,createTime:f.createTime,subscriptionOptions:{auth:U0(f.auth),p256dh:U0(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:U0(f.vapidKey)}}:4===r&&(i={token:(h=c).fcmToken,createTime:h.createTime,subscriptionOptions:{auth:U0(h.auth),p256dh:U0(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:U0(h.vapidKey)}});case 20:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()});case 10:return e.sent.close(),e.next=14,hJ(q0);case 14:return e.next=16,hJ("fcm_vapid_details_db");case 16:return e.next=18,hJ("undefined");case 18:return e.abrupt("return",Z0(i)?i:null);case 19:case"end":return e.stop()}}),e)}))),G0.apply(this,arguments)}function Z0(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}var Y0="firebase-messaging-store",Q0=null;function $0(){return Q0||(Q0=fJ("firebase-messaging-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Y0)}})),Q0}function X0(e){return J0.apply(this,arguments)}function J0(){return J0=y(m().mark((function e(t){var n,r,i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i1(t),e.next=3,$0();case 3:return r=e.sent,e.next=6,r.transaction(Y0).objectStore(Y0).get(n);case 6:if(!(i=e.sent)){e.next=11;break}return e.abrupt("return",i);case 11:return e.next=13,K0(t.appConfig.senderId);case 13:if(!(o=e.sent)){e.next=18;break}return e.next=17,e1(t,o);case 17:return e.abrupt("return",o);case 18:case"end":return e.stop()}}),e)}))),J0.apply(this,arguments)}function e1(e,t){return t1.apply(this,arguments)}function t1(){return t1=y(m().mark((function e(t,n){var r,i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i1(t),e.next=3,$0();case 3:return i=e.sent,o=i.transaction(Y0,"readwrite"),e.next=7,o.objectStore(Y0).put(n,r);case 7:return e.next=9,o.done;case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)}))),t1.apply(this,arguments)}function n1(e){return r1.apply(this,arguments)}function r1(){return r1=y(m().mark((function e(t){var n,r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i1(t),e.next=3,$0();case 3:return r=e.sent,i=r.transaction(Y0,"readwrite"),e.next=7,i.objectStore(Y0).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)}))),r1.apply(this,arguments)}function i1(e){return e.appConfig.appId}var o1=(w(I0={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),w(I0,"only-available-in-window","This method is available in a Window context."),w(I0,"only-available-in-sw","This method is available in a service worker context."),w(I0,"permission-default","The notification permission was not granted and dismissed instead."),w(I0,"permission-blocked","The notification permission was not granted and blocked instead."),w(I0,"unsupported-browser","This browser doesn't support the API's required to use the Firebase SDK."),w(I0,"indexed-db-unsupported","This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)"),w(I0,"failed-service-worker-registration","We are unable to register the default service worker. {$browserErrorMessage}"),w(I0,"token-subscribe-failed","A problem occurred while subscribing the user to FCM: {$errorInfo}"),w(I0,"token-subscribe-no-token","FCM returned no token when subscribing the user to push."),w(I0,"token-unsubscribe-failed","A problem occurred while unsubscribing the user from FCM: {$errorInfo}"),w(I0,"token-update-failed","A problem occurred while updating the user from FCM: {$errorInfo}"),w(I0,"token-update-no-token","FCM returned no token when updating the user to push."),w(I0,"use-sw-after-get-token","The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used."),w(I0,"invalid-sw-registration","The input to useServiceWorker() must be a ServiceWorkerRegistration."),w(I0,"invalid-bg-handler","The input to setBackgroundMessageHandler() must be a function."),w(I0,"invalid-vapid-key","The public VAPID key must be a string."),w(I0,"use-vapid-key-after-get-token","The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."),I0),a1=new hd("messaging","Messaging",o1);function s1(e,t){return u1.apply(this,arguments)}function u1(){return u1=y(m().mark((function e(t,n){var r,i,o,a,s,u,c;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p1(t);case 2:return i=e.sent,o=m1(n),a={method:"POST",headers:i,body:JSON.stringify(o)},e.prev=5,e.next=8,fetch(d1(t.appConfig),a);case 8:return u=e.sent,e.next=11,u.json();case 11:s=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),a1.create("token-subscribe-failed",{errorInfo:null===(r=e.t0)||void 0===r?void 0:r.toString()});case 17:if(!s.error){e.next=20;break}throw c=s.error.message,a1.create("token-subscribe-failed",{errorInfo:c});case 20:if(s.token){e.next=22;break}throw a1.create("token-subscribe-no-token");case 22:return e.abrupt("return",s.token);case 23:case"end":return e.stop()}}),e,null,[[5,14]])}))),u1.apply(this,arguments)}function c1(e,t){return l1.apply(this,arguments)}function l1(){return l1=y(m().mark((function e(t,n){var r,i,o,a,s,u,c;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p1(t);case 2:return i=e.sent,o=m1(n.subscriptionOptions),a={method:"PATCH",headers:i,body:JSON.stringify(o)},e.prev=5,e.next=8,fetch("".concat(d1(t.appConfig),"/").concat(n.token),a);case 8:return u=e.sent,e.next=11,u.json();case 11:s=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),a1.create("token-update-failed",{errorInfo:null===(r=e.t0)||void 0===r?void 0:r.toString()});case 17:if(!s.error){e.next=20;break}throw c=s.error.message,a1.create("token-update-failed",{errorInfo:c});case 20:if(s.token){e.next=22;break}throw a1.create("token-update-no-token");case 22:return e.abrupt("return",s.token);case 23:case"end":return e.stop()}}),e,null,[[5,14]])}))),l1.apply(this,arguments)}function f1(e,t){return h1.apply(this,arguments)}function h1(){return h1=y(m().mark((function e(t,n){var r,i,o,a,s,u;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p1(t);case 2:return i=e.sent,o={method:"DELETE",headers:i},e.prev=4,e.next=7,fetch("".concat(d1(t.appConfig),"/").concat(n),o);case 7:return a=e.sent,e.next=10,a.json();case 10:if(!(s=e.sent).error){e.next=14;break}throw u=s.error.message,a1.create("token-unsubscribe-failed",{errorInfo:u});case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(4),a1.create("token-unsubscribe-failed",{errorInfo:null===(r=e.t0)||void 0===r?void 0:r.toString()});case 19:case"end":return e.stop()}}),e,null,[[4,16]])}))),h1.apply(this,arguments)}function d1(e){var t=e.projectId;return"".concat("https://fcmregistrations.googleapis.com/v1","/projects/").concat(t,"/registrations")}function p1(e){return v1.apply(this,arguments)}function v1(){return(v1=y(m().mark((function e(t){var n,r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.appConfig,r=t.installations,e.next=3,r.getToken();case 3:return i=e.sent,e.abrupt("return",new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(i)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m1(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,o={web:{endpoint:r,auth:n,p256dh:t}};return i!==B0&&(o.web.applicationPubKey=i),o}var g1=6048e5;function y1(e){return b1.apply(this,arguments)}function b1(){return(b1=y(m().mark((function e(t){var n,r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T1(t.swRegistration,t.vapidKey);case 2:return n=e.sent,r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:n.endpoint,auth:U0(n.getKey("auth")),p256dh:U0(n.getKey("p256dh"))},e.next=6,X0(t.firebaseDependencies);case 6:if(i=e.sent){e.next=11;break}return e.abrupt("return",E1(t.firebaseDependencies,r));case 11:if(I1(i.subscriptionOptions,r)){e.next=23;break}return e.prev=12,e.next=15,f1(t.firebaseDependencies,i.token);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(12),console.warn(e.t0);case 20:return e.abrupt("return",E1(t.firebaseDependencies,r));case 23:if(!(Date.now()>=i.createTime+g1)){e.next=27;break}return e.abrupt("return",k1(t,{token:i.token,createTime:Date.now(),subscriptionOptions:r}));case 27:return e.abrupt("return",i.token);case 28:case"end":return e.stop()}}),e,null,[[12,17]])})))).apply(this,arguments)}function _1(e){return w1.apply(this,arguments)}function w1(){return(w1=y(m().mark((function e(t){var n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X0(t.firebaseDependencies);case 2:if(!(n=e.sent)){e.next=8;break}return e.next=6,f1(t.firebaseDependencies,n.token);case 6:return e.next=8,n1(t.firebaseDependencies);case 8:return e.next=10,t.swRegistration.pushManager.getSubscription();case 10:if(!(r=e.sent)){e.next=13;break}return e.abrupt("return",r.unsubscribe());case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k1(e,t){return x1.apply(this,arguments)}function x1(){return(x1=y(m().mark((function e(t,n){var r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c1(t.firebaseDependencies,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{token:r,createTime:Date.now()}),e.next=7,e1(t.firebaseDependencies,i);case 7:return e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),e.next=14,_1(t);case 14:throw e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function E1(e,t){return S1.apply(this,arguments)}function S1(){return S1=y(m().mark((function e(t,n){var r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s1(t,n);case 2:return r=e.sent,i={token:r,createTime:Date.now(),subscriptionOptions:n},e.next=6,e1(t,i);case 6:return e.abrupt("return",i.token);case 7:case"end":return e.stop()}}),e)}))),S1.apply(this,arguments)}function T1(e,t){return C1.apply(this,arguments)}function C1(){return(C1=y(m().mark((function e(t,n){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.pushManager.getSubscription();case 2:if(!(r=e.sent)){e.next=5;break}return e.abrupt("return",r);case 5:return e.abrupt("return",t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:H0(n)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I1(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,o=t.p256dh===e.p256dh;return n&&r&&i&&o}function P1(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i);var o=t.notification.icon;o&&(e.notification.icon=o)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){var n,r,i,o,a;if(!t.fcmOptions&&!(null===(n=t.notification)||void 0===n?void 0:n.click_action))return;e.fcmOptions={};var s=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=t.notification)||void 0===o?void 0:o.click_action;s&&(e.fcmOptions.link=s);var u=null===(a=t.fcmOptions)||void 0===a?void 0:a.analytics_label;u&&(e.fcmOptions.analyticsLabel=u)}(t,e),t}function A1(e){return new Promise((function(t){setTimeout(t,e)}))}function N1(e,t){return R1.apply(this,arguments)}function R1(){return(R1=y(m().mark((function e(t,n){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=O1,e.t1=n,e.next=4,t.firebaseDependencies.installations.getId();case 4:e.t2=e.sent,r=(0,e.t0)(e.t1,e.t2),M1(t,r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O1(e,t){var n,r,i={};return e.from&&(i.project_number=e.from),e.fcmMessageId&&(i.message_id=e.fcmMessageId),i.instance_id=t,e.notification?i.message_type=j0.DISPLAY_NOTIFICATION.toString():i.message_type=j0.DATA_MESSAGE.toString(),i.sdk_platform=3..toString(),i.package_name=self.origin.replace(/(^\w+:|^)\/\//,""),e.collapse_key&&(i.collapse_key=e.collapse_key),i.event=1..toString(),(null===(n=e.fcmOptions)||void 0===n?void 0:n.analytics_label)&&(i.analytics_label=null===(r=e.fcmOptions)||void 0===r?void 0:r.analytics_label),i}function M1(e,t){var n={};n.event_time_ms=Math.floor(Date.now()).toString(),n.source_extension_json_proto3=JSON.stringify(t),e.logEvents.push(n)}function D1(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function L1(){return L1=y(m().mark((function e(t,n){var r,i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.newSubscription){e.next=5;break}return e.next=4,_1(n);case 4:return e.abrupt("return");case 5:return e.next=7,X0(n.firebaseDependencies);case 7:return o=e.sent,e.next=10,_1(n);case 10:return n.vapidKey=null!==(i=null===(r=null===o||void 0===o?void 0:o.subscriptionOptions)||void 0===r?void 0:r.vapidKey)&&void 0!==i?i:B0,e.next=13,y1(n);case 13:case"end":return e.stop()}}),e)}))),L1.apply(this,arguments)}function F1(){return(F1=y(m().mark((function e(t,n){var r,i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=B1(t)){e.next=3;break}return e.abrupt("return");case 3:if(!n.deliveryMetricsExportedToBigQueryEnabled){e.next=6;break}return e.next=6,N1(n,r);case 6:return e.next=8,W1();case 8:if(!H1(i=e.sent)){e.next=11;break}return e.abrupt("return",q1(i,r));case 11:if(!r.notification){e.next=14;break}return e.next=14,K1(z1(r));case 14:if(n){e.next=16;break}return e.abrupt("return");case 16:if(!n.onBackgroundMessageHandler){e.next=24;break}if(o=P1(r),"function"!==typeof n.onBackgroundMessageHandler){e.next=23;break}return e.next=21,n.onBackgroundMessageHandler(o);case 21:e.next=24;break;case 23:n.onBackgroundMessageHandler.next(o);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j1(){return j1=y(m().mark((function e(t){var n,r,i,o,a,s,u;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null===(r=null===(n=t.notification)||void 0===n?void 0:n.data)||void 0===r?void 0:r.FCM_MSG){e.next=5;break}return e.abrupt("return");case 5:if(!t.action){e.next=7;break}return e.abrupt("return");case 7:if(t.stopImmediatePropagation(),t.notification.close(),o=G1(i)){e.next=12;break}return e.abrupt("return");case 12:if(a=new URL(o,self.location.href),s=new URL(self.location.origin),a.host===s.host){e.next=16;break}return e.abrupt("return");case 16:return e.next=18,V1(a);case 18:if(u=e.sent){e.next=27;break}return e.next=22,self.clients.openWindow(o);case 22:return u=e.sent,e.next=25,A1(3e3);case 25:e.next=30;break;case 27:return e.next=29,u.focus();case 29:u=e.sent;case 30:if(u){e.next=32;break}return e.abrupt("return");case 32:return i.messageType=z0.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,e.abrupt("return",u.postMessage(i));case 35:case"end":return e.stop()}}),e)}))),j1.apply(this,arguments)}function z1(e){var t=Object.assign({},e.notification);return t.data=w({},V0,e),t}function B1(e){var t=e.data;if(!t)return null;try{return t.json()}catch(n){return null}}function V1(e){return U1.apply(this,arguments)}function U1(){return U1=y(m().mark((function e(t){var n,r,i,o,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W1();case 2:n=e.sent,r=Lh(n),e.prev=4,r.s();case 6:if((i=r.n()).done){e.next=13;break}if(o=i.value,a=new URL(o.url,self.location.href),t.host!==a.host){e.next=11;break}return e.abrupt("return",o);case 11:e.next=6;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",null);case 22:case"end":return e.stop()}}),e,null,[[4,15,18,21]])}))),U1.apply(this,arguments)}function H1(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}function q1(e,t){t.isFirebaseMessaging=!0,t.messageType=z0.PUSH_RECEIVED;var n,r=Lh(e);try{for(r.s();!(n=r.n()).done;){n.value.postMessage(t)}}catch(i){r.e(i)}finally{r.f()}}function W1(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function K1(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports ".concat(r," actions. The remaining actions will not be displayed.")),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}function G1(e){var t,n,r,i,o=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;return o||("object"===typeof(i=e.data)&&i&&"google.c.a.c_id"in i?self.location.origin:null)}function Z1(e){return a1.create("missing-app-config-values",{valueName:e})}D1("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),D1("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");var Y1=function(){function e(t,n,r){T(this,e),this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;var i=function(e){if(!e||!e.options)throw Z1("App Configuration Object");if(!e.name)throw Z1("App Name");for(var t=e.options,n=0,r=["projectId","apiKey","appId","messagingSenderId"];n<r.length;n++){var i=r[n];if(!t[i])throw Z1(i)}return{appName:e.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:i,installations:n,analyticsProvider:r}}return I(e,[{key:"_delete",value:function(){return Promise.resolve()}}]),e}(),Q1=function(e){var t=new Y1(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return self.addEventListener("push",(function(e){e.waitUntil(function(e,t){return F1.apply(this,arguments)}(e,t))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(function(e,t){return L1.apply(this,arguments)}(e,t))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(function(e){return j1.apply(this,arguments)}(e))})),t};function $1(e,t){return function(e,t){if(void 0!==self.document)throw a1.create("only-available-in-sw");return e.onBackgroundMessageHandler=t,function(){e.onBackgroundMessageHandler=null}}(e=Bd(e),t)}Ip(new Vd("messaging-sw",Q1,"PUBLIC"));var X1=function(){function e(t,n){T(this,e),this.app=t,this._delegate=n,this.app=t,this._delegate=n}return I(e,[{key:"getToken",value:function(){var e=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",M0(this._delegate,t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteToken",value:function(){var e=y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L0(this._delegate));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onMessage",value:function(e){return F0(this._delegate,e)}},{key:"onBackgroundMessage",value:function(e){return $1(this._delegate,e)}}]),e}(),J1=function(e){return self&&"ServiceWorkerGlobalScope"in self?new X1(e.getProvider("app-compat").getImmediate(),e.getProvider("messaging-sw").getImmediate()):new X1(e.getProvider("app-compat").getImmediate(),e.getProvider("messaging").getImmediate())},e2={isSupported:function(){return self&&"ServiceWorkerGlobalScope"in self?rd()&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"undefined"!==typeof window&&rd()&&od()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}};fv.INTERNAL.registerComponent(new Vd("messaging-compat",J1,"PUBLIC").setServiceProps(e2)),fv.registerVersion("@firebase/messaging-compat","0.1.21");var t2="firebasestorage.googleapis.com",n2=function(e){N(n,e);var t=D(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return T(this,n),(i=t.call(this,r2(e),"Firebase Storage: ".concat(r," (").concat(r2(e),")"))).status_=o,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(P(i),n.prototype),i}return I(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return r2(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(fd);function r2(e){return"storage/"+e}function i2(){return new n2("unknown","An unknown error occurred, please check the error payload for server response.")}function o2(){return new n2("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function a2(){return new n2("canceled","User canceled the upload/download.")}function s2(){return new n2("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function u2(e){return new n2("invalid-argument",e)}function c2(){return new n2("app-deleted","The Firebase app was deleted.")}function l2(e){return new n2("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function f2(e,t){return new n2("invalid-format","String does not match format '"+e+"': "+t)}function h2(e){throw new n2("internal-error","Internal error: "+e)}var d2,p2=function(){function e(t,n){T(this,e),this.bucket=t,this.path_=n}return I(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(Gn){return new e(t,"")}if(""===r.path)return r;throw new n2("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var o=new RegExp("^gs://"+i+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://".concat(n===t2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:a}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new n2("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),v2=function(){function e(t){T(this,e),this.promise_=Promise.reject(t)}return I(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function m2(e){return"string"===typeof e||e instanceof String}function g2(e){return y2()&&e instanceof Blob}function y2(){return"undefined"!==typeof Blob&&!Xh()}function b2(e,t,n,r){if(r<t)throw u2("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw u2("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function _2(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function w2(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function k2(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(d2||(d2={}));var x2=function(){function e(t,n,r,i,o,a,s,u,c,l,f){var h=this,d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];T(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return I(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,o=n.connection;if(n.wasSuccessCode)try{var a=e.callback_(o,o.getResponse());!function(e){return void 0!==e}(a)?r():r(a)}catch(Gn){i(Gn)}else if(null!==o){var s=i2();s.serverResponse=o.getErrorText(),e.errorCallback_?i(e.errorCallback_(o,s)):i(s)}else{if(n.canceled)i(e.appDelete_?c2():a2());else i(o2())}};this.canceled_?t(0,new E2(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,o=null,a=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){o&&clearTimeout(o)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var o;if(u()||a)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,o=0):o=1e3*(r+Math.random()),f(o)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),o=setTimeout((function(){a=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new E2(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===d2.NO_ERROR,o=r.getStatus();if(n&&!k2(o,e.additionalRetryCodes_)||!e.retry){var a=-1!==e.successCodes_.indexOf(o);t(!0,new E2(a,r))}else{var s=r.getErrorCode()===d2.ABORT;t(!1,new E2(!1,null,s))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),E2=I((function e(t,n,r){T(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function S2(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}function T2(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}function C2(e,t){t&&(e["X-Firebase-GMPID"]=t)}function I2(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}function P2(e,t,n,r,i,o){var a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=w2(e.urlParams),u=e.url+s,c=Object.assign({},e.headers);return C2(c,t),S2(c,n),T2(c,o),I2(c,r),new x2(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}function A2(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function N2(){for(var e=A2(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,o=0;o<n.length;o++)i.append(n[o]);return i.getBlob()}if(y2())return new Blob(n);throw new n2("unsupported-environment","This browser doesn't seem to support creating Blobs")}function R2(e){if("undefined"===typeof atob)throw new n2("unsupported-environment","".concat("base-64"," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));return atob(e)}var O2={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},M2=I((function e(t,n){T(this,e),this.data=t,this.contentType=n||null}));function D2(e,t){switch(e){case O2.RAW:return new M2(L2(t));case O2.BASE64:case O2.BASE64URL:return new M2(F2(e,t));case O2.DATA_URL:return new M2(function(e){var t=new j2(e);return t.base64?F2(O2.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(Gn){throw f2(O2.DATA_URL,"Malformed data URL.")}return L2(t)}(t.rest)}(t),new j2(t).contentType)}throw i2()}function L2(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function F2(e,t){switch(e){case O2.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw f2(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case O2.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw f2(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=R2(t)}catch(Gn){if(Gn.message.includes("polyfill"))throw Gn;throw f2(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var j2=I((function e(t){T(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw f2(O2.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var z2=function(){function e(t,n){T(this,e);var r=0,i="";g2(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return I(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(g2(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(y2()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(N2.apply(null,i))}var o=n.map((function(e){return m2(e)?D2(O2.RAW,e).data:e.data_})),a=0;o.forEach((function(e){a+=e.byteLength}));var s=new Uint8Array(a),u=0;return o.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function B2(e){var t;try{t=JSON.parse(e)}catch(Gn){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function V2(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function U2(e,t){return t}var H2=I((function e(t,n,r,i){T(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||U2})),q2=null;function W2(){if(q2)return q2;var e=[];e.push(new H2("bucket")),e.push(new H2("generation")),e.push(new H2("metageneration")),e.push(new H2("name","fullPath",!0));var t=new H2("name");t.xform=function(e,t){return function(e){return!m2(e)||e.length<2?e:V2(e)}(t)},e.push(t);var n=new H2("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new H2("timeCreated")),e.push(new H2("updated")),e.push(new H2("md5Hash",null,!0)),e.push(new H2("cacheControl",null,!0)),e.push(new H2("contentDisposition",null,!0)),e.push(new H2("contentEncoding",null,!0)),e.push(new H2("contentLanguage",null,!0)),e.push(new H2("contentType",null,!0)),e.push(new H2("metadata","customMetadata",!0)),q2=e}function K2(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new p2(n,r);return t._makeStorageReference(i)}})}(r,e),r}function G2(e,t,n){var r=B2(t);return null===r?null:K2(e,r,n)}function Z2(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}function Y2(e,t,n){var r=B2(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,o=Lh(n.prefixes);try{for(o.s();!(i=o.n()).done;){var a=i.value.replace(/\/$/,""),s=e._makeStorageReference(new p2(t,a));r.prefixes.push(s)}}catch(h){o.e(h)}finally{o.f()}}if(n.items){var u,c=Lh(n.items);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=e._makeStorageReference(new p2(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var Q2=I((function e(t,n,r,i){T(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function $2(e){if(!e)throw i2()}function X2(e,t){return function(n,r){var i=G2(e,r,t);return $2(null!==i),i}}function J2(e,t){return function(n,r){var i=G2(e,r,t);return $2(null!==i),function(e,t,n,r){var i=B2(t);if(null===i)return null;if(!m2(i.downloadTokens))return null;var o=i.downloadTokens;if(0===o.length)return null;var a=encodeURIComponent,s=o.split(",").map((function(t){var i=e.bucket,o=e.fullPath;return _2("/b/"+a(i)+"/o/"+a(o),n,r)+w2({alt:"media",token:t})}));return s[0]}(i,r,e.host,e._protocol)}}function e3(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new n2("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new n2("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new n2("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new n2("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function t3(e){var t=e3(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new n2("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function n3(e,t,n){var r=_2(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new Q2(r,"GET",X2(e,n),i);return o.errorHandler=t3(t),o}function r3(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=_2(t.bucketOnlyServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,u=new Q2(a,"GET",function(e,t){return function(n,r){var i=Y2(e,t,r);return $2(null!==i),i}}(e,t.bucket),s);return u.urlParams=o,u.errorHandler=e3(t),u}function i3(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function o3(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=i3(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Z2(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=z2.getBlob(c,r,l);if(null===f)throw s2();var h={name:u.fullPath},d=_2(o,e.host,e._protocol),p=e.maxUploadRetryTime,v=new Q2(d,"POST",X2(e,n),p);return v.urlParams=h,v.headers=a,v.body=f.uploadData(),v.errorHandler=e3(t),v}var a3=I((function e(t,n,r,i){T(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function s3(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(Gn){$2(!1)}return $2(!!n&&-1!==(t||["active"]).indexOf(n)),n}var u3=262144;function c3(e,t,n,r,i,o,a,s){var u=new a3(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new n2("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,d={"X-Goog-Upload-Command":0===l?"finalize":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(f,h);if(null===p)throw s2();var v=t.maxUploadRetryTime,m=new Q2(n,"POST",(function(e,n){var i,a=s3(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?X2(t,o)(e,n):null,new a3(s,c,"final"===a,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=e3(e),m}var l3={STATE_CHANGED:"state_changed"},f3={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function h3(e){switch(e){case"running":case"pausing":case"canceling":return f3.RUNNING;case"paused":return f3.PAUSED;case"success":return f3.SUCCESS;case"canceled":return f3.CANCELED;default:return f3.ERROR}}var d3=I((function e(t,n,r){T(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var o=t;this.next=o.next,this.error=o.error,this.complete=o.complete}}));function p3(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var v3=function(){function e(){var t=this;T(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=d2.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=d2.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=d2.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return I(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw h2("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw h2("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw h2("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Gn){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw h2("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw h2("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),m3=function(e){N(n,e);var t=D(n);function n(){return T(this,n),t.apply(this,arguments)}return I(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(v3);function g3(){return new m3}var y3=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;T(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=W2(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){if(r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled"))r._needToFetchStatus=!0,r.completeTransitions_();else{var t=r.isExponentialBackoffExpired();if(k2(e.status,[])){if(!t)return r.sleepTime=Math.max(2*r.sleepTime,1e3),r._needToFetchStatus=!0,void r.completeTransitions_();e=o2()}r._error=e,r._transition("error")}},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return I(e,[{key:"isExponentialBackoffExpired",value:function(){return this.sleepTime>this.maxSleepTime}},{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){var e=this;"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((function(){e.pendingTimeout=void 0,e._continueUpload()}),this.sleepTime):this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=c(n,2),i=r[0],o=r[1];switch(t._state){case"running":e(i,o);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=i3(t,r,i),s={name:a.fullPath},u=_2(o,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=Z2(a,n),f=e.maxUploadRetryTime,h=new Q2(u,"POST",(function(e){var t;s3(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(Gn){$2(!1)}return $2(m2(t)),t}),f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=e3(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,g3,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,o=new Q2(n,"POST",(function(e){var t=s3(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Gn){$2(!1)}n||$2(!1);var i=Number(n);return $2(!isNaN(i)),new a3(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=e3(t),o}(e._ref.storage,e._ref._location,t,e._blob),o=e._ref.storage._makeRequest(i,g3,n,r);e._request=o,o.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=u3*this._chunkMultiplier,n=new a3(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=c3(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(Gn){return e._error=Gn,void e._transition("error")}var s=e._ref.storage._makeRequest(a,g3,i,o,!1);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){2*(u3*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=n3(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,g3,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=o3(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,g3,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=a2(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=h3(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,o=new d3(t||void 0,n||void 0,r||void 0);return this._addObserver(o),function(){i._removeObserver(o)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(h3(this._state)){case f3.SUCCESS:p3(this._resolve.bind(null,this.snapshot))();break;case f3.CANCELED:case f3.ERROR:p3(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(h3(this._state)){case f3.RUNNING:case f3.PAUSED:e.next&&p3(e.next.bind(e,this.snapshot))();break;case f3.SUCCESS:e.complete&&p3(e.complete.bind(e))();break;default:e.error&&p3(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),b3=function(){function e(t,n){T(this,e),this._service=t,this._location=n instanceof p2?n:p2.makeFromUrl(n,t.host)}return I(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new p2(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return V2(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new p2(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw l2(e)}}]),e}();function _3(e,t,n){return w3.apply(this,arguments)}function w3(){return(w3=y(m().mark((function e(t,n,r){var i,o,a,s;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={pageToken:r},e.next=3,k3(t,a);case 3:if(s=e.sent,(i=n.prefixes).push.apply(i,S(s.prefixes)),(o=n.items).push.apply(o,S(s.items)),null==s.nextPageToken){e.next=9;break}return e.next=9,_3(t,n,s.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k3(e,t){null!=t&&"number"===typeof t.maxResults&&b2("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=r3(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,g3)}function x3(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=_2(t.fullServerUrl(),e.host,e._protocol),o=Z2(n,r),a=e.maxOperationRetryTime,s=new Q2(i,"PATCH",X2(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=t3(t),s}(e.storage,e._location,t,W2());return e.storage.makeRequestWithTokens(n,g3)}function E3(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=_2(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new Q2(r,"GET",J2(e,n),i);return o.errorHandler=t3(t),o}(e.storage,e._location,W2());return e.storage.makeRequestWithTokens(t,g3).then((function(e){if(null===e)throw new n2("no-download-url","The given file does not have any download URLs.");return e}))}function S3(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=_2(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new Q2(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=t3(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,g3)}function T3(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new p2(e._location.bucket,n);return new b3(e.storage,r)}function C3(e,t){if(e instanceof N3){var n=e;if(null==n._bucket)throw new n2("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new b3(n,n._bucket);return null!=t?C3(r,t):r}return void 0!==t?T3(e,t):e}function I3(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof N3)return new b3(e,t);throw u2("To use ref(service, url), the first argument must be a Storage instance.")}return C3(e,t)}function P3(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:p2.makeFromBucketSpec(n,e)}function A3(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:ld(i,e.app.options.projectId))}var N3=function(){function e(t,n,r,i,o){T(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=t2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?p2.makeFromBucketSpec(i,this._host):P3(this._host,this.app.options)}return I(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=p2.makeFromBucketSpec(this._url,e):this._bucket=P3(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){b2("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){b2("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=y(m().mark((function e(){var t,n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=y(m().mark((function e(){var t,n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new b3(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new v2(c2());var a=P2(e,this._appId,n,r,t,this._firebaseVersion,o);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=y(m().mark((function e(t,n){var r,i,o,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=c(r,2),o=i[0],a=i[1],e.abrupt("return",this._makeRequest(t,n,o,a).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),R3="@firebase/storage",O3="0.9.14",M3="storage";function D3(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new y3(e,new z2(t),n)}(e=Bd(e),t,n)}function L3(e){return function(e){e._throwIfRoot("getMetadata");var t=n3(e.storage,e._location,W2());return e.storage.makeRequestWithTokens(t,g3)}(e=Bd(e))}function F3(e){return function(e){var t={prefixes:[],items:[]};return _3(e,t).then((function(){return t}))}(e=Bd(e))}function j3(e,t){return I3(e=Bd(e),t)}function z3(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};A3(e,t,n,r)}function B3(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new N3(r,i,o,n,Dp)}Ip(new Vd(M3,B3,"PUBLIC").setMultipleInstances(!0)),Vp(R3,O3,""),Vp(R3,O3,"esm2017");var V3=function(){function e(t,n,r){T(this,e),this._delegate=t,this.task=n,this.ref=r}return I(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),U3=function(){function e(t,n){T(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return I(e,[{key:"snapshot",get:function(){return new V3(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new V3(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"===typeof t?function(e){return t(new V3(e,i,i._ref))}:{next:t.next?function(e){return t.next(new V3(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)}}]),e}(),H3=function(){function e(t,n){T(this,e),this._delegate=t,this._service=n}return I(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new q3(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new q3(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),q3=function(){function e(t,n){T(this,e),this._delegate=t,this.storage=n}return I(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return T3(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new U3(D3(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O2.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=D2(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new U3(new y3(this._delegate,new z2(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return F3(this._delegate).then((function(t){return new H3(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return k3(e=Bd(e),t)}(this._delegate,e||void 0).then((function(e){return new H3(e,t.storage)}))}},{key:"getMetadata",value:function(){return L3(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return x3(e=Bd(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return E3(Bd(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),S3(Bd(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw l2(e)}}]),e}(),W3=function(){function e(t,n){T(this,e),this.app=t,this._delegate=n}return I(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(K3(e))throw u2("ref() expected a child path but got a URL, use refFromURL instead.");return new q3(j3(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!K3(e))throw u2("refFromURL() expected a full URL but got a child path, use ref() instead.");try{p2.makeFromUrl(e,this._delegate.host)}catch(Gn){throw u2("refFromUrl() expected a valid full URL but got an invalid one.")}return new q3(j3(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};z3(this._delegate,e,t,n)}}]),e}();function K3(e){return/^[A-Za-z]+:\/\//.test(e)}var G3;function Z3(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new W3(r,i)}!function(e){var t={TaskState:f3,TaskEvent:l3,StringFormat:O2,Storage:W3,Reference:q3};e.INTERNAL.registerComponent(new Vd("storage-compat",Z3,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.22")}(fv);var Y3,Q3,$3="@firebase/performance",X3="0.5.17",J3=X3,e4="FB-PERF-TRACE-START",t4="FB-PERF-TRACE-STOP",n4="FB-PERF-TRACE-MEASURE",r4="_wt_",i4="_fcp",o4="_fid",a4="@firebase/performance/config",s4="@firebase/performance/configexpire",u4="Performance",c4=(w(G3={},"trace started","Trace {$traceName} was started before."),w(G3,"trace stopped","Trace {$traceName} is not running."),w(G3,"nonpositive trace startTime","Trace {$traceName} startTime should be positive."),w(G3,"nonpositive trace duration","Trace {$traceName} duration should be positive."),w(G3,"no window","Window is not available."),w(G3,"no app id","App id is not available."),w(G3,"no project id","Project id is not available."),w(G3,"no api key","Api key is not available."),w(G3,"invalid cc log","Attempted to queue invalid cc event"),w(G3,"FB not default","Performance can only start when Firebase app instance is the default one."),w(G3,"RC response not ok","RC response is not ok"),w(G3,"invalid attribute name","Attribute name {$attributeName} is invalid."),w(G3,"invalid attribute value","Attribute value {$attributeValue} is invalid."),w(G3,"invalid custom metric name","Custom metric name {$customMetricName} is invalid"),w(G3,"invalid String merger input","Input for String merger is invalid, contact support team to resolve."),w(G3,"already initialized","initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."),G3),l4=new hd("performance",u4,c4),f4=new Jd(u4);f4.logLevel=Kd.INFO;var h4,d4,p4=function(){function e(t){if(T(this,e),this.window=t,!t)throw l4.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return I(e,[{key:"getUrl",value:function(){return this.windowLocation.href.split("?")[0]}},{key:"mark",value:function(e){this.performance&&this.performance.mark&&this.performance.mark(e)}},{key:"measure",value:function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)}},{key:"getEntriesByType",value:function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]}},{key:"getEntriesByName",value:function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]}},{key:"getTimeOrigin",value:function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}},{key:"requiredApisAvailable",value:function(){return fetch&&Promise&&od()?!!rd()||(f4.info("IndexedDB is not supported by current browswer"),!1):(f4.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)}},{key:"setupObserver",value:function(e,t){this.PerformanceObserver&&new this.PerformanceObserver((function(e){var n,r=Lh(e.getEntries());try{for(r.s();!(n=r.n()).done;){var i=n.value;t(i)}}catch(o){r.e(o)}finally{r.f()}})).observe({entryTypes:[e]})}}],[{key:"getInstance",value:function(){return void 0===Y3&&(Y3=new e(Q3)),Y3}}]),e}();function v4(){return h4}function m4(e,t){var n=e.length-t.length;if(n<0||n>1)throw l4.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var g4,y4=function(){function e(){T(this,e),this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=m4("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=m4("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return I(e,[{key:"getFlTransportFullUrl",value:function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}}],[{key:"getInstance",value:function(){return void 0===d4&&(d4=new e),d4}}]),e}();!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"}(g4||(g4={}));var b4=["firebase_","google_","ga_"],_4=new RegExp("^[a-zA-Z]\\w*$");function w4(){var e=p4.getInstance().navigator;return(null===e||void 0===e?void 0:e.serviceWorker)?e.serviceWorker.controller?2:3:1}function k4(){switch(p4.getInstance().document.visibilityState){case"visible":return g4.VISIBLE;case"hidden":return g4.HIDDEN;default:return g4.UNKNOWN}}function x4(){var e=p4.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function E4(e){var t,n=null===(t=e.options)||void 0===t?void 0:t.appId;if(!n)throw l4.create("no app id");return n}var S4="0.0.1",T4={loggingEnabled:!0},C4="FIREBASE_INSTALLATIONS_AUTH";function I4(e,t){var n=function(){var e=p4.getInstance().localStorage;if(!e)return;var t=e.getItem(s4);if(!t||(n=t,!(Number(n)>Date.now())))return;var n;var r=e.getItem(a4);if(!r)return;try{return JSON.parse(r)}catch(zL){return}}();return n?(A4(n),Promise.resolve()):function(e,t){return function(e){var t=e.getToken();return t.then((function(e){})),t}(e.installations).then((function(n){var r=function(e){var t,n=null===(t=e.options)||void 0===t?void 0:t.projectId;if(!n)throw l4.create("no project id");return n}(e.app),i=function(e){var t,n=null===(t=e.options)||void 0===t?void 0:t.apiKey;if(!n)throw l4.create("no api key");return n}(e.app),o="https://firebaseremoteconfig.googleapis.com/v1/projects/".concat(r,"/namespaces/fireperf:fetch?key=").concat(i),a=new Request(o,{method:"POST",headers:{Authorization:"".concat(C4," ").concat(n)},body:JSON.stringify({app_instance_id:t,app_instance_id_token:n,app_id:E4(e.app),app_version:J3,sdk_version:S4})});return fetch(a).then((function(e){if(e.ok)return e.json();throw l4.create("RC response not ok")}))})).catch((function(){f4.info(P4)}))}(e,t).then(A4).then((function(e){return function(e){var t=p4.getInstance().localStorage;if(!e||!t)return;t.setItem(a4,JSON.stringify(e)),t.setItem(s4,String(Date.now()+60*y4.getInstance().configTimeToLive*60*1e3))}(e)}),(function(){}))}var P4="Could not fetch config, will use default configs";function A4(e){if(!e)return e;var t=y4.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=T4.loggingEnabled,n.fpr_log_source?t.logSource=Number(n.fpr_log_source):T4.logSource&&(t.logSource=T4.logSource),n.fpr_log_endpoint_url?t.logEndPointUrl=n.fpr_log_endpoint_url:T4.logEndPointUrl&&(t.logEndPointUrl=T4.logEndPointUrl),n.fpr_log_transport_key?t.transportKey=n.fpr_log_transport_key:T4.transportKey&&(t.transportKey=T4.transportKey),void 0!==n.fpr_vc_network_request_sampling_rate?t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate):void 0!==T4.networkRequestsSamplingRate&&(t.networkRequestsSamplingRate=T4.networkRequestsSamplingRate),void 0!==n.fpr_vc_trace_sampling_rate?t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate):void 0!==T4.tracesSamplingRate&&(t.tracesSamplingRate=T4.tracesSamplingRate),t.logTraceAfterSampling=N4(t.tracesSamplingRate),t.logNetworkAfterSampling=N4(t.networkRequestsSamplingRate),e}function N4(e){return Math.random()<=e}var R4,O4=1;function M4(e){return O4=2,R4=R4||function(e){return function(){var e=p4.getInstance().document;return new Promise((function(t){if(e&&"complete"!==e.readyState){var n=function n(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()}))}().then((function(){return function(e){var t=e.getId();return t.then((function(e){h4=e})),t}(e.installations)})).then((function(t){return I4(e,t)})).then((function(){return D4()}),(function(){return D4()}))}(e),R4}function D4(){O4=3}var L4,F4=1e4,j4=3,z4=[],B4=!1;function V4(e){setTimeout((function(){if(0!==j4)return z4.length?void function(){var e=z4.splice(0,1e3),t=e.map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}}));(function(e,t){return function(e){var t=y4.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then((function(e){return e.ok||f4.info("Call to Firebase backend failed."),e.json()})).then((function(e){var n=Number(e.nextRequestWaitMillis),r=F4;isNaN(n)||(r=Math.max(n,r));var i=e.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(z4=[].concat(S(t),S(z4)),f4.info("Retry transport request later.")),j4=3,V4(r)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:y4.getInstance().logSource,log_event:t},e).catch((function(){z4=[].concat(S(e),S(z4)),j4--,f4.info("Tries left: ".concat(j4,".")),V4(F4)}))}():V4(F4)}),e)}function U4(e){if(!e.eventTime||!e.message)throw l4.create("invalid cc log");z4=[].concat(S(z4),[e])}function H4(e,t){L4||(L4=function(e){return function(){U4({message:e.apply(void 0,arguments),eventTime:Date.now()})}}(K4)),L4(e,t)}function q4(e){var t=y4.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&p4.getInstance().requiredApisAvailable()&&(e.isAuto&&k4()!==g4.VISIBLE||(3===O4?W4(e):M4(e.performanceController).then((function(){return W4(e)}),(function(){return W4(e)}))))}function W4(e){if(v4()){var t=y4.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout((function(){return H4(e,1)}),0)}}function K4(e,t){return 0===t?function(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:G4(e.performanceController.app),network_request_metric:t};return JSON.stringify(n)}(e):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);var r={application_info:G4(e.performanceController.app),trace_metric:t};return JSON.stringify(r)}(e)}function G4(e){return{google_app_id:E4(e),app_instance_id:v4(),web_app_info:{sdk_version:J3,page_url:p4.getInstance().getUrl(),service_worker_status:w4(),visibility_state:k4(),effective_connection_type:x4()},application_process_state:0}}var Z4=["_fp",i4,o4];var Y4=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0;T(this,e),this.performanceController=t,this.name=n,this.isAuto=r,this.state=1,this.customAttributes={},this.counters={},this.api=p4.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="".concat(e4,"-").concat(this.randomId,"-").concat(this.name),this.traceStopMark="".concat(t4,"-").concat(this.randomId,"-").concat(this.name),this.traceMeasure=i||"".concat(n4,"-").concat(this.randomId,"-").concat(this.name),i&&this.calculateTraceMetrics())}return I(e,[{key:"start",value:function(){if(1!==this.state)throw l4.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}},{key:"stop",value:function(){if(2!==this.state)throw l4.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),q4(this)}},{key:"record",value:function(e,t,n){if(e<=0)throw l4.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw l4.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=Object.assign({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Math.floor(Number(n.metrics[o])))}q4(this)}},{key:"incrementMetric",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)}},{key:"putMetric",value:function(e,t){if(n=e,r=this.name,0===n.length||n.length>100||!(r&&r.startsWith(r4)&&Z4.indexOf(n)>-1)&&n.startsWith("_"))throw l4.create("invalid custom metric name",{customMetricName:e});var n,r;this.counters[e]=function(e){var t=Math.floor(e);return t<e&&f4.info("Metric value should be an Integer, setting the value as : ".concat(t,".")),t}(null!==t&&void 0!==t?t:0)}},{key:"getMetric",value:function(e){return this.counters[e]||0}},{key:"putAttribute",value:function(e,t){var n,r=!(0===(n=e).length||n.length>40)&&!b4.some((function(e){return n.startsWith(e)}))&&!!n.match(_4),i=function(e){return 0!==e.length&&e.length<=100}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw l4.create("invalid attribute name",{attributeName:e});if(!i)throw l4.create("invalid attribute value",{attributeValue:t})}}},{key:"getAttribute",value:function(e){return this.customAttributes[e]}},{key:"removeAttribute",value:function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]}},{key:"getAttributes",value:function(){return Object.assign({},this.customAttributes)}},{key:"setStartTime",value:function(e){this.startTimeUs=e}},{key:"setDuration",value:function(e){this.durationUs=e}},{key:"calculateTraceMetrics",value:function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))}}],[{key:"createOobTrace",value:function(t,n,r,i){var o=p4.getInstance().getUrl();if(o){var a=new e(t,r4+o,!0),s=Math.floor(1e3*p4.getInstance().getTimeOrigin());a.setStartTime(s),n&&n[0]&&(a.setDuration(Math.floor(1e3*n[0].duration)),a.putMetric("domInteractive",Math.floor(1e3*n[0].domInteractive)),a.putMetric("domContentLoadedEventEnd",Math.floor(1e3*n[0].domContentLoadedEventEnd)),a.putMetric("loadEventEnd",Math.floor(1e3*n[0].loadEventEnd)));if(r){var u=r.find((function(e){return"first-paint"===e.name}));u&&u.startTime&&a.putMetric("_fp",Math.floor(1e3*u.startTime));var c=r.find((function(e){return"first-contentful-paint"===e.name}));c&&c.startTime&&a.putMetric(i4,Math.floor(1e3*c.startTime)),i&&a.putMetric(o4,Math.floor(1e3*i))}q4(a)}}},{key:"createUserTimingTrace",value:function(t,n){q4(new e(t,n,!1,n))}}]),e}();function Q4(e,t){var n=t;if(n&&void 0!==n.responseStart){var r=p4.getInstance().getTimeOrigin(),i=Math.floor(1e3*(n.startTime+r)),o=n.responseStart?Math.floor(1e3*(n.responseStart-n.startTime)):void 0,a=Math.floor(1e3*(n.responseEnd-n.startTime));!function(e){var t=y4.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout((function(){return H4(e,0)}),0)}}({performanceController:e,url:n.name&&n.name.split("?")[0],responsePayloadBytes:n.transferSize,startTimeUs:i,timeToResponseInitiatedUs:o,timeToResponseCompletedUs:a})}}function $4(e){v4()&&(setTimeout((function(){return function(e){var t=p4.getInstance(),n=t.getEntriesByType("navigation"),r=t.getEntriesByType("paint");if(t.onFirstInputDelay){var i=setTimeout((function(){Y4.createOobTrace(e,n,r),i=void 0}),5e3);t.onFirstInputDelay((function(t){i&&(clearTimeout(i),Y4.createOobTrace(e,n,r,t))}))}else Y4.createOobTrace(e,n,r)}(e)}),0),setTimeout((function(){return function(e){var t,n=p4.getInstance(),r=Lh(n.getEntriesByType("resource"));try{for(r.s();!(t=r.n()).done;){var i=t.value;Q4(e,i)}}catch(o){r.e(o)}finally{r.f()}n.setupObserver("resource",(function(t){return Q4(e,t)}))}(e)}),0),setTimeout((function(){return function(e){var t,n=p4.getInstance(),r=Lh(n.getEntriesByType("measure"));try{for(r.s();!(t=r.n()).done;){var i=t.value;X4(e,i)}}catch(o){r.e(o)}finally{r.f()}n.setupObserver("measure",(function(t){return X4(e,t)}))}(e)}),0))}function X4(e,t){var n=t.name;n.substring(0,n4.length)!==n4&&Y4.createUserTimingTrace(e,n)}var J4=function(){function e(t,n){T(this,e),this.app=t,this.installations=n,this.initialized=!1}return I(e,[{key:"_init",value:function(e){var t=this;this.initialized||(void 0!==(null===e||void 0===e?void 0:e.dataCollectionEnabled)&&(this.dataCollectionEnabled=e.dataCollectionEnabled),void 0!==(null===e||void 0===e?void 0:e.instrumentationEnabled)&&(this.instrumentationEnabled=e.instrumentationEnabled),p4.getInstance().requiredApisAvailable()?id().then((function(e){e&&(B4||(V4(5500),B4=!0),M4(t).then((function(){return $4(t)}),(function(){return $4(t)})),t.initialized=!0)})).catch((function(e){f4.info("Environment doesn't support IndexedDB: ".concat(e))})):f4.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}},{key:"instrumentationEnabled",get:function(){return y4.getInstance().instrumentationEnabled},set:function(e){y4.getInstance().instrumentationEnabled=e}},{key:"dataCollectionEnabled",get:function(){return y4.getInstance().dataCollectionEnabled},set:function(e){y4.getInstance().dataCollectionEnabled=e}}]),e}();var e5=function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("[DEFAULT]"!==r.name)throw l4.create("FB not default");if("undefined"===typeof window)throw l4.create("no window");!function(e){Q3=e}(window);var o=new J4(r,i);return o._init(n),o};Ip(new Vd("performance",e5,"PUBLIC")),Vp($3,X3),Vp($3,X3,"esm2017");var t5,n5,r5=function(){function e(t,n){T(this,e),this.app=t,this._delegate=n}return I(e,[{key:"instrumentationEnabled",get:function(){return this._delegate.instrumentationEnabled},set:function(e){this._delegate.instrumentationEnabled=e}},{key:"dataCollectionEnabled",get:function(){return this._delegate.dataCollectionEnabled},set:function(e){this._delegate.dataCollectionEnabled=e}},{key:"trace",value:function(e){return function(e,t){return e=Bd(e),new Y4(e,t)}(this._delegate,e)}}]),e}();function i5(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("performance").getImmediate();return new r5(t,n)}(t5=fv).INTERNAL.registerComponent(new Vd("performance-compat",i5,"PUBLIC")),t5.registerVersion("@firebase/performance-compat","0.1.17");var o5="@firebase/remote-config",a5="0.3.15",s5=function(){function e(){T(this,e),this.listeners=[]}return I(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),e}(),u5="remote-config",c5=(w(n5={},"registration-window","Undefined window object. This SDK only supports usage in a browser environment."),w(n5,"registration-project-id","Undefined project identifier. Check Firebase app initialization."),w(n5,"registration-api-key","Undefined API key. Check Firebase app initialization."),w(n5,"registration-app-id","Undefined app identifier. Check Firebase app initialization."),w(n5,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),w(n5,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),w(n5,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),w(n5,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),w(n5,"fetch-client-network","Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}."),w(n5,"fetch-timeout",'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.'),w(n5,"fetch-throttle",'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.'),w(n5,"fetch-client-parse","Fetch client could not parse response. Original error: {$originalErrorMessage}."),w(n5,"fetch-status","Fetch server returned an HTTP error status. HTTP status: {$httpStatus}."),w(n5,"indexed-db-unavailable","Indexed DB is not supported by current browser"),n5),l5=new hd("remoteconfig","Remote Config",c5);function f5(e,t){return e instanceof fd&&-1!==e.code.indexOf(t)}var h5=["1","true","t","yes","y","on"],d5=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";T(this,e),this._source=t,this._value=n}return I(e,[{key:"asString",value:function(){return this._value}},{key:"asBoolean",value:function(){return"static"!==this._source&&h5.indexOf(this._value.toLowerCase())>=0}},{key:"asNumber",value:function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e}},{key:"getSource",value:function(){return this._source}}]),e}();function p5(e){return v5.apply(this,arguments)}function v5(){return v5=y(m().mark((function e(t){var n,r,i,o,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Bd(t),e.next=3,Promise.all([n._storage.getLastSuccessfulFetchResponse(),n._storage.getActiveConfigEtag()]);case 3:if(r=e.sent,i=c(r,2),o=i[0],a=i[1],o&&o.config&&o.eTag&&o.eTag!==a){e.next=9;break}return e.abrupt("return",!1);case 9:return e.next=11,Promise.all([n._storageCache.setActiveConfig(o.config),n._storage.setActiveConfigEtag(o.eTag)]);case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)}))),v5.apply(this,arguments)}function m5(e){var t=Bd(e);return t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),t._initializePromise}function g5(e){return y5.apply(this,arguments)}function y5(){return y5=y(m().mark((function e(t){var n,r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Bd(t),r=new s5,setTimeout(y(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.abort();case 1:case"end":return e.stop()}}),e)}))),n.settings.fetchTimeoutMillis),e.prev=3,e.next=6,n._client.fetch({cacheMaxAgeMillis:n.settings.minimumFetchIntervalMillis,signal:r});case 6:return e.next=8,n._storageCache.setLastFetchStatus("success");case 8:e.next=16;break;case 10:return e.prev=10,e.t0=e.catch(3),i=f5(e.t0,"fetch-throttle")?"throttle":"failure",e.next=15,n._storageCache.setLastFetchStatus(i);case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,10]])}))),y5.apply(this,arguments)}function b5(e){var t=Bd(e);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(Object.assign(Object.assign({},e),t))}(t._storageCache.getActiveConfig(),t.defaultConfig).reduce((function(t,n){return t[n]=_5(e,n),t}),{})}function _5(e,t){var n=Bd(e);n._isInitializationComplete||n._logger.debug('A value was requested for key "'.concat(t,'" before SDK initialization completed.')+" Await on ensureInitialized if the intent was to get a previously activated value.");var r=n._storageCache.getActiveConfig();return r&&void 0!==r[t]?new d5("remote",r[t]):n.defaultConfig&&void 0!==n.defaultConfig[t]?new d5("default",String(n.defaultConfig[t])):(n._logger.debug('Returning static value for key "'.concat(t,'".')+" Define a default or remote value if this is unintentional."),new d5("static"))}var w5=function(){function e(t,n,r,i){T(this,e),this.client=t,this.storage=n,this.storageCache=r,this.logger=i}return I(e,[{key:"isCachedDataFresh",value:function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check."+" Cache age millis: ".concat(n,".")+" Cache max age millis (minimumFetchIntervalMillis setting): ".concat(e,".")+" Is cache hit: ".concat(r,".")),r}},{key:"fetch",value:function(){var e=y(m().mark((function e(t){var n,r,i,o,a,s;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);case 2:if(n=e.sent,r=c(n,2),i=r[0],!(o=r[1])||!this.isCachedDataFresh(t.cacheMaxAgeMillis,i)){e.next=8;break}return e.abrupt("return",o);case 8:return t.eTag=o&&o.eTag,e.next=11,this.client.fetch(t);case 11:return a=e.sent,s=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===a.status&&s.push(this.storage.setLastSuccessfulFetchResponse(a)),e.next=16,Promise.all(s);case 16:return e.abrupt("return",a);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function k5(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator;return e.languages&&e.languages[0]||e.language}var x5=function(){function e(t,n,r,i,o,a){T(this,e),this.firebaseInstallations=t,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=a}return I(e,[{key:"fetch",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=y(m().mark((function e(t){var n,r,i,o,a,s,u,l,f,h,d,p,v,g,y,b,_,w,k,x,E;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]);case 2:return o=e.sent,a=c(o,2),s=a[0],u=a[1],l=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",f="".concat(l,"/v1/projects/").concat(this.projectId,"/namespaces/").concat(this.namespace,":fetch?key=").concat(this.apiKey),h={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},d={sdk_version:this.sdkVersion,app_instance_id:s,app_instance_id_token:u,app_id:this.appId,language_code:k5()},p={method:"POST",headers:h,body:JSON.stringify(d)},v=fetch(f,p),g=new Promise((function(e,n){t.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),e.prev=13,e.next=16,Promise.race([v,g]);case 16:return e.next=18,v;case 18:y=e.sent,e.next=26;break;case 21:throw e.prev=21,e.t0=e.catch(13),b="fetch-client-network","AbortError"===(null===(n=e.t0)||void 0===n?void 0:n.name)&&(b="fetch-timeout"),l5.create(b,{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message});case 26:if(_=y.status,w=y.headers.get("ETag")||void 0,200!==y.status){e.next=40;break}return e.prev=29,e.next=32,y.json();case 32:E=e.sent,e.next=38;break;case 35:throw e.prev=35,e.t1=e.catch(29),l5.create("fetch-client-parse",{originalErrorMessage:null===(i=e.t1)||void 0===i?void 0:i.message});case 38:k=E.entries,x=E.state;case 40:if("INSTANCE_STATE_UNSPECIFIED"===x?_=500:"NO_CHANGE"===x?_=304:"NO_TEMPLATE"!==x&&"EMPTY_CONFIG"!==x||(k={}),304===_||200===_){e.next=43;break}throw l5.create("fetch-status",{httpStatus:_});case 43:return e.abrupt("return",{status:_,eTag:w,config:k});case 44:case"end":return e.stop()}}),e,this,[[13,21],[29,35]])})));return function(t){return e.apply(this,arguments)}}())}]),e}();function E5(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(l5.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function S5(e){if(!(e instanceof fd)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var T5=function(){function e(t,n){T(this,e),this.client=t,this.storage=n}return I(e,[{key:"fetch",value:function(){var e=y(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storage.getThrottleMetadata();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={backoffCount:0,throttleEndTimeMillis:Date.now()};case 5:return n=e.t0,e.abrupt("return",this.attemptFetch(t,n));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"attemptFetch",value:function(){var e=y(m().mark((function e(t,n){var r,i,o,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.throttleEndTimeMillis,i=n.backoffCount,e.next=3,E5(t.signal,r);case 3:return e.prev=3,e.next=6,this.client.fetch(t);case 6:return o=e.sent,e.next=9,this.storage.deleteThrottleMetadata();case 9:return e.abrupt("return",o);case 12:if(e.prev=12,e.t0=e.catch(3),S5(e.t0)){e.next=16;break}throw e.t0;case 16:return a={throttleEndTimeMillis:Date.now()+zd(i),backoffCount:i+1},e.next=19,this.storage.setThrottleMetadata(a);case 19:return e.abrupt("return",this.attemptFetch(t,a));case 20:case"end":return e.stop()}}),e,this,[[3,12]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),C5=function(){function e(t,n,r,i,o){T(this,e),this.app=t,this._client=n,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return I(e,[{key:"fetchTimeMillis",get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}},{key:"lastFetchStatus",get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}]),e}();function I5(e,t){var n,r=e.target.error||void 0;return l5.create(t,{originalErrorMessage:r&&(null===(n=r)||void 0===n?void 0:n.message)})}var P5="app_namespace_store";function A5(){return new Promise((function(e,t){var n;try{var r=indexedDB.open("firebase_remote_config",1);r.onerror=function(e){t(I5(e,"storage-open"))},r.onsuccess=function(t){e(t.target.result)},r.onupgradeneeded=function(e){var t=e.target.result;if(0===e.oldVersion)t.createObjectStore(P5,{keyPath:"compositeKey"})}}catch(qW){t(l5.create("storage-open",{originalErrorMessage:null===(n=qW)||void 0===n?void 0:n.message}))}}))}var N5=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:A5();T(this,e),this.appId=t,this.appName=n,this.namespace=r,this.openDbPromise=i}return I(e,[{key:"getLastFetchStatus",value:function(){return this.get("last_fetch_status")}},{key:"setLastFetchStatus",value:function(e){return this.set("last_fetch_status",e)}},{key:"getLastSuccessfulFetchTimestampMillis",value:function(){return this.get("last_successful_fetch_timestamp_millis")}},{key:"setLastSuccessfulFetchTimestampMillis",value:function(e){return this.set("last_successful_fetch_timestamp_millis",e)}},{key:"getLastSuccessfulFetchResponse",value:function(){return this.get("last_successful_fetch_response")}},{key:"setLastSuccessfulFetchResponse",value:function(e){return this.set("last_successful_fetch_response",e)}},{key:"getActiveConfig",value:function(){return this.get("active_config")}},{key:"setActiveConfig",value:function(e){return this.set("active_config",e)}},{key:"getActiveConfigEtag",value:function(){return this.get("active_config_etag")}},{key:"setActiveConfigEtag",value:function(e){return this.set("active_config_etag",e)}},{key:"getThrottleMetadata",value:function(){return this.get("throttle_metadata")}},{key:"setThrottleMetadata",value:function(e){return this.set("throttle_metadata",e)}},{key:"deleteThrottleMetadata",value:function(){return this.delete("throttle_metadata")}},{key:"get",value:function(){var e=y(m().mark((function e(t){var n,r=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.openDbPromise;case 2:return n=e.sent,e.abrupt("return",new Promise((function(e,i){var o,a=n.transaction([P5],"readonly").objectStore(P5),s=r.createCompositeKey(t);try{var u=a.get(s);u.onerror=function(e){i(I5(e,"storage-get"))},u.onsuccess=function(t){var n=t.target.result;e(n?n.value:void 0)}}catch(Gn){i(l5.create("storage-get",{originalErrorMessage:null===(o=Gn)||void 0===o?void 0:o.message}))}})));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(){var e=y(m().mark((function e(t,n){var r,i=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.openDbPromise;case 2:return r=e.sent,e.abrupt("return",new Promise((function(e,o){var a,s=r.transaction([P5],"readwrite").objectStore(P5),u=i.createCompositeKey(t);try{var c=s.put({compositeKey:u,value:n});c.onerror=function(e){o(I5(e,"storage-set"))},c.onsuccess=function(){e()}}catch(Gn){o(l5.create("storage-set",{originalErrorMessage:null===(a=Gn)||void 0===a?void 0:a.message}))}})));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=y(m().mark((function e(t){var n,r=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.openDbPromise;case 2:return n=e.sent,e.abrupt("return",new Promise((function(e,i){var o,a=n.transaction([P5],"readwrite").objectStore(P5),s=r.createCompositeKey(t);try{var u=a.delete(s);u.onerror=function(e){i(I5(e,"storage-delete"))},u.onsuccess=function(){e()}}catch(Gn){i(l5.create("storage-delete",{originalErrorMessage:null===(o=Gn)||void 0===o?void 0:o.message}))}})));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createCompositeKey",value:function(e){return[this.appId,this.appName,this.namespace,e].join()}}]),e}(),R5=function(){function e(t){T(this,e),this.storage=t}return I(e,[{key:"getLastFetchStatus",value:function(){return this.lastFetchStatus}},{key:"getLastSuccessfulFetchTimestampMillis",value:function(){return this.lastSuccessfulFetchTimestampMillis}},{key:"getActiveConfig",value:function(){return this.activeConfig}},{key:"loadFromStorage",value:function(){var e=y(m().mark((function e(){var t,n,r,i,o,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),e.next=5,t;case 5:return(i=e.sent)&&(this.lastFetchStatus=i),e.next=9,n;case 9:return(o=e.sent)&&(this.lastSuccessfulFetchTimestampMillis=o),e.next=13,r;case 13:(a=e.sent)&&(this.activeConfig=a);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setLastFetchStatus",value:function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}},{key:"setLastSuccessfulFetchTimestampMillis",value:function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}},{key:"setActiveConfig",value:function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}]),e}();function O5(){return(O5=y(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Bd(t),e.next=3,g5(t);case 3:return e.abrupt("return",p5(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M5(){return D5.apply(this,arguments)}function D5(){return(D5=y(m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(rd()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,e.next=5,id();case 5:return t=e.sent,e.abrupt("return",t);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}Ip(new Vd(u5,(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"===typeof window)throw l5.create("registration-window");if(!rd())throw l5.create("indexed-db-unavailable");var o=r.options,a=o.projectId,s=o.apiKey,u=o.appId;if(!a)throw l5.create("registration-project-id");if(!s)throw l5.create("registration-api-key");if(!u)throw l5.create("registration-app-id");n=n||"firebase";var c=new N5(u,r.name,n),l=new R5(c),f=new Jd(o5);f.logLevel=Kd.ERROR;var h=new x5(i,Dp,n,a,s,u),d=new T5(h,c),p=new w5(d,c,l,f),v=new C5(r,p,l,c,f);return m5(v),v}),"PUBLIC").setMultipleInstances(!0)),Vp(o5,a5),Vp(o5,a5,"esm2017");var L5=function(){function e(t,n){T(this,e),this.app=t,this._delegate=n}return I(e,[{key:"defaultConfig",get:function(){return this._delegate.defaultConfig},set:function(e){this._delegate.defaultConfig=e}},{key:"fetchTimeMillis",get:function(){return this._delegate.fetchTimeMillis}},{key:"lastFetchStatus",get:function(){return this._delegate.lastFetchStatus}},{key:"settings",get:function(){return this._delegate.settings},set:function(e){this._delegate.settings=e}},{key:"activate",value:function(){return p5(this._delegate)}},{key:"ensureInitialized",value:function(){return m5(this._delegate)}},{key:"fetch",value:function(){return g5(this._delegate)}},{key:"fetchAndActivate",value:function(){return function(e){return O5.apply(this,arguments)}(this._delegate)}},{key:"getAll",value:function(){return b5(this._delegate)}},{key:"getBoolean",value:function(e){return function(e,t){return _5(Bd(e),t).asBoolean()}(this._delegate,e)}},{key:"getNumber",value:function(e){return function(e,t){return _5(Bd(e),t).asNumber()}(this._delegate,e)}},{key:"getString",value:function(e){return function(e,t){return _5(Bd(e),t).asString()}(this._delegate,e)}},{key:"getValue",value:function(e){return _5(this._delegate,e)}},{key:"setLogLevel",value:function(e){!function(e,t){var n=Bd(e);switch(t){case"debug":n._logger.logLevel=Kd.DEBUG;break;case"silent":n._logger.logLevel=Kd.SILENT;break;default:n._logger.logLevel=Kd.ERROR}}(this._delegate,e)}}]),e}();function F5(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("remote-config").getImmediate({identifier:n});return new L5(r,i)}!function(e){e.INTERNAL.registerComponent(new Vd("remoteConfig-compat",F5,"PUBLIC").setMultipleInstances(!0).setServiceProps({isSupported:M5})),e.registerVersion("@firebase/remote-config-compat","0.1.16")}(fv);fv.registerVersion("firebase","9.14.0","app-compat");console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),fv.registerVersion("firebase","9.14.0","compat");var j5=oV().icon({iconUrl:"https://unpkg.com/leaflet@1.6.0/dist/images/marker-icon-2x.png",iconSize:[20]});oV().Marker.prototype.options.icon=j5;var z5=function(e){var n=e.setShowOverlay,r=e.setPositions,i=c((0,t.useState)(""),2),o=i[0],a=i[1],s=c((0,t.useState)(""),2),u=s[0],l=s[1],f=c((0,t.useState)([]),2),h=f[0],d=f[1],p=lz().currentUser,v=null===p||void 0===p?void 0:p.uid,m={month:"long",day:"numeric"};(0,t.useEffect)((function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){var t=e.coords.latitude,n=e.coords.longitude;a(t),l(n)}),(function(){alert("couldn't get your location! \ud83d\ude14")}))}),[o,u]);var g=function(){!function(e){var n=rV();(0,t.useEffect)((function(){return n.on(e),function(){n.off(e)}}),[n,e])}({click:function(e){var t=e.latlng;r(t),n(!0)}})};return(0,t.useEffect)((function(){sz.collection("users").doc(v).onSnapshot((function(e){var t=e.data(),n=null===t||void 0===t?void 0:t.workout,r=null===n||void 0===n?void 0:n.map((function(e){var t;return{lat:e.lat,lng:e.lng,type:e.type,at:new Date(null===(t=e.at)||void 0===t?void 0:t.toDate()).toLocaleDateString(void 0,m)}}));d(r)}))}),[v]),(0,uz.jsx)("div",{className:"darkLight",id:"map",children:o?(0,uz.jsxs)(cV,{center:[o,u],zoom:13,scrollWheelZoom:!1,children:[(0,uz.jsx)(_V,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png"}),(0,uz.jsx)(g,{}),h&&h.map((function(e,t){return(0,uz.jsx)(kV,{position:e,icon:j5,children:"running"===e.type?(0,uz.jsxs)(xV,{children:["\ud83c\udfc3\u200d\u2642\ufe0f ",e.type," on ",e.at]}):(0,uz.jsxs)(xV,{autoClose:!1,closeOnClick:!1,children:["\ud83d\udeb4\u200d\u2640\ufe0f ",e.type," on ",e.at]})},t+1)}))]}):""})},B5=n.p+"static/media/logo.9749365e69f2d8096ce6.png",V5=n.p+"static/media/img.26190c84de123106e2bc.png",U5=n(9653),H5={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},q5=U5.createContext&&U5.createContext(H5),W5=function(){return W5=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},W5.apply(this,arguments)},K5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function G5(e){return e&&e.map((function(e,t){return U5.createElement(e.tag,W5({key:t},e.attr),G5(e.child))}))}function Z5(e){return function(t){return U5.createElement(Y5,W5({attr:W5({},e.attr)},t),G5(e.child))}}function Y5(e){var t=function(t){var n,r=e.attr,i=e.size,o=e.title,a=K5(e,["attr","size","title"]),s=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),U5.createElement("svg",W5({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,a,{className:n,style:W5(W5({color:e.color||t.color},t.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&U5.createElement("title",null,o),e.children)};return void 0!==q5?U5.createElement(q5.Consumer,null,(function(e){return t(e)})):t(H5)}function Q5(e){return Z5({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 277.4h189.7l-43.6 44.7L368 352l96-96-96-96-31 29.9 44.7 44.7H192v42.8z"}},{tag:"path",attr:{d:"M255.7 421.3c-44.1 0-85.5-17.2-116.7-48.4-31.2-31.2-48.3-72.7-48.3-116.9 0-44.1 17.2-85.7 48.3-116.9 31.2-31.2 72.6-48.4 116.7-48.4 44 0 85.3 17.1 116.5 48.2l30.3-30.3c-8.5-8.4-17.8-16.2-27.7-23.2C339.7 61 298.6 48 255.7 48 141.2 48 48 141.3 48 256s93.2 208 207.7 208c42.9 0 84-13 119-37.5 10-7 19.2-14.7 27.7-23.2l-30.2-30.2c-31.1 31.1-72.5 48.2-116.5 48.2zM448.004 256.847l-.849-.848.849-.849.848.849z"}}]})(e)}var $5=(0,t.createContext)({transformPagePoint:function(e){return e},isStatic:!1,reducedMotion:"never"}),X5=(0,t.createContext)({});var J5=(0,t.createContext)(null),e6="undefined"!==typeof document,t6=e6?t.useLayoutEffect:t.useEffect,n6=(0,t.createContext)({strict:!1});function r6(e,n,r,i){var o=(0,t.useContext)(X5).visualElement,a=(0,t.useContext)(n6),s=(0,t.useContext)(J5),u=(0,t.useContext)($5).reducedMotion,c=(0,t.useRef)();i=i||a.renderer,!c.current&&i&&(c.current=i(e,{visualState:n,parent:o,props:r,presenceId:s?s.id:void 0,blockInitialAnimation:!!s&&!1===s.initial,reducedMotionConfig:u}));var l=c.current;return t6((function(){l&&l.render()})),(0,t.useEffect)((function(){l&&l.animationState&&l.animationState.animateChanges()})),t6((function(){return function(){return l&&l.notify("Unmount")}}),[]),l}function i6(e){return"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function o6(e){return"string"===typeof e||Array.isArray(e)}function a6(e){return"object"===typeof e&&"function"===typeof e.start}var s6=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function u6(e){return a6(e.animate)||s6.some((function(t){return o6(e[t])}))}function c6(e){return Boolean(u6(e)||e.variants)}function l6(e){var n=function(e,t){if(u6(e)){var n=e.initial,r=e.animate;return{initial:!1===n||o6(n)?n:void 0,animate:o6(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,t.useContext)(X5)),r=n.initial,i=n.animate;return(0,t.useMemo)((function(){return{initial:r,animate:i}}),[f6(r),f6(i)])}function f6(e){return Array.isArray(e)?e.join(" "):e}var h6=function(e){return{isEnabled:function(t){return e.some((function(e){return!!t[e]}))}}},d6={measureLayout:h6(["layout","layoutId","drag"]),animation:h6(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:h6(["exit"]),drag:h6(["drag","dragControls"]),focus:h6(["whileFocus"]),hover:h6(["whileHover","onHoverStart","onHoverEnd"]),tap:h6(["whileTap","onTap","onTapStart","onTapCancel"]),pan:h6(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:h6(["whileInView","onViewportEnter","onViewportLeave"])};function p6(e){var n=(0,t.useRef)(null);return null===n.current&&(n.current=e()),n.current}var v6={hasAnimatedSinceResize:!0,hasEverUpdated:!1},m6=1;var g6=(0,t.createContext)({}),y6=function(e){N(n,e);var t=D(n);function n(){return T(this,n),t.apply(this,arguments)}return I(n,[{key:"getSnapshotBeforeUpdate",value:function(){var e=this.props,t=e.visualElement,n=e.props;return t&&t.setProps(n),null}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return this.props.children}}]),n}(t.Component),b6=(0,t.createContext)({}),_6=Symbol.for("motionComponentSymbol");function w6(e){var n=e.preloadedFeatures,r=e.createVisualElement,i=e.projectionNodeConstructor,o=e.useRender,a=e.useVisualState,s=e.Component;n&&function(e){for(var t in e)"projectionNodeConstructor"===t?d6.projectionNodeConstructor=e[t]:d6[t].Component=e[t]}(n);var u=(0,t.forwardRef)((function(e,u){var c=x(x(x({},(0,t.useContext)($5)),e),{},{layoutId:k6(e)}),l=c.isStatic,f=null,h=l6(e),d=l?void 0:p6((function(){if(v6.hasEverUpdated)return m6++})),p=a(e,l);if(!l&&e6){h.visualElement=r6(s,p,c,r);var v=(0,t.useContext)(n6).strict,m=(0,t.useContext)(b6);h.visualElement&&(f=h.visualElement.loadFeatures(c,v,n,d,i||d6.projectionNodeConstructor,m))}return t.createElement(y6,{visualElement:h.visualElement,props:c},f,t.createElement(X5.Provider,{value:h},o(s,e,d,function(e,n,r){return(0,t.useCallback)((function(t){t&&e.mount&&e.mount(t),n&&(t?n.mount(t):n.unmount()),r&&("function"===typeof r?r(t):i6(r)&&(r.current=t))}),[n])}(p,h.visualElement,u),p,l,h.visualElement)))}));return u[_6]=s,u}function k6(e){var n=e.layoutId,r=(0,t.useContext)(g6).id;return r&&void 0!==n?r+"-"+n:n}function x6(e){function t(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return w6(e(t,n))}if("undefined"===typeof Proxy)return t;var n=new Map;return new Proxy(t,{get:function(e,r){return n.has(r)||n.set(r,t(r)),n.get(r)}})}var E6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","text","tspan","use","view"];function S6(e){return"string"===typeof e&&!e.includes("-")&&!!(E6.indexOf(e)>-1||/[A-Z]/.test(e))}var T6={};var C6=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],I6=new Set(C6);function P6(e,t){var n=t.layout,r=t.layoutId;return I6.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!T6[e]||"opacity"===e)}var A6=function(e){return!!(null===e||void 0===e?void 0:e.getVelocity)},N6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},R6=function(e,t){return C6.indexOf(e)-C6.indexOf(t)};function O6(e){return e.startsWith("--")}var M6=function(e,t){return t&&"number"===typeof e?t.transform(e):e},D6=function(e,t){return function(n){return Math.max(Math.min(n,t),e)}},L6=function(e){return e%1?Number(e.toFixed(5)):e},F6=/(-)?([\d]*\.?[\d])+/g,j6=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,z6=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function B6(e){return"string"===typeof e}var V6=function(e){return{test:function(t){return B6(t)&&t.endsWith(e)&&1===t.split(" ").length},parse:parseFloat,transform:function(t){return"".concat(t).concat(e)}}},U6=V6("deg"),H6=V6("%"),q6=V6("px"),W6=V6("vh"),K6=V6("vw"),G6=Object.assign(Object.assign({},H6),{parse:function(e){return H6.parse(e)/100},transform:function(e){return H6.transform(100*e)}}),Z6={test:function(e){return"number"===typeof e},parse:parseFloat,transform:function(e){return e}},Y6=Object.assign(Object.assign({},Z6),{transform:D6(0,1)}),Q6=Object.assign(Object.assign({},Z6),{default:1}),$6=x(x({},Z6),{},{transform:Math.round}),X6={borderWidth:q6,borderTopWidth:q6,borderRightWidth:q6,borderBottomWidth:q6,borderLeftWidth:q6,borderRadius:q6,radius:q6,borderTopLeftRadius:q6,borderTopRightRadius:q6,borderBottomRightRadius:q6,borderBottomLeftRadius:q6,width:q6,maxWidth:q6,height:q6,maxHeight:q6,size:q6,top:q6,right:q6,bottom:q6,left:q6,padding:q6,paddingTop:q6,paddingRight:q6,paddingBottom:q6,paddingLeft:q6,margin:q6,marginTop:q6,marginRight:q6,marginBottom:q6,marginLeft:q6,rotate:U6,rotateX:U6,rotateY:U6,rotateZ:U6,scale:Q6,scaleX:Q6,scaleY:Q6,scaleZ:Q6,skew:U6,skewX:U6,skewY:U6,distance:q6,translateX:q6,translateY:q6,translateZ:q6,x:q6,y:q6,z:q6,perspective:q6,transformPerspective:q6,opacity:Y6,originX:G6,originY:G6,originZ:q6,zIndex:$6,fillOpacity:Y6,strokeOpacity:Y6,numOctaves:$6};function J6(e,t,n,r){var i=e.style,o=e.vars,a=e.transform,s=e.transformKeys,u=e.transformOrigin;s.length=0;var c=!1,l=!1,f=!0;for(var h in t){var d=t[h];if(O6(h))o[h]=d;else{var p=X6[h],v=M6(d,p);if(I6.has(h)){if(c=!0,a[h]=v,s.push(h),!f)continue;d!==(p.default||0)&&(f=!1)}else h.startsWith("origin")?(l=!0,u[h]=v):i[h]=v}}if(t.transform||(c||r?i.transform=function(e,t,n,r){var i=e.transform,o=e.transformKeys,a=t.enableHardwareAcceleration,s=void 0===a||a,u=t.allowTransformNone,c=void 0===u||u,l="";o.sort(R6);var f,h=Lh(o);try{for(h.s();!(f=h.n()).done;){var d=f.value;l+="".concat(N6[d]||d,"(").concat(i[d],") ")}}catch(p){h.e(p)}finally{h.f()}return s&&!i.z&&(l+="translateZ(0)"),l=l.trim(),r?l=r(i,n?"":l):c&&n&&(l="none"),l}(e,n,f,r):i.transform&&(i.transform="none")),l){var m=u.originX,g=void 0===m?"50%":m,y=u.originY,b=void 0===y?"50%":y,_=u.originZ,w=void 0===_?0:_;i.transformOrigin="".concat(g," ").concat(b," ").concat(w)}}var e8=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function t8(e,t,n){for(var r in t)A6(t[r])||P6(r,n)||(e[r]=t[r])}function n8(e,n,r){var i={};return t8(i,e.style||{},e),Object.assign(i,function(e,n,r){var i=e.transformTemplate;return(0,t.useMemo)((function(){var e={style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}};return J6(e,n,{enableHardwareAcceleration:!r},i),Object.assign({},e.vars,e.style)}),[n])}(e,n,r)),e.transformValues?e.transformValues(i):i}function r8(e,t,n){var r={},i=n8(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),r.style=i,r}var i8=new Set(["initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","onHoverStart","onHoverEnd","layoutScroll"].concat(["whileInView","onViewportEnter","onViewportLeave","viewport"],["whileTap","onTap","onTapStart","onTapCancel"],["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],["onPan","onPanStart","onPanSessionStart","onPanEnd"]));function o8(e){return i8.has(e)}var a8,s8=function(e){return!o8(e)};try{(a8=require("@emotion/is-prop-valid").default)&&(s8=function(e){return e.startsWith("on")?!o8(e):a8(e)})}catch(zL){}function u8(e,t,n){var r={};for(var i in e)(s8(i)||!0===n&&o8(i)||!t&&!o8(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function c8(e,t,n){return"string"===typeof e?e:q6.transform(t+n*e)}var l8={offset:"stroke-dashoffset",array:"stroke-dasharray"},f8={offset:"strokeDashoffset",array:"strokeDasharray"};var h8=["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"];function d8(e,t,n,r){var i=t.attrX,o=t.attrY,a=t.originX,s=t.originY,u=t.pathLength,c=t.pathSpacing,l=void 0===c?1:c,f=t.pathOffset,h=void 0===f?0:f;J6(e,_(t,h8),n,r),e.attrs=e.style,e.style={};var d=e.attrs,p=e.style,v=e.dimensions;d.transform&&(v&&(p.transform=d.transform),delete d.transform),v&&(void 0!==a||void 0!==s||p.transform)&&(p.transformOrigin=function(e,t,n){var r=c8(t,e.x,e.width),i=c8(n,e.y,e.height);return"".concat(r," ").concat(i)}(v,void 0!==a?a:.5,void 0!==s?s:.5)),void 0!==i&&(d.x=i),void 0!==o&&(d.y=o),void 0!==u&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;var o=i?l8:f8;e[o.offset]=q6.transform(-r);var a=q6.transform(t),s=q6.transform(n);e[o.array]="".concat(a," ").concat(s)}(d,u,l,h,!1)}var p8=function(){return x(x({},{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}),{},{attrs:{}})};function v8(e,n){var r=(0,t.useMemo)((function(){var t=p8();return d8(t,n,{enableHardwareAcceleration:!1},e.transformTemplate),x(x({},t.attrs),{},{style:x({},t.style)})}),[n]);if(e.style){var i={};t8(i,e.style,e),r.style=x(x({},i),r.style)}return r}function m8(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=function(n,r,i,o,a,s){var u=a.latestValues,c=(S6(n)?v8:r8)(r,u,s),l=x(x(x({},u8(r,"string"===typeof n,e)),c),{},{ref:o});return i&&(l["data-projection-id"]=i),(0,t.createElement)(n,l)};return n}var g8=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()};function y8(e,t,n,r){var i=t.style,o=t.vars;for(var a in Object.assign(e.style,i,r&&r.getProjectionStyles(n)),o)e.style.setProperty(a,o[a])}var b8=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function _8(e,t,n,r){for(var i in y8(e,t,void 0,r),t.attrs)e.setAttribute(b8.has(i)?i:g8(i),t.attrs[i])}function w8(e){var t=e.style,n={};for(var r in t)(A6(t[r])||P6(r,e))&&(n[r]=t[r]);return n}function k8(e){var t=w8(e);for(var n in e){if(A6(e[n]))t["x"===n||"y"===n?"attr"+n.toUpperCase():n]=e[n]}return t}function x8(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),t}var E8=function(e){return Array.isArray(e)},S8=function(e){return E8(e)?e[e.length-1]||0:e};function T8(e){var t=A6(e)?e.get():e;return function(e){return Boolean(e&&"object"===typeof e&&e.mix&&e.toValue)}(t)?t.toValue():t}var C8=["transitionEnd","transition"];var I8=function(e){return function(n,r){var i=(0,t.useContext)(X5),o=(0,t.useContext)(J5),a=function(){return function(e,t,n,r){var i=e.scrapeMotionValuesFromProps,o=e.createRenderState,a=e.onMount,s={latestValues:P8(t,n,r,i),renderState:o()};return a&&(s.mount=function(e){return a(t,e,s)}),s}(e,n,i,o)};return r?a():p6(a)}};function P8(e,t,n,r){var i={},o=r(e);for(var a in o)i[a]=T8(o[a]);var s=e.initial,u=e.animate,c=u6(e),l=c6(e);t&&l&&!c&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===u&&(u=t.animate));var f=!!n&&!1===n.initial,h=(f=f||!1===s)?u:s;h&&"boolean"!==typeof h&&!a6(h)&&(Array.isArray(h)?h:[h]).forEach((function(t){var n=x8(e,t);if(n){var r=n.transitionEnd,o=(n.transition,_(n,C8));for(var a in o){var s=o[a];if(Array.isArray(s))s=s[f?s.length-1:0];null!==s&&(i[a]=s)}for(var u in r)i[u]=r[u]}}));return i}var A8,N8={useVisualState:I8({scrapeMotionValuesFromProps:k8,createRenderState:p8,onMount:function(e,t,n){var r=n.renderState,i=n.latestValues;try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(Gn){r.dimensions={x:0,y:0,width:0,height:0}}d8(r,i,{enableHardwareAcceleration:!1},e.transformTemplate),_8(t,r)}})},R8={useVisualState:I8({scrapeMotionValuesFromProps:w8,createRenderState:e8})};function O8(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n)}}function M8(e,n,r,i){(0,t.useEffect)((function(){var t=e.current;if(r&&t)return O8(t,n,r,i)}),[e,n,r,i])}function D8(e){return"undefined"!==typeof PointerEvent&&e instanceof PointerEvent?!("mouse"!==e.pointerType):e instanceof MouseEvent}function L8(e){return!!e.touches}function F8(e){return function(t){var n=t instanceof MouseEvent;(!n||n&&0===t.button)&&e(t)}}!function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.InView="whileInView",e.Exit="exit"}(A8||(A8={}));var j8={pageX:0,pageY:0};function z8(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page",n=e.touches[0]||e.changedTouches[0],r=n||j8;return{x:r[t+"X"],y:r[t+"Y"]}}function B8(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{x:e[t+"X"],y:e[t+"Y"]}}function V8(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:L8(e)?z8(e,t):B8(e,t)}}var U8=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(t){return e(t,V8(t))};return t?F8(n):n},H8={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},q8={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function W8(e){return e6&&null===window.onpointerdown?e:e6&&null===window.ontouchstart?q8[e]:e6&&null===window.onmousedown?H8[e]:e}function K8(e,t,n,r){return O8(e,W8(t),U8(n,"pointerdown"===t),r)}function G8(e,t,n,r){return M8(e,W8(t),n&&U8(n,"pointerdown"===t),r)}function Z8(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var Y8=Z8("dragHorizontal"),Q8=Z8("dragVertical");function $8(e){var t=!1;if("y"===e)t=Q8();else if("x"===e)t=Y8();else{var n=Y8(),r=Q8();n&&r?t=function(){n(),r()}:(n&&n(),r&&r())}return t}function X8(){var e=$8(!0);return!e||(e(),!1)}function J8(e,t,n){return function(r,i){D8(r)&&!X8()&&(e.animationState&&e.animationState.setActive(A8.Hover,t),n&&n(r,i))}}var e9=function e(t,n){return!!n&&(t===n||e(t,n.parentElement))};function t9(e){return(0,t.useEffect)((function(){return function(){return e()}}),[])}var n9=function(e,t){return function(n){return t(e(n))}},r9=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(n9)};new Set;var i9=["root"],o9=new WeakMap,a9=new WeakMap,s9=function(e){var t=o9.get(e.target);t&&t(e)},u9=function(e){e.forEach(s9)};function c9(e,t,n){var r=function(e){var t=e.root,n=_(e,i9),r=t||document;a9.has(r)||a9.set(r,{});var i=a9.get(r),o=JSON.stringify(n);return i[o]||(i[o]=new IntersectionObserver(u9,x({root:t},n))),i[o]}(t);return o9.set(e,n),r.observe(e),function(){o9.delete(e),r.unobserve(e)}}var l9={some:0,all:1};function f9(e,n,r,i){var o=i.root,a=i.margin,s=i.amount,u=void 0===s?"some":s,c=i.once;(0,t.useEffect)((function(){if(e&&r.current){var t={root:null===o||void 0===o?void 0:o.current,rootMargin:a,threshold:"number"===typeof u?u:l9[u]};return c9(r.current,t,(function(e){var t=e.isIntersecting;if(n.isInView!==t&&(n.isInView=t,!c||t||!n.hasEnteredView)){t&&(n.hasEnteredView=!0),r.animationState&&r.animationState.setActive(A8.InView,t);var i=r.getProps(),o=t?i.onViewportEnter:i.onViewportLeave;o&&o(e)}}))}}),[e,o,a,u])}function h9(e,n,r,i){var o=i.fallback,a=void 0===o||o;(0,t.useEffect)((function(){e&&a&&requestAnimationFrame((function(){n.hasEnteredView=!0;var e=r.getProps().onViewportEnter;e&&e(null),r.animationState&&r.animationState.setActive(A8.InView,!0)}))}),[e])}var d9=function(e){return function(t){return e(t),null}},p9={inView:d9((function(e){var n=e.visualElement,r=e.whileInView,i=e.onViewportEnter,o=e.onViewportLeave,a=e.viewport,s=void 0===a?{}:a,u=(0,t.useRef)({hasEnteredView:!1,isInView:!1}),c=Boolean(r||i||o);s.once&&u.current.hasEnteredView&&(c=!1),("undefined"===typeof IntersectionObserver?h9:f9)(c,u.current,n,s)})),tap:d9((function(e){var n=e.onTap,r=e.onTapStart,i=e.onTapCancel,o=e.whileTap,a=e.visualElement,s=n||r||i||o,u=(0,t.useRef)(!1),c=(0,t.useRef)(null),l={passive:!(r||n||i||v)};function f(){c.current&&c.current(),c.current=null}function h(){return f(),u.current=!1,a.animationState&&a.animationState.setActive(A8.Tap,!1),!X8()}function d(e,t){h()&&(e9(a.current,e.target)?n&&n(e,t):i&&i(e,t))}function p(e,t){h()&&i&&i(e,t)}function v(e,t){f(),u.current||(u.current=!0,c.current=r9(K8(window,"pointerup",d,l),K8(window,"pointercancel",p,l)),a.animationState&&a.animationState.setActive(A8.Tap,!0),r&&r(e,t))}G8(a,"pointerdown",s?v:void 0,l),t9(f)})),focus:d9((function(e){var t=e.whileFocus,n=e.visualElement,r=n.animationState;M8(n,"focus",t?function(){r&&r.setActive(A8.Focus,!0)}:void 0),M8(n,"blur",t?function(){r&&r.setActive(A8.Focus,!1)}:void 0)})),hover:d9((function(e){var t=e.onHoverStart,n=e.onHoverEnd,r=e.whileHover,i=e.visualElement;G8(i,"pointerenter",t||r?J8(i,!0,t):void 0,{passive:!t}),G8(i,"pointerleave",n||r?J8(i,!1,n):void 0,{passive:!n})}))};function v9(){var e=(0,t.useContext)(J5);if(null===e)return[!0,null];var n=e.isPresent,r=e.onExitComplete,i=e.register,o=(0,t.useId)();(0,t.useEffect)((function(){return i(o)}),[]);return!n&&r?[!1,function(){return r&&r(o)}]:[!0]}function m9(e,t){if(!Array.isArray(t))return!1;var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var g9=function(e,t,n){return Math.min(Math.max(n,e),t)},y9=.001;function b9(e){var t,n,r=e.duration,i=void 0===r?800:r,o=e.bounce,a=void 0===o?.25:o,s=e.velocity,u=void 0===s?0:s,c=e.mass,l=void 0===c?1:c,f=1-a;f=g9(.05,1,f),i=g9(.01,10,i/1e3),f<1?(t=function(e){var t=e*f,n=t*i,r=t-u,o=_9(e,f),a=Math.exp(-n);return y9-r/o*a},n=function(e){var n=e*f*i,r=n*u+u,o=Math.pow(f,2)*Math.pow(e,2)*i,a=Math.exp(-n),s=_9(Math.pow(e,2),f);return(-t(e)+y9>0?-1:1)*((r-o)*a)/s}):(t=function(e){return Math.exp(-e*i)*((e-u)*i+1)-.001},n=function(e){return Math.exp(-e*i)*(i*i*(u-e))});var h=function(e,t,n){for(var r=n,i=1;i<12;i++)r-=e(r)/t(r);return r}(t,n,5/i);if(i*=1e3,isNaN(h))return{stiffness:100,damping:10,duration:i};var d=Math.pow(h,2)*l;return{stiffness:d,damping:2*f*Math.sqrt(l*d),duration:i}}function _9(e,t){return e*Math.sqrt(1-t*t)}var w9=["duration","bounce"],k9=["stiffness","damping","mass"];function x9(e,t){return t.some((function(t){return void 0!==e[t]}))}function E9(e){var t=e.from,n=void 0===t?0:t,r=e.to,i=void 0===r?1:r,o=e.restSpeed,a=void 0===o?2:o,s=e.restDelta,u=pv(e,["from","to","restSpeed","restDelta"]),c={done:!1,value:n},l=function(e){var t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!x9(e,k9)&&x9(e,w9)){var n=b9(e);(t=Object.assign(Object.assign(Object.assign({},t),n),{velocity:0,mass:1})).isResolvedFromDuration=!0}return t}(u),f=l.stiffness,h=l.damping,d=l.mass,p=l.velocity,v=l.duration,m=l.isResolvedFromDuration,g=S9,y=S9;function b(){var e=p?-p/1e3:0,t=i-n,r=h/(2*Math.sqrt(f*d)),o=Math.sqrt(f/d)/1e3;if(void 0===s&&(s=Math.min(Math.abs(i-n)/100,.4)),r<1){var a=_9(o,r);g=function(n){var s=Math.exp(-r*o*n);return i-s*((e+r*o*t)/a*Math.sin(a*n)+t*Math.cos(a*n))},y=function(n){var i=Math.exp(-r*o*n);return r*o*i*(Math.sin(a*n)*(e+r*o*t)/a+t*Math.cos(a*n))-i*(Math.cos(a*n)*(e+r*o*t)-a*t*Math.sin(a*n))}}else if(1===r)g=function(n){return i-Math.exp(-o*n)*(t+(e+o*t)*n)};else{var u=o*Math.sqrt(r*r-1);g=function(n){var a=Math.exp(-r*o*n),s=Math.min(u*n,300);return i-a*((e+r*o*t)*Math.sinh(s)+u*t*Math.cosh(s))/u}}}return b(),{next:function(e){var t=g(e);if(m)c.done=e>=v;else{var n=1e3*y(e),r=Math.abs(n)<=a,o=Math.abs(i-t)<=s;c.done=r&&o}return c.value=c.done?i:t,c},flipTarget:function(){p=-p;var e=[i,n];n=e[0],i=e[1],b()}}}E9.needsInterpolation=function(e,t){return"string"===typeof e||"string"===typeof t};var S9=function(e){return 0},T9=function(e,t,n){var r=t-e;return 0===r?1:(n-e)/r},C9=function(e,t,n){return-n*e+n*t+e},I9=function(e,t){return function(n){return Boolean(B6(n)&&z6.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t))}},P9=function(e,t,n){return function(r){var i;if(!B6(r))return r;var o=c(r.match(F6),4),a=o[0],s=o[1],u=o[2],l=o[3];return w(i={},e,parseFloat(a)),w(i,t,parseFloat(s)),w(i,n,parseFloat(u)),w(i,"alpha",void 0!==l?parseFloat(l):1),i}},A9=D6(0,255),N9=Object.assign(Object.assign({},Z6),{transform:function(e){return Math.round(A9(e))}}),R9={test:I9("rgb","red"),parse:P9("red","green","blue"),transform:function(e){var t=e.red,n=e.green,r=e.blue,i=e.alpha,o=void 0===i?1:i;return"rgba("+N9.transform(t)+", "+N9.transform(n)+", "+N9.transform(r)+", "+L6(Y6.transform(o))+")"}};var O9={test:I9("#"),parse:function(e){var t="",n="",r="",i="";return e.length>5?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2),i=e.substr(7,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),i=e.substr(4,1),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:R9.transform},M9={test:I9("hsl","hue"),parse:P9("hue","saturation","lightness"),transform:function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha,o=void 0===i?1:i;return"hsla("+Math.round(t)+", "+H6.transform(L6(n))+", "+H6.transform(L6(r))+", "+L6(Y6.transform(o))+")"}};function D9(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function L9(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha;t/=360,r/=100;var o=0,a=0,s=0;if(n/=100){var u=r<.5?r*(1+n):r+n-r*n,c=2*r-u;o=D9(c,u,t+1/3),a=D9(c,u,t),s=D9(c,u,t-1/3)}else o=a=s=r;return{red:Math.round(255*o),green:Math.round(255*a),blue:Math.round(255*s),alpha:i}}var F9=function(e,t,n){var r=e*e,i=t*t;return Math.sqrt(Math.max(0,n*(i-r)+r))},j9=[O9,R9,M9],z9=function(e){return j9.find((function(t){return t.test(e)}))},B9=function(e){return"'".concat(e,"' is not an animatable color. Use the equivalent color code instead.")},V9=function(e,t){var n=z9(e),r=z9(t);B9(e),B9(t);var i=n.parse(e),o=r.parse(t);n===M9&&(i=L9(i),n=R9),r===M9&&(o=L9(o),r=R9);var a=Object.assign({},i);return function(e){for(var t in a)"alpha"!==t&&(a[t]=F9(i[t],o[t],e));return a.alpha=C9(i.alpha,o.alpha,e),n.transform(a)}},U9={test:function(e){return R9.test(e)||O9.test(e)||M9.test(e)},parse:function(e){return R9.test(e)?R9.parse(e):M9.test(e)?M9.parse(e):O9.parse(e)},transform:function(e){return B6(e)?e:e.hasOwnProperty("red")?R9.transform(e):M9.transform(e)}},H9="${c}",q9="${n}";function W9(e){"number"===typeof e&&(e="".concat(e));var t=[],n=0,r=e.match(j6);r&&(n=r.length,e=e.replace(j6,H9),t.push.apply(t,S(r.map(U9.parse))));var i=e.match(F6);return i&&(e=e.replace(F6,q9),t.push.apply(t,S(i.map(Z6.parse)))),{values:t,numColors:n,tokenised:e}}function K9(e){return W9(e).values}function G9(e){var t=W9(e),n=t.values,r=t.numColors,i=t.tokenised,o=n.length;return function(e){for(var t=i,n=0;n<o;n++)t=t.replace(n<r?H9:q9,n<r?U9.transform(e[n]):L6(e[n]));return t}}var Z9=function(e){return"number"===typeof e?0:e};var Y9={test:function(e){var t,n,r,i;return isNaN(e)&&B6(e)&&(null!==(n=null===(t=e.match(F6))||void 0===t?void 0:t.length)&&void 0!==n?n:0)+(null!==(i=null===(r=e.match(j6))||void 0===r?void 0:r.length)&&void 0!==i?i:0)>0},parse:K9,createTransformer:G9,getAnimatableNone:function(e){var t=K9(e);return G9(e)(t.map(Z9))}},Q9=function(e){return"number"===typeof e};function $9(e,t){return Q9(e)?function(n){return C9(e,t,n)}:U9.test(e)?V9(e,t):t7(e,t)}var X9=function(e,t){var n=S(e),r=n.length,i=e.map((function(e,n){return $9(e,t[n])}));return function(e){for(var t=0;t<r;t++)n[t]=i[t](e);return n}},J9=function(e,t){var n=Object.assign(Object.assign({},e),t),r={};for(var i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=$9(e[i],t[i]));return function(e){for(var t in r)n[t]=r[t](e);return n}};function e7(e){for(var t=Y9.parse(e),n=t.length,r=0,i=0,o=0,a=0;a<n;a++)r||"number"===typeof t[a]?r++:void 0!==t[a].hue?o++:i++;return{parsed:t,numNumbers:r,numRGB:i,numHSL:o}}var t7=function(e,t){var n=Y9.createTransformer(t),r=e7(e),i=e7(t);return r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers?r9(X9(r.parsed,i.parsed),n):("Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),function(n){return"".concat(n>0?t:e)})},n7=function(e,t){return function(n){return C9(e,t,n)}};function r7(e,t,n){for(var r=[],i=n||function(e){return"number"===typeof e?n7:"string"===typeof e?U9.test(e)?V9:t7:Array.isArray(e)?X9:"object"===typeof e?J9:void 0}(e[0]),o=e.length-1,a=0;a<o;a++){var s=i(e[a],e[a+1]);if(t){var u=Array.isArray(t)?t[a]:t;s=r9(u,s)}r.push(s)}return r}function i7(e,t){var n=c(e,2),r=n[0],i=n[1],o=c(t,1)[0];return function(e){return o(T9(r,i,e))}}function o7(e,t){var n=e.length,r=n-1;return function(i){var o=0,a=!1;if(i<=e[0]?a=!0:i>=e[r]&&(o=r-1,a=!0),!a){for(var s=1;s<n&&!(e[s]>i||s===r);s++);o=s-1}var u=T9(e[o],e[o+1],i);return t[o](u)}}function a7(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.clamp,i=void 0===r||r,o=n.ease,a=n.mixer,s=e.length;t.length,!o||!Array.isArray(o)||o.length,e[0]>e[s-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());var u=r7(t,o,a),c=2===s?i7(e,u):o7(e,u);return i?function(t){return c(g9(e[0],e[s-1],t))}:c}var s7,u7=function(e){return function(t){return 1-e(1-t)}},c7=function(e){return function(t){return t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2}},l7=function(e){return function(t){return t*t*((e+1)*t-e)}},f7=function(e){return e},h7=(s7=2,function(e){return Math.pow(e,s7)}),d7=u7(h7),p7=c7(h7),v7=function(e){return 1-Math.sin(Math.acos(e))},m7=u7(v7),g7=c7(m7),y7=l7(1.525),b7=u7(y7),_7=c7(y7),w7=function(e){var t=l7(e);return function(e){return(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))}}(1.525),k7=function(e){if(1===e||0===e)return e;var t=e*e;return e<.36363636363636365?7.5625*t:e<.7272727272727273?9.075*t-9.9*e+3.4:e<.9?12.066481994459833*t-19.63545706371191*e+8.898060941828255:10.8*e*e-20.52*e+10.72},x7=u7(k7);function E7(e,t){return e.map((function(){return t||p7})).splice(0,e.length-1)}function S7(e){var t=e.from,n=void 0===t?0:t,r=e.to,i=void 0===r?1:r,o=e.ease,a=e.offset,s=e.duration,u=void 0===s?300:s,c={done:!1,value:n},l=Array.isArray(i)?i:[n,i],f=function(e,t){return e.map((function(e){return e*t}))}(a&&a.length===l.length?a:function(e){var t=e.length;return e.map((function(e,n){return 0!==n?n/(t-1):0}))}(l),u);function h(){return a7(f,l,{ease:Array.isArray(o)?o:E7(l,o)})}var d=h();return{next:function(e){return c.value=d(e),c.done=e>=u,c},flipTarget:function(){l.reverse(),d=h()}}}var T7={keyframes:S7,spring:E9,decay:function(e){var t=e.velocity,n=void 0===t?0:t,r=e.from,i=void 0===r?0:r,o=e.power,a=void 0===o?.8:o,s=e.timeConstant,u=void 0===s?350:s,c=e.restDelta,l=void 0===c?.5:c,f=e.modifyTarget,h={done:!1,value:i},d=a*n,p=i+d,v=void 0===f?p:f(p);return v!==p&&(d=v-i),{next:function(e){var t=-d*Math.exp(-e/u);return h.done=!(t>l||t<-l),h.value=h.done?v:v+t,h},flipTarget:function(){}}}};var C7=1/60*1e3,I7="undefined"!==typeof performance?function(){return performance.now()}:function(){return Date.now()},P7="undefined"!==typeof window?function(e){return window.requestAnimationFrame(e)}:function(e){return setTimeout((function(){return e(I7())}),C7)};var A7=!0,N7=!1,R7=!1,O7={delta:0,timestamp:0},M7=["read","update","preRender","render","postRender"],D7=M7.reduce((function(e,t){return e[t]=function(e){var t=[],n=[],r=0,i=!1,o=!1,a=new WeakSet,s={schedule:function(e){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,s=o?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&a.add(e),-1===s.indexOf(e)&&(s.push(e),o&&i&&(r=t.length)),e},cancel:function(e){var t=n.indexOf(e);-1!==t&&n.splice(t,1),a.delete(e)},process:function(u){if(i)o=!0;else{i=!0;var c=[n,t];if(t=c[0],(n=c[1]).length=0,r=t.length)for(var l=0;l<r;l++){var f=t[l];f(u),a.has(f)&&(s.schedule(f),e())}i=!1,o&&(o=!1,s.process(u))}}};return s}((function(){return N7=!0})),e}),{}),L7=M7.reduce((function(e,t){var n=D7[t];return e[t]=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return N7||V7(),n.schedule(e,t,r)},e}),{}),F7=M7.reduce((function(e,t){return e[t]=D7[t].cancel,e}),{}),j7=M7.reduce((function(e,t){return e[t]=function(){return D7[t].process(O7)},e}),{}),z7=function(e){return D7[e].process(O7)},B7=function e(t){N7=!1,O7.delta=A7?C7:Math.max(Math.min(t-O7.timestamp,40),1),O7.timestamp=t,R7=!0,M7.forEach(z7),R7=!1,N7&&(A7=!1,P7(e))},V7=function(){N7=!0,A7=!0,R7||P7(B7)},U7=function(){return O7},H7=L7;function q7(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e-t-n}var W7=function(e){var t=function(t){var n=t.delta;return e(n)};return{start:function(){return H7.update(t,!0)},stop:function(){return F7.update(t)}}};function K7(e){var t,n,r,i,o,a=e.from,s=e.autoplay,u=void 0===s||s,c=e.driver,l=void 0===c?W7:c,f=e.elapsed,h=void 0===f?0:f,d=e.repeat,p=void 0===d?0:d,v=e.repeatType,m=void 0===v?"loop":v,g=e.repeatDelay,y=void 0===g?0:g,b=e.onPlay,_=e.onStop,w=e.onComplete,k=e.onRepeat,x=e.onUpdate,E=pv(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]),S=E.to,T=0,C=E.duration,I=!1,P=!0,A=function(e){if(Array.isArray(e.to))return S7;if(T7[e.type])return T7[e.type];var t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?S7:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?E9:S7}(E);(null===(n=(t=A).needsInterpolation)||void 0===n?void 0:n.call(t,a,S))&&(o=a7([0,100],[a,S],{clamp:!1}),a=0,S=100);var N=A(Object.assign(Object.assign({},E),{from:a,to:S}));function R(){T++,"reverse"===m?h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?t-(e-t)+n:q7(t+-e,t,n)}(h,C,y,P=T%2===0):(h=q7(h,C,y),"mirror"===m&&N.flipTarget()),I=!1,k&&k()}function O(e){if(P||(e=-e),h+=e,!I){var t=N.next(Math.max(0,h));i=t.value,o&&(i=o(i)),I=P?t.done:h<=0}null===x||void 0===x||x(i),I&&(0===T&&(null!==C&&void 0!==C||(C=h)),T<p?function(e,t,n,r){return r?e>=t+n:e<=-n}(h,C,y,P)&&R():(r.stop(),w&&w()))}return u&&(null===b||void 0===b||b(),(r=l(O)).start()),{stop:function(){null===_||void 0===_||_(),r.stop()}}}function G7(e,t){return t?e*(1e3/t):0}var Z7=function(e){return 1e3*e},Y7=function(e,t){return 1-3*t+3*e},Q7=function(e,t){return 3*t-6*e},$7=function(e){return 3*e},X7=function(e,t,n){return((Y7(t,n)*e+Q7(t,n))*e+$7(t))*e},J7=function(e,t,n){return 3*Y7(t,n)*e*e+2*Q7(t,n)*e+$7(t)};var eee=.1;function tee(e,t,n,r){if(e===t&&n===r)return f7;for(var i=new Float32Array(11),o=0;o<11;++o)i[o]=X7(o*eee,e,n);function a(t){for(var r=0,o=1;10!==o&&i[o]<=t;++o)r+=eee;--o;var a=r+(t-i[o])/(i[o+1]-i[o])*eee,s=J7(a,e,n);return s>=.001?function(e,t,n,r){for(var i=0;i<8;++i){var o=J7(t,n,r);if(0===o)return t;t-=(X7(t,n,r)-e)/o}return t}(t,a,e,n):0===s?a:function(e,t,n,r,i){var o,a,s=0;do{(o=X7(a=t+(n-t)/2,r,i)-e)>0?n=a:t=a}while(Math.abs(o)>1e-7&&++s<10);return a}(t,r,r+eee,e,n)}return function(e){return 0===e||1===e?e:X7(a(e),t,r)}}var nee={linear:f7,easeIn:h7,easeInOut:p7,easeOut:d7,circIn:v7,circInOut:g7,circOut:m7,backIn:y7,backInOut:_7,backOut:b7,anticipate:w7,bounceIn:x7,bounceInOut:function(e){return e<.5?.5*(1-k7(1-2*e)):.5*k7(2*e-1)+.5},bounceOut:k7},ree=function(e){if(Array.isArray(e)){e.length;var t=c(e,4);return tee(t[0],t[1],t[2],t[3])}return"string"===typeof e?("Invalid easing type '".concat(e,"'"),nee[e]):e},iee=function(e,t){return"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!Y9.test(t)||t.startsWith("url(")))},oee=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},aee=function(e){return{type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}},see=function(){return{type:"keyframes",ease:"linear",duration:.3}},uee=function(e){return{type:"keyframes",duration:.8,values:e}},cee={x:oee,y:oee,z:oee,rotate:oee,rotateX:oee,rotateY:oee,rotateZ:oee,scaleX:aee,scaleY:aee,scale:aee,opacity:see,backgroundColor:see,color:see,default:aee},lee=new Set(["brightness","contrast","saturate","opacity"]);function fee(e){var t=c(e.slice(0,-1).split("("),2),n=t[0],r=t[1];if("drop-shadow"===n)return e;var i=c(r.match(F6)||[],1)[0];if(!i)return e;var o=r.replace(i,""),a=lee.has(n)?1:0;return i!==r&&(a*=100),n+"("+a+o+")"}var hee=/([a-z-]*)\(.*?\)/g,dee=Object.assign(Object.assign({},Y9),{getAnimatableNone:function(e){var t=e.match(hee);return t?t.map(fee).join(" "):e}}),pee=x(x({},X6),{},{color:U9,backgroundColor:U9,outlineColor:U9,fill:U9,stroke:U9,borderColor:U9,borderTopColor:U9,borderRightColor:U9,borderBottomColor:U9,borderLeftColor:U9,filter:dee,WebkitFilter:dee}),vee=function(e){return pee[e]};function mee(e,t){var n,r=vee(e);return r!==dee&&(r=Y9),null===(n=r.getAnimatableNone)||void 0===n?void 0:n.call(r,t)}var gee=!1;function yee(e,t){var n=performance.now(),r=function r(i){var o=i.timestamp-n;o>=t&&(F7.read(r),e(o-t))};return H7.read(r,!0),function(){return F7.read(r)}}var bee=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"],_ee=["ease","times","yoyo","flip","loop"];function wee(e){var t=e.ease,n=e.times,r=e.yoyo,i=e.flip,o=e.loop,a=_(e,_ee),s=x({},a);return n&&(s.offset=n),a.duration&&(s.duration=Z7(a.duration)),a.repeatDelay&&(s.repeatDelay=Z7(a.repeatDelay)),t&&(s.ease=function(e){return Array.isArray(e)&&"number"!==typeof e[0]}(t)?t.map(ree):ree(t)),"tween"===a.type&&(s.type="keyframes"),(r||o||i)&&(!0,r?s.repeatType="reverse":o?s.repeatType="loop":i&&(s.repeatType="mirror"),s.repeat=o||r||i||a.repeat),"spring"!==a.type&&(s.type="keyframes"),s}function kee(e,t){var n,r;return null!==(r=null!==(n=(Cee(e,t)||{}).delay)&&void 0!==n?n:e.delay)&&void 0!==r?r:0}function xee(e,t,n){return Array.isArray(t.to)&&void 0===e.duration&&(e.duration=.8),function(e){Array.isArray(e.to)&&null===e.to[0]&&(e.to=S(e.to),e.to[0]=e.from)}(t),function(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from;var t=_(e,bee);return!!Object.keys(t).length}(e)||(e=x(x({},e),function(e,t){return x({to:t},(E8(t)?uee:cee[e]||cee.default)(t))}(n,t.to))),x(x({},t),wee(e))}function Eee(e,t,n,r,i){var o=Cee(r,e)||{},a=void 0!==o.from?o.from:t.get(),s=iee(e,n);"none"===a&&s&&"string"===typeof n?a=mee(e,n):See(a)&&"string"===typeof n?a=Tee(n):!Array.isArray(n)&&See(n)&&"string"===typeof a&&(n=Tee(a));var u=iee(e,a);return"You are trying to animate ".concat(e,' from "').concat(a,'" to "').concat(n,'". ').concat(a," is not an animatable value - to enable this animation set ").concat(a," to a value animatable to ").concat(n," via the `style` property."),u&&s&&!1!==o.type?function(){var r={from:a,to:n,velocity:t.getVelocity(),onComplete:i,onUpdate:function(e){return t.set(e)}};return"inertia"===o.type||"decay"===o.type?function(e){var t,n=e.from,r=void 0===n?0:n,i=e.velocity,o=void 0===i?0:i,a=e.min,s=e.max,u=e.power,c=void 0===u?.8:u,l=e.timeConstant,f=void 0===l?750:l,h=e.bounceStiffness,d=void 0===h?500:h,p=e.bounceDamping,v=void 0===p?10:p,m=e.restDelta,g=void 0===m?1:m,y=e.modifyTarget,b=e.driver,_=e.onUpdate,w=e.onComplete,k=e.onStop;function x(e){return void 0!==a&&e<a||void 0!==s&&e>s}function E(e){return void 0===a?s:void 0===s||Math.abs(a-e)<Math.abs(s-e)?a:s}function S(e){null===t||void 0===t||t.stop(),t=K7(Object.assign(Object.assign({},e),{driver:b,onUpdate:function(t){var n;null===_||void 0===_||_(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:w,onStop:k}))}function T(e){S(Object.assign({type:"spring",stiffness:d,damping:v,restDelta:g},e))}if(x(r))T({from:r,velocity:o,to:E(r)});else{var C=c*o+r;"undefined"!==typeof y&&(C=y(C));var I,P,A=E(C),N=A===a?-1:1;S({type:"decay",from:r,velocity:o,timeConstant:f,power:c,restDelta:g,modifyTarget:y,onUpdate:x(C)?function(e){I=P,P=e,o=G7(e-I,U7().delta),(1===N&&e>A||-1===N&&e<A)&&T({from:e,to:A,velocity:o})}:void 0})}return{stop:function(){return null===t||void 0===t?void 0:t.stop()}}}(x(x({},r),o)):K7(x(x({},xee(o,r,e)),{},{onUpdate:function(e){r.onUpdate(e),o.onUpdate&&o.onUpdate(e)},onComplete:function(){r.onComplete(),o.onComplete&&o.onComplete()}}))}:function(){var e=S8(n);return t.set(e),i(),o.onUpdate&&o.onUpdate(e),o.onComplete&&o.onComplete(),{stop:function(){}}}}function See(e){return 0===e||"string"===typeof e&&0===parseFloat(e)&&-1===e.indexOf(" ")}function Tee(e){return"number"===typeof e?0:mee("",e)}function Cee(e,t){return e[t]||e.default||e}function Iee(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return gee&&(r={type:!1}),t.start((function(i){var o,a,s=Eee(e,t,n,r,i),u=kee(r,e),c=function(){return o=s()};return u?a=yee(c,Z7(u)):c(),function(){a&&a(),o&&o.stop()}}))}var Pee=function(e){return/^\-?\d*\.?\d+$/.test(e)},Aee=function(e){return/^0[^.\s]+$/.test(e)};function Nee(e,t){-1===e.indexOf(t)&&e.push(t)}function Ree(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Oee=function(){function e(){T(this,e),this.subscriptions=[]}return I(e,[{key:"add",value:function(e){var t=this;return Nee(this.subscriptions,e),function(){return Ree(t.subscriptions,e)}}},{key:"notify",value:function(e,t,n){var r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(var i=0;i<r;i++){var o=this.subscriptions[i];o&&o(e,t,n)}}},{key:"getSize",value:function(){return this.subscriptions.length}},{key:"clear",value:function(){this.subscriptions.length=0}}]),e}(),Mee=function(){function e(t){var n,r=this;T(this,e),this.version="7.6.17",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new Oee,this.velocityUpdateSubscribers=new Oee,this.renderSubscribers=new Oee,this.canTrackVelocity=!1,this.updateAndNotify=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r.prev=r.current,r.current=e;var n=U7(),i=n.delta,o=n.timestamp;r.lastUpdated!==o&&(r.timeDelta=i,r.lastUpdated=o,H7.postRender(r.scheduleVelocityCheck)),r.prev!==r.current&&r.updateSubscribers.notify(r.current),r.velocityUpdateSubscribers.getSize()&&r.velocityUpdateSubscribers.notify(r.getVelocity()),t&&r.renderSubscribers.notify(r.current)},this.scheduleVelocityCheck=function(){return H7.postRender(r.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==r.lastUpdated&&(r.prev=r.current,r.velocityUpdateSubscribers.notify(r.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=(n=this.current,!isNaN(parseFloat(n)))}return I(e,[{key:"onChange",value:function(e){return this.updateSubscribers.add(e)}},{key:"clearListeners",value:function(){this.updateSubscribers.clear()}},{key:"onRenderRequest",value:function(e){return e(this.get()),this.renderSubscribers.add(e)}},{key:"attach",value:function(e){this.passiveEffect=e}},{key:"set",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}},{key:"get",value:function(){return this.current}},{key:"getPrevious",value:function(){return this.prev}},{key:"getVelocity",value:function(){return this.canTrackVelocity?G7(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}},{key:"start",value:function(e){var t=this;return this.stop(),new Promise((function(n){t.hasAnimated=!0,t.stopAnimation=e(n)})).then((function(){return t.clearAnimation()}))}},{key:"stop",value:function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}},{key:"isAnimating",value:function(){return!!this.stopAnimation}},{key:"clearAnimation",value:function(){this.stopAnimation=null}},{key:"destroy",value:function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()}}]),e}();function Dee(e){return new Mee(e)}var Lee=function(e){return function(t){return t.test(e)}},Fee=[Z6,q6,H6,U6,K6,W6,{test:function(e){return"auto"===e},parse:function(e){return e}}],jee=function(e){return Fee.find(Lee(e))},zee=[].concat(S(Fee),[U9,Y9]),Bee=function(e){return zee.find(Lee(e))};function Vee(e,t,n){var r=e.getProps();return x8(r,t,void 0!==n?n:r.custom,function(e){var t={};return e.values.forEach((function(e,n){return t[n]=e.get()})),t}(e),function(e){var t={};return e.values.forEach((function(e,n){return t[n]=e.getVelocity()})),t}(e))}var Uee=["transitionEnd","transition"];function Hee(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Dee(n))}function qee(e,t){var n=Vee(e,t),r=n?e.makeTargetAnimatable(n,!1):{},i=r.transitionEnd,o=void 0===i?{}:i,a=(r.transition,_(r,Uee));for(var s in a=x(x({},a),o)){Hee(e,s,S8(a[s]))}}function Wee(e,t){if(t)return(t[e]||t.default||t).from}function Kee(e){return Boolean(A6(e)&&e.add)}var Gee=["transition","transitionEnd"];function Zee(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Vee(e,t,r.custom),o=i||{},a=o.transition,s=void 0===a?e.getDefaultTransition()||{}:a;r.transitionOverride&&(s=r.transitionOverride);var u=i?function(){return Yee(e,i,r)}:function(){return Promise.resolve()},l=(null===(n=e.variantChildren)||void 0===n?void 0:n.size)?function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=s,o=i.delayChildren,a=void 0===o?0:o,u=i.staggerChildren,c=i.staggerDirection;return Qee(e,t,a+n,u,c,r)}:function(){return Promise.resolve()},f=s,h=f.when;if(h){var d="beforeChildren"===h?[u,l]:[l,u],p=c(d,2),v=p[0],m=p[1];return v().then(m)}return Promise.all([u(),l(r.delay)])}function Yee(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.delay,o=void 0===i?0:i,a=r.transitionOverride,s=r.type,u=e.makeTargetAnimatable(t),c=u.transition,l=void 0===c?e.getDefaultTransition():c,f=u.transitionEnd,h=_(u,Gee),d=e.getValue("willChange");a&&(l=a);var p=[],v=s&&(null===(n=e.animationState)||void 0===n?void 0:n.getState()[s]),m=function(t){var n=e.getValue(t),r=h[t];if(!n||void 0===r||v&&Xee(v,t))return"continue";var i=x({delay:o},l);e.shouldReduceMotion&&I6.has(t)&&(i=x(x({},i),{},{type:!1,delay:0}));var a=Iee(t,n,r,i);Kee(d)&&(d.add(t),a=a.then((function(){return d.remove(t)}))),p.push(a)};for(var g in h)m(g);return Promise.all(p).then((function(){f&&qee(e,f)}))}function Qee(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5?arguments[5]:void 0,a=[],s=(e.variantChildren.size-1)*r,u=1===i?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e*r}:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return s-e*r};return Array.from(e.variantChildren).sort($ee).forEach((function(e,r){a.push(Zee(e,t,x(x({},o),{},{delay:n+u(r)})).then((function(){return e.notify("AnimationComplete",t)})))})),Promise.all(a)}function $ee(e,t){return e.sortNodePosition(t)}function Xee(e,t){var n=e.protectedKeys,r=e.needsAnimating,i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}var Jee=["transition","transitionEnd"],ete=[A8.Animate,A8.InView,A8.Focus,A8.Hover,A8.Tap,A8.Drag,A8.Exit],tte=[].concat(ete).reverse(),nte=ete.length;function rte(e){return function(t){return Promise.all(t.map((function(t){var n=t.animation,r=t.options;return function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){var i=t.map((function(t){return Zee(e,t,r)}));n=Promise.all(i)}else if("string"===typeof t)n=Zee(e,t,r);else{var o="function"===typeof t?Vee(e,t,r.custom):t;n=Yee(e,o,r)}return n.then((function(){return e.notify("AnimationComplete",t)}))}(e,n,r)})))}}function ite(e){var t=rte(e),n=function(){var e;return w(e={},A8.Animate,ote(!0)),w(e,A8.InView,ote()),w(e,A8.Hover,ote()),w(e,A8.Tap,ote()),w(e,A8.Drag,ote()),w(e,A8.Focus,ote()),w(e,A8.Exit,ote()),e}(),r=!0,i=function(t,n){var r=Vee(e,n);if(r){r.transition;var i=r.transitionEnd,o=_(r,Jee);t=x(x(x({},t),o),i)}return t};function o(o,a){for(var s,u=e.getProps(),c=e.getVariantContext(!0)||{},l=[],f=new Set,h={},d=1/0,p=function(t){var p=tte[t],v=n[p],m=null!==(s=u[p])&&void 0!==s?s:c[p],g=o6(m),y=p===a?v.isActive:null;!1===y&&(d=t);var b=m===c[p]&&m!==u[p]&&g;if(b&&r&&e.manuallyAnimateOnMount&&(b=!1),v.protectedKeys=x({},h),!v.isActive&&null===y||!m&&!v.prevProp||a6(m)||"boolean"===typeof m)return"continue";var _=function(e,t){if("string"===typeof t)return t!==e;if(Array.isArray(t))return!m9(t,e);return!1}(v.prevProp,m),w=_||p===a&&v.isActive&&!b&&g||t>d&&g,k=Array.isArray(m)?m:[m],E=k.reduce(i,{});!1===y&&(E={});var T=v.prevResolvedValues,C=void 0===T?{}:T,I=x(x({},C),E),P=function(e){w=!0,f.delete(e),v.needsAnimating[e]=!0};for(var A in I){var N=E[A],R=C[A];h.hasOwnProperty(A)||(N!==R?E8(N)&&E8(R)?!m9(N,R)||_?P(A):v.protectedKeys[A]=!0:void 0!==N?P(A):f.add(A):void 0!==N&&f.has(A)?P(A):v.protectedKeys[A]=!0)}v.prevProp=m,v.prevResolvedValues=E,v.isActive&&(h=x(x({},h),E)),r&&e.blockInitialAnimation&&(w=!1),w&&!b&&l.push.apply(l,S(k.map((function(e){return{animation:e,options:x({type:p},o)}}))))},v=0;v<nte;v++)p(v);if(f.size){var m={};f.forEach((function(t){var n=e.getBaseTarget(t);void 0!==n&&(m[t]=n)})),l.push({animation:m})}var g=Boolean(l.length);return r&&!1===u.initial&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(l):Promise.resolve()}return{animateChanges:o,setActive:function(t,r,i){var a;if(n[t].isActive===r)return Promise.resolve();null===(a=e.variantChildren)||void 0===a||a.forEach((function(e){var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;var s=o(i,t);for(var u in n)n[u].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:function(){return n}}}function ote(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var ate={animation:d9((function(e){var n=e.visualElement,r=e.animate;n.animationState||(n.animationState=ite(n)),a6(r)&&(0,t.useEffect)((function(){return r.subscribe(n)}),[r])})),exit:d9((function(e){var n=e.custom,r=e.visualElement,i=c(v9(),2),o=i[0],a=i[1],s=(0,t.useContext)(J5);(0,t.useEffect)((function(){r.isPresent=o;var e=r.animationState&&r.animationState.setActive(A8.Exit,!o,{custom:s&&s.custom||n});e&&!o&&e.then(a)}),[o])}))},ste=function(e){return e.hasOwnProperty("x")&&e.hasOwnProperty("y")},ute=function(e){return ste(e)&&e.hasOwnProperty("z")},cte=function(e,t){return Math.abs(e-t)};function lte(e,t){if(Q9(e)&&Q9(t))return cte(e,t);if(ste(e)&&ste(t)){var n=cte(e.x,t.x),r=cte(e.y,t.y),i=ute(e)&&ute(t)?cte(e.z,t.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(i,2))}}var fte=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i.transformPagePoint;if(T(this,e),this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(r.lastMoveEvent&&r.lastMoveEventInfo){var e=pte(r.lastMoveEventInfo,r.history),t=null!==r.startEvent,n=lte(e.offset,{x:0,y:0})>=3;if(t||n){var i=e.point,o=U7().timestamp;r.history.push(x(x({},i),{},{timestamp:o}));var a=r.handlers,s=a.onStart,u=a.onMove;t||(s&&s(r.lastMoveEvent,e),r.startEvent=r.lastMoveEvent),u&&u(r.lastMoveEvent,e)}}},this.handlePointerMove=function(e,t){r.lastMoveEvent=e,r.lastMoveEventInfo=hte(t,r.transformPagePoint),D8(e)&&0===e.buttons?r.handlePointerUp(e,t):H7.update(r.updatePoint,!0)},this.handlePointerUp=function(e,t){r.end();var n=r.handlers,i=n.onEnd,o=n.onSessionEnd,a=pte(hte(t,r.transformPagePoint),r.history);r.startEvent&&i&&i(e,a),o&&o(e,a)},!(L8(t)&&t.touches.length>1)){this.handlers=n,this.transformPagePoint=o;var a=V8(t),s=hte(a,this.transformPagePoint),u=s.point,c=U7(),l=c.timestamp;this.history=[x(x({},u),{},{timestamp:l})];var f=n.onSessionStart;f&&f(t,pte(s,this.history)),this.removeListeners=r9(K8(window,"pointermove",this.handlePointerMove),K8(window,"pointerup",this.handlePointerUp),K8(window,"pointercancel",this.handlePointerUp))}}return I(e,[{key:"updateHandlers",value:function(e){this.handlers=e}},{key:"end",value:function(){this.removeListeners&&this.removeListeners(),F7.update(this.updatePoint)}}]),e}();function hte(e,t){return t?{point:t(e.point)}:e}function dte(e,t){return{x:e.x-t.x,y:e.y-t.y}}function pte(e,t){var n=e.point;return{point:n,delta:dte(n,mte(t)),offset:dte(n,vte(t)),velocity:gte(t,.1)}}function vte(e){return e[0]}function mte(e){return e[e.length-1]}function gte(e,t){if(e.length<2)return{x:0,y:0};for(var n=e.length-1,r=null,i=mte(e);n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Z7(t)));)n--;if(!r)return{x:0,y:0};var o=(i.timestamp-r.timestamp)/1e3;if(0===o)return{x:0,y:0};var a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function yte(e){return e.max-e.min}function bte(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}function _te(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=C9(t.min,t.max,e.origin),e.scale=yte(n)/yte(t),(bte(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=C9(n.min,n.max,e.origin)-e.originPoint,(bte(e.translate)||isNaN(e.translate))&&(e.translate=0)}function wte(e,t,n,r){_te(e.x,t.x,n.x,null===r||void 0===r?void 0:r.originX),_te(e.y,t.y,n.y,null===r||void 0===r?void 0:r.originY)}function kte(e,t,n){e.min=n.min+t.min,e.max=e.min+yte(t)}function xte(e,t,n){e.min=t.min-n.min,e.max=e.min+yte(t)}function Ete(e,t,n){xte(e.x,t.x,n.x),xte(e.y,t.y,n.y)}function Ste(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Tte(e,t){var n=t.min-e.min,r=t.max-e.max;if(t.max-t.min<e.max-e.min){var i=[r,n];n=i[0],r=i[1]}return{min:n,max:r}}var Cte=.35;function Ite(e,t,n){return{min:Pte(e,t),max:Pte(e,n)}}function Pte(e,t){var n;return"number"===typeof e?e:null!==(n=e[t])&&void 0!==n?n:0}function Ate(e){return[e("x"),e("y")]}function Nte(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}function Rte(e){return void 0===e||1===e}function Ote(e){var t=e.scale,n=e.scaleX,r=e.scaleY;return!Rte(t)||!Rte(n)||!Rte(r)}function Mte(e){return Ote(e)||Dte(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Dte(e){return Lte(e.x)||Lte(e.y)}function Lte(e){return e&&"0%"!==e}function Fte(e,t,n){return n+t*(e-n)}function jte(e,t,n,r,i){return void 0!==i&&(e=Fte(e,i,r)),Fte(e,n,r)+t}function zte(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=jte(e.min,t,n,r,i),e.max=jte(e.max,t,n,r,i)}function Bte(e,t){var n=t.x,r=t.y;zte(e.x,n.translate,n.scale,n.originPoint),zte(e.y,r.translate,r.scale,r.originPoint)}function Vte(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Ute(e,t){e.min=e.min+t,e.max=e.max+t}function Hte(e,t,n){var r=c(n,3),i=r[0],o=r[1],a=r[2],s=void 0!==t[a]?t[a]:.5,u=C9(e.min,e.max,s);zte(e,t[i],t[o],u,t.scale)}var qte=["x","scaleX","originX"],Wte=["y","scaleY","originY"];function Kte(e,t){Hte(e.x,t,qte),Hte(e.y,t,Wte)}function Gte(e,t){return Nte(function(e,t){if(!t)return e;var n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}var Zte=new WeakMap,Yte=function(){function e(t){T(this,e),this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=t}return I(e,[{key:"start",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.snapToCursor,i=void 0!==r&&r;if(!1!==this.visualElement.isPresent){var o=function(e){t.stopAnimation(),i&&t.snapToCursor(V8(e,"page").point)},a=function(e,n){var r,i=t.getProps(),o=i.drag,a=i.dragPropagation,s=i.onDragStart;(!o||a||(t.openGlobalLock&&t.openGlobalLock(),t.openGlobalLock=$8(o),t.openGlobalLock))&&(t.isDragging=!0,t.currentDirection=null,t.resolveConstraints(),t.visualElement.projection&&(t.visualElement.projection.isAnimationBlocked=!0,t.visualElement.projection.target=void 0),Ate((function(e){var n,r,i=t.getAxisMotionValue(e).get()||0;if(H6.test(i)){var o=null===(r=null===(n=t.visualElement.projection)||void 0===n?void 0:n.layout)||void 0===r?void 0:r.layoutBox[e];if(o)i=yte(o)*(parseFloat(i)/100)}t.originPoint[e]=i})),null===s||void 0===s||s(e,n),null===(r=t.visualElement.animationState)||void 0===r||r.setActive(A8.Drag,!0))},s=function(e,n){var r=t.getProps(),i=r.dragPropagation,o=r.dragDirectionLock,a=r.onDirectionLock,s=r.onDrag;if(i||t.openGlobalLock){var u=n.offset;if(o&&null===t.currentDirection)return t.currentDirection=$te(u),void(null!==t.currentDirection&&(null===a||void 0===a||a(t.currentDirection)));t.updateAxis("x",n.point,u),t.updateAxis("y",n.point,u),t.visualElement.render(),null===s||void 0===s||s(e,n)}},u=function(e,n){return t.stop(e,n)};this.panSession=new fte(e,{onSessionStart:o,onStart:a,onMove:s,onSessionEnd:u},{transformPagePoint:this.visualElement.getTransformPagePoint()})}}},{key:"stop",value:function(e,t){var n=this.isDragging;if(this.cancel(),n){var r=t.velocity;this.startAnimation(r);var i=this.getProps().onDragEnd;null===i||void 0===i||i(e,t)}}},{key:"cancel",value:function(){var e,t;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),null===(e=this.panSession)||void 0===e||e.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(t=this.visualElement.animationState)||void 0===t||t.setActive(A8.Drag,!1)}},{key:"updateAxis",value:function(e,t,n){var r=this.getProps().drag;if(n&&Qte(e,r,this.currentDirection)){var i=this.getAxisMotionValue(e),o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=function(e,t,n){var r=t.min,i=t.max;return void 0!==r&&e<r?e=n?C9(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?C9(i,e,n.max):Math.min(e,i)),e}(o,this.constraints[e],this.elastic[e])),i.set(o)}}},{key:"resolveConstraints",value:function(){var e=this,t=this.getProps(),n=t.dragConstraints,r=t.dragElastic,i=(this.visualElement.projection||{}).layout,o=this.constraints;n&&i6(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!n||!i)&&function(e,t){var n=t.top,r=t.left,i=t.bottom,o=t.right;return{x:Ste(e.x,r,o),y:Ste(e.y,n,i)}}(i.layoutBox,n),this.elastic=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cte;return!1===e?e=0:!0===e&&(e=Cte),{x:Ite(e,"left","right"),y:Ite(e,"top","bottom")}}(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ate((function(t){e.getAxisMotionValue(t)&&(e.constraints[t]=function(e,t){var n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(i.layoutBox[t],e.constraints[t]))}))}},{key:"resolveRefConstraints",value:function(){var e=this.getProps(),t=e.dragConstraints,n=e.onMeasureDragConstraints;if(!t||!i6(t))return!1;var r=t.current,i=this.visualElement.projection;if(!i||!i.layout)return!1;var o=function(e,t,n){var r=Gte(e,n),i=t.scroll;return i&&(Ute(r.x,i.offset.x),Ute(r.y,i.offset.y)),r}(r,i.root,this.visualElement.getTransformPagePoint()),a=function(e,t){return{x:Tte(e.x,t.x),y:Tte(e.y,t.y)}}(i.layout.layoutBox,o);if(n){var s=n(function(e){var t=e.x,n=e.y;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(a));this.hasMutatedConstraints=!!s,s&&(a=Nte(s))}return a}},{key:"startAnimation",value:function(e){var t=this,n=this.getProps(),r=n.drag,i=n.dragMomentum,o=n.dragElastic,a=n.dragTransition,s=n.dragSnapToOrigin,u=n.onDragTransitionEnd,c=this.constraints||{},l=Ate((function(n){var u;if(Qte(n,r,t.currentDirection)){var l=null!==(u=null===c||void 0===c?void 0:c[n])&&void 0!==u?u:{};s&&(l={min:0,max:0});var f=o?200:1e6,h=o?40:1e7,d=x(x({type:"inertia",velocity:i?e[n]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10},a),l);return t.startAxisValueAnimation(n,d)}}));return Promise.all(l).then(u)}},{key:"startAxisValueAnimation",value:function(e,t){return Iee(e,this.getAxisMotionValue(e),0,t)}},{key:"stopAnimation",value:function(){var e=this;Ate((function(t){return e.getAxisMotionValue(t).stop()}))}},{key:"getAxisMotionValue",value:function(e){var t,n,r="_drag"+e.toUpperCase(),i=this.visualElement.getProps()[r];return i||this.visualElement.getValue(e,null!==(n=null===(t=this.visualElement.getProps().initial)||void 0===t?void 0:t[e])&&void 0!==n?n:0)}},{key:"snapToCursor",value:function(e){var t=this;Ate((function(n){if(Qte(n,t.getProps().drag,t.currentDirection)){var r=t.visualElement.projection,i=t.getAxisMotionValue(n);if(r&&r.layout){var o=r.layout.layoutBox[n],a=o.min,s=o.max;i.set(e[n]-C9(a,s,.5))}}}))}},{key:"scalePositionWithinConstraints",value:function(){var e,t=this;if(this.visualElement.current){var n=this.getProps(),r=n.drag,i=n.dragConstraints,o=this.visualElement.projection;if(i6(i)&&o&&this.constraints){this.stopAnimation();var a={x:0,y:0};Ate((function(e){var n=t.getAxisMotionValue(e);if(n){var r=n.get();a[e]=function(e,t){var n=.5,r=yte(e),i=yte(t);return i>r?n=T9(t.min,t.max-r,e.min):r>i&&(n=T9(e.min,e.max-i,t.min)),g9(0,1,n)}({min:r,max:r},t.constraints[e])}}));var s=this.visualElement.getProps().transformTemplate;this.visualElement.current.style.transform=s?s({},""):"none",null===(e=o.root)||void 0===e||e.updateScroll(),o.updateLayout(),this.resolveConstraints(),Ate((function(e){if(Qte(e,r,null)){var n=t.getAxisMotionValue(e),i=t.constraints[e],o=i.min,s=i.max;n.set(C9(o,s,a[e]))}}))}}}},{key:"addListeners",value:function(){var e,t=this;if(this.visualElement.current){Zte.set(this.visualElement,this);var n=K8(this.visualElement.current,"pointerdown",(function(e){var n=t.getProps(),r=n.drag,i=n.dragListener;r&&(void 0===i||i)&&t.start(e)})),r=function(){i6(t.getProps().dragConstraints)&&(t.constraints=t.resolveRefConstraints())},i=this.visualElement.projection,o=i.addEventListener("measure",r);i&&!i.layout&&(null===(e=i.root)||void 0===e||e.updateScroll(),i.updateLayout()),r();var a=O8(window,"resize",(function(){return t.scalePositionWithinConstraints()})),s=i.addEventListener("didUpdate",(function(e){var n=e.delta,r=e.hasLayoutChanged;t.isDragging&&r&&(Ate((function(e){var r=t.getAxisMotionValue(e);r&&(t.originPoint[e]+=n[e].translate,r.set(r.get()+n[e].translate))})),t.visualElement.render())}));return function(){a(),n(),o(),null===s||void 0===s||s()}}}},{key:"getProps",value:function(){var e=this.visualElement.getProps(),t=e.drag,n=void 0!==t&&t,r=e.dragDirectionLock,i=void 0!==r&&r,o=e.dragPropagation,a=void 0!==o&&o,s=e.dragConstraints,u=void 0!==s&&s,c=e.dragElastic,l=void 0===c?Cte:c,f=e.dragMomentum,h=void 0===f||f;return x(x({},e),{},{drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:u,dragElastic:l,dragMomentum:h})}}]),e}();function Qte(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}function $te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}var Xte={pan:d9((function(e){var n=e.onPan,r=e.onPanStart,i=e.onPanEnd,o=e.onPanSessionStart,a=e.visualElement,s=n||r||i||o,u=(0,t.useRef)(null),c=(0,t.useContext)($5).transformPagePoint,l={onSessionStart:o,onStart:r,onMove:n,onEnd:function(e,t){u.current=null,i&&i(e,t)}};(0,t.useEffect)((function(){null!==u.current&&u.current.updateHandlers(l)})),G8(a,"pointerdown",s&&function(e){u.current=new fte(e,l,{transformPagePoint:c})}),t9((function(){return u.current&&u.current.end()}))})),drag:d9((function(e){var n=e.dragControls,r=e.visualElement,i=p6((function(){return new Yte(r)}));(0,t.useEffect)((function(){return n&&n.subscribe(i)}),[i,n]),(0,t.useEffect)((function(){return i.addListeners()}),[i])}))};function Jte(e){return"string"===typeof e&&e.startsWith("var(--")}var ene=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function tne(e){var t=ene.exec(e);if(!t)return[,];var n=c(t,3);return[n[1],n[2]]}function nne(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.');var r=tne(e),i=c(r,2),o=i[0],a=i[1];if(o){var s=window.getComputedStyle(t).getPropertyValue(o);return s?s.trim():Jte(a)?nne(a,t,n+1):a}}function rne(e,t,n){var r=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(t),t)),i=e.current;if(!(i instanceof Element))return{target:r,transitionEnd:n};for(var o in n&&(n=x({},n)),e.values.forEach((function(e){var t=e.get();if(Jte(t)){var n=nne(t,i);n&&e.set(n)}})),r){var a=r[o];if(Jte(a)){var s=nne(a,i);s&&(r[o]=s,n&&void 0===n[o]&&(n[o]=a))}}return{target:r,transitionEnd:n}}var ine,one=new Set(["width","height","top","left","right","bottom","x","y"]),ane=function(e){return one.has(e)},sne=function(e,t){e.set(t,!1),e.set(t)},une=function(e){return e===Z6||e===q6};!function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"}(ine||(ine={}));var cne=function(e,t){return parseFloat(e.split(", ")[t])},lne=function(e,t){return function(n,r){var i=r.transform;if("none"===i||!i)return 0;var o=i.match(/^matrix3d\((.+)\)$/);if(o)return cne(o[1],t);var a=i.match(/^matrix\((.+)\)$/);return a?cne(a[1],e):0}},fne=new Set(["x","y","z"]),hne=C6.filter((function(e){return!fne.has(e)}));function dne(e){var t=[];return hne.forEach((function(n){var r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.render(),t}var pne={width:function(e,t){var n=e.x,r=t.paddingLeft,i=void 0===r?"0":r,o=t.paddingRight,a=void 0===o?"0":o;return n.max-n.min-parseFloat(i)-parseFloat(a)},height:function(e,t){var n=e.y,r=t.paddingTop,i=void 0===r?"0":r,o=t.paddingBottom,a=void 0===o?"0":o;return n.max-n.min-parseFloat(i)-parseFloat(a)},top:function(e,t){var n=t.top;return parseFloat(n)},left:function(e,t){var n=t.left;return parseFloat(n)},bottom:function(e,t){var n=e.y,r=t.top;return parseFloat(r)+(n.max-n.min)},right:function(e,t){var n=e.x,r=t.left;return parseFloat(r)+(n.max-n.min)},x:lne(4,13),y:lne(5,14)},vne=function(e,t,n){var r=t.measureViewportBox(),i=t.current,o=getComputedStyle(i),a=o.display,s={};"none"===a&&t.setStaticValue("display",e.display||"block"),n.forEach((function(e){s[e]=pne[e](r,o)})),t.render();var u=t.measureViewportBox();return n.forEach((function(n){var r=t.getValue(n);sne(r,s[n]),e[n]=pne[n](u,o)})),e};function mne(e,t,n,r){return function(e){return Object.keys(e).some(ane)}(t)?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=x({},t),r=x({},r);var i=Object.keys(t).filter(ane),o=[],a=!1,s=[];if(i.forEach((function(i){var u=e.getValue(i);if(e.hasValue(i)){var c,l=n[i],f=jee(l),h=t[i];if(E8(h)){var d=h.length,p=null===h[0]?1:0;l=h[p],f=jee(l);for(var v=p;v<d;v++)c?jee(h[v]):(c=jee(h[v]))===f||une(f)&&une(c)}else c=jee(h);if(f!==c)if(une(f)&&une(c)){var m=u.get();"string"===typeof m&&u.set(parseFloat(m)),"string"===typeof h?t[i]=parseFloat(h):Array.isArray(h)&&c===q6&&(t[i]=h.map(parseFloat))}else(null===f||void 0===f?void 0:f.transform)&&(null===c||void 0===c?void 0:c.transform)&&(0===l||0===h)?0===l?u.set(c.transform(l)):t[i]=f.transform(h):(a||(o=dne(e),a=!0),s.push(i),r[i]=void 0!==r[i]?r[i]:t[i],sne(u,h))}})),s.length){var u=s.indexOf("height")>=0?window.pageYOffset:null,l=vne(t,e,s);return o.length&&o.forEach((function(t){var n=c(t,2),r=n[0],i=n[1];e.getValue(r).set(i)})),e.render(),e6&&null!==u&&window.scrollTo({top:u}),{target:l,transitionEnd:r}}return{target:t,transitionEnd:r}}(e,t,n,r):{target:t,transitionEnd:r}}var gne={current:null},yne={current:!1};var bne=["willChange"],_ne=Object.keys(d6),wne=_ne.length,kne=["AnimationStart","AnimationComplete","Update","Unmount","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],xne=function(){function e(t){var n=this,r=t.parent,i=t.props,o=t.reducedMotionConfig,a=t.visualState,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};T(this,e),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.isPresent=!0,this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=function(){return n.notify("Update",n.latestValues)},this.render=function(){n.current&&(n.triggerBuild(),n.renderInstance(n.current,n.renderState,n.props.style,n.projection))},this.scheduleRender=function(){return H7.render(n.render,!1,!0)};var u=a.latestValues,c=a.renderState;this.latestValues=u,this.baseTarget=x({},u),this.initialValues=i.initial?x({},u):{},this.renderState=c,this.parent=r,this.props=i,this.depth=r?r.depth+1:0,this.reducedMotionConfig=o,this.options=s,this.isControllingVariants=u6(i),this.isVariantNode=c6(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(r&&r.current);var l=this.scrapeMotionValuesFromProps(i),f=l.willChange,h=_(l,bne);for(var d in h){var p=h[d];void 0!==u[d]&&A6(p)&&(p.set(u[d],!1),Kee(f)&&f.add(d))}}return I(e,[{key:"scrapeMotionValuesFromProps",value:function(e){return{}}},{key:"mount",value:function(e){var t,n=this;this.current=e,this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=null===(t=this.parent)||void 0===t?void 0:t.addVariantChild(this)),this.values.forEach((function(e,t){return n.bindToMotionValue(t,e)})),yne.current||function(){if(yne.current=!0,e6)if(window.matchMedia){var e=window.matchMedia("(prefers-reduced-motion)"),t=function(){return gne.current=e.matches};e.addListener(t),t()}else gne.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||gne.current),this.parent&&this.parent.children.add(this),this.setProps(this.props)}},{key:"unmount",value:function(){var e,t,n;for(var r in null===(e=this.projection)||void 0===e||e.unmount(),F7.update(this.notifyUpdate),F7.render(this.render),this.valueSubscriptions.forEach((function(e){return e()})),null===(t=this.removeFromVariantTree)||void 0===t||t.call(this),null===(n=this.parent)||void 0===n||n.children.delete(this),this.events)this.events[r].clear();this.current=null}},{key:"bindToMotionValue",value:function(e,t){var n=this,r=I6.has(e),i=t.onChange((function(t){n.latestValues[e]=t,n.props.onUpdate&&H7.update(n.notifyUpdate,!1,!0),r&&n.projection&&(n.projection.isTransformDirty=!0)})),o=t.onRenderRequest(this.scheduleRender);this.valueSubscriptions.set(e,(function(){i(),o()}))}},{key:"sortNodePosition",value:function(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}},{key:"loadFeatures",value:function(e,n,r,i,o,a){var s=this,u=[];for(var c=0;c<wne;c++){var l=_ne[c],f=d6[l],h=f.isEnabled,d=f.Component;h(e)&&d&&u.push((0,t.createElement)(d,x(x({key:l},e),{},{visualElement:this})))}if(!this.projection&&o){this.projection=new o(i,this.latestValues,this.parent&&this.parent.projection);var p=e.layoutId,v=e.layout,m=e.drag,g=e.dragConstraints,y=e.layoutScroll;this.projection.setOptions({layoutId:p,layout:v,alwaysMeasureLayout:Boolean(m)||g&&i6(g),visualElement:this,scheduleRender:function(){return s.scheduleRender()},animationType:"string"===typeof v?v:"both",initialPromotionConfig:a,layoutScroll:y})}return u}},{key:"triggerBuild",value:function(){this.build(this.renderState,this.latestValues,this.options,this.props)}},{key:"measureViewportBox",value:function(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}},{key:"getStaticValue",value:function(e){return this.latestValues[e]}},{key:"setStaticValue",value:function(e,t){this.latestValues[e]=t}},{key:"makeTargetAnimatable",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}},{key:"setProps",value:function(e){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.props=e;for(var t=0;t<kne.length;t++){var n=kne[t];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);var r=e["on"+n];r&&(this.propEventSubscriptions[n]=this.on(n,r))}this.prevMotionValues=function(e,t,n){var r=t.willChange;for(var i in t){var o=t[i],a=n[i];if(A6(o))e.addValue(i,o),Kee(r)&&r.add(i);else if(A6(a))e.addValue(i,Dee(o)),Kee(r)&&r.remove(i);else if(a!==o)if(e.hasValue(i)){var s=e.getValue(i);!s.hasAnimated&&s.set(o)}else{var u=e.getStaticValue(i);e.addValue(i,Dee(void 0!==u?u:o))}}for(var c in n)void 0===t[c]&&e.removeValue(c);return t}(this,this.scrapeMotionValuesFromProps(e),this.prevMotionValues)}},{key:"getProps",value:function(){return this.props}},{key:"getVariant",value:function(e){var t;return null===(t=this.props.variants)||void 0===t?void 0:t[e]}},{key:"getDefaultTransition",value:function(){return this.props.transition}},{key:"getTransformPagePoint",value:function(){return this.props.transformPagePoint}},{key:"getClosestVariantNode",value:function(){var e;return this.isVariantNode?this:null===(e=this.parent)||void 0===e?void 0:e.getClosestVariantNode()}},{key:"getVariantContext",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(n)return null===(e=this.parent)||void 0===e?void 0:e.getVariantContext();if(!this.isControllingVariants){var r=(null===(t=this.parent)||void 0===t?void 0:t.getVariantContext())||{};return void 0!==this.props.initial&&(r.initial=this.props.initial),r}for(var i={},o=0;o<Sne;o++){var a=Ene[o],s=this.props[a];(o6(s)||!1===s)&&(i[a]=s)}return i}},{key:"addVariantChild",value:function(e){var t,n=this.getClosestVariantNode();if(n)return null===(t=n.variantChildren)||void 0===t||t.add(e),function(){return n.variantChildren.delete(e)}}},{key:"addValue",value:function(e,t){this.hasValue(e)&&this.removeValue(e),this.values.set(e,t),this.latestValues[e]=t.get(),this.bindToMotionValue(e,t)}},{key:"removeValue",value:function(e){var t;this.values.delete(e),null===(t=this.valueSubscriptions.get(e))||void 0===t||t(),this.valueSubscriptions.delete(e),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}},{key:"hasValue",value:function(e){return this.values.has(e)}},{key:"getValue",value:function(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];var n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Dee(t),this.addValue(e,n)),n}},{key:"readValue",value:function(e){return void 0===this.latestValues[e]&&this.current?this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}},{key:"setBaseTarget",value:function(e,t){this.baseTarget[e]=t}},{key:"getBaseTarget",value:function(e){var t,n=this.props.initial,r="string"===typeof n||"object"===typeof n?null===(t=x8(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;var i=this.getBaseTargetFromProps(this.props,e);return void 0===i||A6(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}},{key:"on",value:function(e,t){return this.events[e]||(this.events[e]=new Oee),this.events[e].add(t)}},{key:"notify",value:function(e){for(var t,n,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];null===(n=this.events[e])||void 0===n||(t=n).notify.apply(t,i)}}]),e}(),Ene=["initial"].concat(S(ete)),Sne=Ene.length,Tne=["transition","transitionEnd"],Cne=function(e){N(n,e);var t=D(n);function n(){return T(this,n),t.apply(this,arguments)}return I(n,[{key:"sortInstanceNodePosition",value:function(e,t){return 2&e.compareDocumentPosition(t)?1:-1}},{key:"getBaseTargetFromProps",value:function(e,t){var n;return null===(n=e.style)||void 0===n?void 0:n[t]}},{key:"removeValueFromRenderState",value:function(e,t){var n=t.vars,r=t.style;delete n[e],delete r[e]}},{key:"makeTargetAnimatableFromInstance",value:function(e,t,n){var r=e.transition,i=e.transitionEnd,o=_(e,Tne),a=t.transformValues,s=function(e,t,n){var r,i={};for(var o in e){var a=Wee(o,t);i[o]=void 0!==a?a:null===(r=n.getValue(o))||void 0===r?void 0:r.get()}return i}(o,r||{},this);if(a&&(i&&(i=a(i)),o&&(o=a(o)),s&&(s=a(s))),n){!function(e,t,n){var r,i,o=Object.keys(t).filter((function(t){return!e.hasValue(t)})),a=o.length;if(a)for(var s=0;s<a;s++){var u=o[s],c=t[u],l=null;Array.isArray(c)&&(l=c[0]),null===l&&(l=null!==(i=null!==(r=n[u])&&void 0!==r?r:e.readValue(u))&&void 0!==i?i:t[u]),void 0!==l&&null!==l&&("string"===typeof l&&(Pee(l)||Aee(l))?l=parseFloat(l):!Bee(l)&&Y9.test(c)&&(l=mee(u,c)),e.addValue(u,Dee(l)),void 0===n[u]&&(n[u]=l),null!==l&&e.setBaseTarget(u,l))}}(this,o,s);var u=function(e,t,n,r){var i=rne(e,t,r);return mne(e,t=i.target,n,r=i.transitionEnd)}(this,o,s,i);i=u.transitionEnd,o=u.target}return x({transition:r,transitionEnd:i},o)}}]),n}(xne);var Ine=function(e){N(n,e);var t=D(n);function n(){return T(this,n),t.apply(this,arguments)}return I(n,[{key:"readValueFromInstance",value:function(e,t){if(I6.has(t)){var n=vee(t);return n&&n.default||0}var r,i=(r=e,window.getComputedStyle(r)),o=(O6(t)?i.getPropertyValue(t):i[t])||0;return"string"===typeof o?o.trim():o}},{key:"measureInstanceViewportBox",value:function(e,t){return Gte(e,t.transformPagePoint)}},{key:"build",value:function(e,t,n,r){J6(e,t,n,r.transformTemplate)}},{key:"scrapeMotionValuesFromProps",value:function(e){return w8(e)}},{key:"renderInstance",value:function(e,t,n,r){y8(e,t,n,r)}}]),n}(Cne),Pne=function(e){N(n,e);var t=D(n);function n(){return T(this,n),t.apply(this,arguments)}return I(n,[{key:"getBaseTargetFromProps",value:function(e,t){return e[t]}},{key:"readValueFromInstance",value:function(e,t){var n;return I6.has(t)?(null===(n=vee(t))||void 0===n?void 0:n.default)||0:(t=b8.has(t)?t:g8(t),e.getAttribute(t))}},{key:"measureInstanceViewportBox",value:function(){return{x:{min:0,max:0},y:{min:0,max:0}}}},{key:"scrapeMotionValuesFromProps",value:function(e){return k8(e)}},{key:"build",value:function(e,t,n,r){d8(e,t,n,r.transformTemplate)}},{key:"renderInstance",value:function(e,t,n,r){_8(e,t,0,r)}}]),n}(Cne),Ane=function(e,t){return S6(e)?new Pne(t,{enableHardwareAcceleration:!1}):new Ine(t,{enableHardwareAcceleration:!0})};function Nne(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var Rne={correct:function(e,t){if(!t.target)return e;if("string"===typeof e){if(!q6.test(e))return e;e=parseFloat(e)}var n=Nne(e,t.target.x),r=Nne(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},One="_$css",Mne={correct:function(e,t){var n=t.treeScale,r=t.projectionDelta,i=e,o=e.includes("var("),a=[];o&&(e=e.replace(ene,(function(e){return a.push(e),One})));var s=Y9.parse(e);if(s.length>5)return i;var u=Y9.createTransformer(e),c="number"!==typeof s[0]?1:0,l=r.x.scale*n.x,f=r.y.scale*n.y;s[0+c]/=l,s[1+c]/=f;var h=C9(l,f,.5);"number"===typeof s[2+c]&&(s[2+c]/=h),"number"===typeof s[3+c]&&(s[3+c]/=h);var d=u(s);if(o){var p=0;d=d.replace(One,(function(){var e=a[p];return p++,e}))}return d}},Dne=function(e){N(n,e);var t=D(n);function n(){return T(this,n),t.apply(this,arguments)}return I(n,[{key:"componentDidMount",value:function(){var e,t=this,n=this.props,r=n.visualElement,i=n.layoutGroup,o=n.switchLayoutGroup,a=n.layoutId,s=r.projection;e=Lne,Object.assign(T6,e),s&&(i.group&&i.group.add(s),o&&o.register&&a&&o.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",(function(){t.safeToRemove()})),s.setOptions(x(x({},s.options),{},{onExitComplete:function(){return t.safeToRemove()}}))),v6.hasEverUpdated=!0}},{key:"getSnapshotBeforeUpdate",value:function(e){var t=this,n=this.props,r=n.layoutDependency,i=n.visualElement,o=n.drag,a=n.isPresent,s=i.projection;return s?(s.isPresent=a,o||e.layoutDependency!==r||void 0===r?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||H7.postRender((function(){var e;(null===(e=s.getStack())||void 0===e?void 0:e.members.length)||t.safeToRemove()}))),null):null}},{key:"componentDidUpdate",value:function(){var e=this.props.visualElement.projection;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.visualElement,n=e.layoutGroup,r=e.switchLayoutGroup,i=t.projection;i&&(i.scheduleCheckAfterUnmount(),(null===n||void 0===n?void 0:n.group)&&n.group.remove(i),(null===r||void 0===r?void 0:r.deregister)&&r.deregister(i))}},{key:"safeToRemove",value:function(){var e=this.props.safeToRemove;null===e||void 0===e||e()}},{key:"render",value:function(){return null}}]),n}(t.Component);var Lne={borderRadius:x(x({},Rne),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Rne,borderTopRightRadius:Rne,borderBottomLeftRadius:Rne,borderBottomRightRadius:Rne,boxShadow:Mne},Fne={measureLayout:function(e){var n=c(v9(),2),r=n[0],i=n[1],o=(0,t.useContext)(g6);return t.createElement(Dne,x(x({},e),{},{layoutGroup:o,switchLayoutGroup:(0,t.useContext)(b6),isPresent:r,safeToRemove:i}))}};function jne(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=A6(e)?e:Dee(e);return Iee("",r,t,n),{stop:function(){return r.stop()},isAnimating:function(){return r.isAnimating()}}}var zne=["TopLeft","TopRight","BottomLeft","BottomRight"],Bne=zne.length,Vne=function(e){return"string"===typeof e?parseFloat(e):e},Une=function(e){return"number"===typeof e||q6.test(e)};function Hne(e,t,n,r,i,o){var a,s,u,c;i?(e.opacity=C9(0,null!==(a=n.opacity)&&void 0!==a?a:1,Wne(r)),e.opacityExit=C9(null!==(s=t.opacity)&&void 0!==s?s:1,0,Kne(r))):o&&(e.opacity=C9(null!==(u=t.opacity)&&void 0!==u?u:1,null!==(c=n.opacity)&&void 0!==c?c:1,r));for(var l=0;l<Bne;l++){var f="border".concat(zne[l],"Radius"),h=qne(t,f),d=qne(n,f);if(void 0!==h||void 0!==d)h||(h=0),d||(d=0),0===h||0===d||Une(h)===Une(d)?(e[f]=Math.max(C9(Vne(h),Vne(d),r),0),(H6.test(d)||H6.test(h))&&(e[f]+="%")):e[f]=d}(t.rotate||n.rotate)&&(e.rotate=C9(t.rotate||0,n.rotate||0,r))}function qne(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e.borderRadius}var Wne=Gne(0,.5,m7),Kne=Gne(.5,.95,f7);function Gne(e,t,n){return function(r){return r<e?0:r>t?1:n(T9(e,t,r))}}function Zne(e,t){e.min=t.min,e.max=t.max}function Yne(e,t){Zne(e.x,t.x),Zne(e.y,t.y)}function Qne(e,t,n,r,i){return e=Fte(e-=t,1/n,r),void 0!==i&&(e=Fte(e,1/i,r)),e}function $ne(e,t,n,r,i){var o=c(n,3),a=o[0],s=o[1],u=o[2];!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;if(H6.test(t)){t=parseFloat(t),t=C9(a.min,a.max,t/100)-a.min}if("number"===typeof t){var s=C9(o.min,o.max,r);e===o&&(s-=t),e.min=Qne(e.min,t,n,s,i),e.max=Qne(e.max,t,n,s,i)}}(e,t[a],t[s],t[u],t.scale,r,i)}var Xne=["x","scaleX","originX"],Jne=["y","scaleY","originY"];function ere(e,t,n,r){$ne(e.x,t,Xne,null===n||void 0===n?void 0:n.x,null===r||void 0===r?void 0:r.x),$ne(e.y,t,Jne,null===n||void 0===n?void 0:n.y,null===r||void 0===r?void 0:r.y)}function tre(e){return 0===e.translate&&1===e.scale}function nre(e){return tre(e.x)&&tre(e.y)}function rre(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function ire(e){return yte(e.x)/yte(e.y)}var ore=function(){function e(){T(this,e),this.members=[]}return I(e,[{key:"add",value:function(e){Nee(this.members,e),e.scheduleRender()}},{key:"remove",value:function(e){if(Ree(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){var t=this.members[this.members.length-1];t&&this.promote(t)}}},{key:"relegate",value:function(e){var t,n=this.members.findIndex((function(t){return e===t}));if(0===n)return!1;for(var r=n;r>=0;r--){var i=this.members[r];if(!1!==i.isPresent){t=i;break}}return!!t&&(this.promote(t),!0)}},{key:"promote",value:function(e,t){var n,r=this.lead;e!==r&&(this.prevLead=r,this.lead=e,e.show(),r&&(r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),(null===(n=e.root)||void 0===n?void 0:n.isUpdating)&&(e.isLayoutDirty=!0),!1===e.options.crossfade&&r.hide()))}},{key:"exitAnimationComplete",value:function(){this.members.forEach((function(e){var t,n,r,i,o;null===(n=(t=e.options).onExitComplete)||void 0===n||n.call(t),null===(o=null===(r=e.resumingFrom)||void 0===r?void 0:(i=r.options).onExitComplete)||void 0===o||o.call(i)}))}},{key:"scheduleRender",value:function(){this.members.forEach((function(e){e.instance&&e.scheduleRender(!1)}))}},{key:"removeLeadSnapshot",value:function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}]),e}();function are(e,t,n){var r="",i=e.x.translate/t.x,o=e.y.translate/t.y;if((i||o)&&(r="translate3d(".concat(i,"px, ").concat(o,"px, 0) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){var a=n.rotate,s=n.rotateX,u=n.rotateY;a&&(r+="rotate(".concat(a,"deg) ")),s&&(r+="rotateX(".concat(s,"deg) ")),u&&(r+="rotateY(".concat(u,"deg) "))}var c=e.x.scale*t.x,l=e.y.scale*t.y;return 1===c&&1===l||(r+="scale(".concat(c,", ").concat(l,")")),r||"none"}var sre=function(e,t){return e.depth-t.depth},ure=function(){function e(){T(this,e),this.children=[],this.isDirty=!1}return I(e,[{key:"add",value:function(e){Nee(this.children,e),this.isDirty=!0}},{key:"remove",value:function(e){Ree(this.children,e),this.isDirty=!0}},{key:"forEach",value:function(e){this.isDirty&&this.children.sort(sre),this.isDirty=!1,this.children.forEach(e)}}]),e}(),cre=["","X","Y","Z"],lre=0;function fre(e){var t=e.attachResizeListener,n=e.defaultParent,r=e.measureScroll,i=e.checkIsScrollRoot,o=e.resetTransform;return function(){function e(t){var r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null===n||void 0===n?void 0:n();T(this,e),this.id=lre++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isTransformDirty=!1,this.isProjectionDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){r.isUpdating&&(r.isUpdating=!1,r.clearAllSnapshots())},this.updateProjection=function(){r.nodes.forEach(pre),r.nodes.forEach(bre),r.nodes.forEach(_re)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=t,this.latestValues=i,this.root=o?o.root||o:this,this.path=o?[].concat(S(o.path),[o]):[],this.parent=o,this.depth=o?o.depth+1:0,t&&this.root.registerPotentialNode(t,this);for(var a=0;a<this.path.length;a++)this.path[a].shouldResetTransform=!0;this.root===this&&(this.nodes=new ure)}return I(e,[{key:"addEventListener",value:function(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Oee),this.eventHandlers.get(e).add(t)}},{key:"notifyListeners",value:function(e){for(var t=this.eventHandlers.get(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];null===t||void 0===t||t.notify.apply(t,r)}},{key:"hasListeners",value:function(e){return this.eventHandlers.has(e)}},{key:"registerPotentialNode",value:function(e,t){this.potentialNodes.set(e,t)}},{key:"mount",value:function(e){var n,r=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.instance){this.isSVG=e instanceof SVGElement&&"svg"!==e.tagName,this.instance=e;var o=this.options,a=o.layoutId,s=o.layout,u=o.visualElement;if(u&&!u.current&&u.mount(e),this.root.nodes.add(this),null===(n=this.parent)||void 0===n||n.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),i&&(s||a)&&(this.isLayoutDirty=!0),t){var c,l=function(){return r.root.updateBlockedByResize=!1};t(e,(function(){r.root.updateBlockedByResize=!0,c&&c(),c=yee(l,250),v6.hasAnimatedSinceResize&&(v6.hasAnimatedSinceResize=!1,r.nodes.forEach(yre))}))}a&&this.root.registerSharedNode(a,this),!1!==this.options.animate&&u&&(a||s)&&this.addEventListener("didUpdate",(function(e){var t,n,i,o,a,s=e.delta,c=e.hasLayoutChanged,l=e.hasRelativeTargetChanged,f=e.layout;if(r.isTreeAnimationBlocked())return r.target=void 0,void(r.relativeTarget=void 0);var h=null!==(n=null!==(t=r.options.transition)&&void 0!==t?t:u.getDefaultTransition())&&void 0!==n?n:Cre,d=u.getProps(),p=d.onLayoutAnimationStart,v=d.onLayoutAnimationComplete,m=!r.targetLayout||!rre(r.targetLayout,f)||l,g=!c&&l;if((null===(i=r.resumeFrom)||void 0===i?void 0:i.instance)||g||c&&(m||!r.currentAnimation)){r.resumeFrom&&(r.resumingFrom=r.resumeFrom,r.resumingFrom.resumingFrom=void 0),r.setAnimationOrigin(s,g);var y=x(x({},Cee(h,"layout")),{},{onPlay:p,onComplete:v});u.shouldReduceMotion&&(y.delay=0,y.type=!1),r.startAnimation(y)}else c||0!==r.animationProgress||yre(r),r.isLead()&&(null===(a=(o=r.options).onExitComplete)||void 0===a||a.call(o));r.targetLayout=f}))}}},{key:"unmount",value:function(){var e,t;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),null===(e=this.getStack())||void 0===e||e.remove(this),null===(t=this.parent)||void 0===t||t.children.delete(this),this.instance=void 0,F7.preRender(this.updateProjection)}},{key:"blockUpdate",value:function(){this.updateManuallyBlocked=!0}},{key:"unblockUpdate",value:function(){this.updateManuallyBlocked=!1}},{key:"isUpdateBlocked",value:function(){return this.updateManuallyBlocked||this.updateBlockedByResize}},{key:"isTreeAnimationBlocked",value:function(){var e;return this.isAnimationBlocked||(null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimationBlocked())||!1}},{key:"startUpdate",value:function(){var e;this.isUpdateBlocked()||(this.isUpdating=!0,null===(e=this.nodes)||void 0===e||e.forEach(wre),this.animationId++)}},{key:"willUpdate",value:function(){var e,t,n,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.isUpdateBlocked())null===(t=(e=this.options).onExitComplete)||void 0===t||t.call(e);else if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var i=0;i<this.path.length;i++){var o=this.path[i];o.shouldResetTransform=!0,o.updateScroll("snapshot")}var a=this.options,s=a.layoutId,u=a.layout;if(void 0!==s||u){var c=null===(n=this.options.visualElement)||void 0===n?void 0:n.getProps().transformTemplate;this.prevTransformTemplateValue=null===c||void 0===c?void 0:c(this.latestValues,""),this.updateSnapshot(),r&&this.notifyListeners("willUpdate")}}}},{key:"didUpdate",value:function(){if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(mre);this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(Ire),this.potentialNodes.clear()),this.nodes.forEach(gre),this.nodes.forEach(hre),this.nodes.forEach(dre),this.clearAllSnapshots(),j7.update(),j7.preRender(),j7.render())}},{key:"clearAllSnapshots",value:function(){this.nodes.forEach(vre),this.sharedNodes.forEach(kre)}},{key:"scheduleUpdateProjection",value:function(){H7.preRender(this.updateProjection,!1,!0)}},{key:"scheduleCheckAfterUnmount",value:function(){var e=this;H7.postRender((function(){e.isLayoutDirty?e.root.didUpdate():e.root.checkUpdateFailed()}))}},{key:"updateSnapshot",value:function(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}},{key:"updateLayout",value:function(){var e;if(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)){if(this.resumeFrom&&!this.resumeFrom.instance)for(var t=0;t<this.path.length;t++){this.path[t].updateScroll()}var n=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox),null===(e=this.options.visualElement)||void 0===e||e.notify("LayoutMeasure",this.layout.layoutBox,null===n||void 0===n?void 0:n.layoutBox)}}},{key:"updateScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:i(this.instance),offset:r(this.instance)})}},{key:"resetTransform",value:function(){var e;if(o){var t=this.isLayoutDirty||this.shouldResetTransform,n=this.projectionDelta&&!nre(this.projectionDelta),r=null===(e=this.options.visualElement)||void 0===e?void 0:e.getProps().transformTemplate,i=null===r||void 0===r?void 0:r(this.latestValues,""),a=i!==this.prevTransformTemplateValue;t&&(n||Mte(this.latestValues)||a)&&(o(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}}},{key:"measure",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.measurePageBox(),n=this.removeElementScroll(t);return e&&(n=this.removeTransform(n)),Are(n),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}},{key:"measurePageBox",value:function(){var e=this.options.visualElement;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};var t=e.measureViewportBox(),n=this.root.scroll;return n&&(Ute(t.x,n.offset.x),Ute(t.y,n.offset.y)),t}},{key:"removeElementScroll",value:function(e){var t={x:{min:0,max:0},y:{min:0,max:0}};Yne(t,e);for(var n=0;n<this.path.length;n++){var r=this.path[n],i=r.scroll,o=r.options;if(r!==this.root&&i&&o.layoutScroll){if(i.isRoot){Yne(t,e);var a=this.root.scroll;a&&(Ute(t.x,-a.offset.x),Ute(t.y,-a.offset.y))}Ute(t.x,i.offset.x),Ute(t.y,i.offset.y)}}return t}},{key:"applyTransform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={x:{min:0,max:0},y:{min:0,max:0}};Yne(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];!t&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Kte(n,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),Mte(i.latestValues)&&Kte(n,i.latestValues)}return Mte(this.latestValues)&&Kte(n,this.latestValues),n}},{key:"removeTransform",value:function(e){var t,n={x:{min:0,max:0},y:{min:0,max:0}};Yne(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];if(i.instance&&Mte(i.latestValues)){Ote(i.latestValues)&&i.updateSnapshot();var o={x:{min:0,max:0},y:{min:0,max:0}};Yne(o,i.measurePageBox()),ere(n,i.latestValues,null===(t=i.snapshot)||void 0===t?void 0:t.layoutBox,o)}}return Mte(this.latestValues)&&ere(n,this.latestValues),n}},{key:"setTargetDelta",value:function(e){this.targetDelta=e,this.isProjectionDirty=!0,this.root.scheduleUpdateProjection()}},{key:"setOptions",value:function(e){this.options=x(x(x({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}},{key:"clearMeasurements",value:function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}},{key:"resolveTargetDelta",value:function(){var e,t=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isProjectionDirty||this.attemptToResolveRelativeTarget){var n=this.options,r=n.layout,i=n.layoutId;if(this.layout&&(r||i)){if(!this.targetDelta&&!this.relativeTarget){var o=this.getClosestProjectingParent();o&&o.layout?(this.relativeParent=o,this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Ete(this.relativeTargetOrigin,this.layout.layoutBox,o.layout.layoutBox),Yne(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}var a,s,u;if(this.relativeTarget||this.targetDelta)if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&(null===(e=this.relativeParent)||void 0===e?void 0:e.target)?(a=this.target,s=this.relativeTarget,u=this.relativeParent.target,kte(a.x,s.x,u.x),kte(a.y,s.y,u.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Yne(this.target,this.layout.layoutBox),Bte(this.target,this.targetDelta)):Yne(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;var c=this.getClosestProjectingParent();c&&Boolean(c.resumingFrom)===Boolean(this.resumingFrom)&&!c.options.layoutScroll&&c.target?(this.relativeParent=c,this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Ete(this.relativeTargetOrigin,this.target,c.target),Yne(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}}},{key:"getClosestProjectingParent",value:function(){if(this.parent&&!Ote(this.parent.latestValues)&&!Dte(this.parent.latestValues))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}},{key:"calcProjection",value:function(){var e,t=this.isProjectionDirty,n=this.isTransformDirty;this.isProjectionDirty=this.isTransformDirty=!1;var r=this.getLead(),i=Boolean(this.resumingFrom)||this!==r,o=!0;if(t&&(o=!1),i&&n&&(o=!1),!o){var a=this.options,s=a.layout,u=a.layoutId;if(this.isTreeAnimating=Boolean((null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(s||u)){Yne(this.layoutCorrected,this.layout.layoutBox),function(e,t,n){var r,i,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=n.length;if(a){var s,u;t.x=t.y=1;for(var c=0;c<a;c++)u=(s=n[c]).projectionDelta,"contents"!==(null===(i=null===(r=s.instance)||void 0===r?void 0:r.style)||void 0===i?void 0:i.display)&&(o&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Kte(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,Bte(e,u)),o&&Mte(s.latestValues)&&Kte(e,s.latestValues));t.x=Vte(t.x),t.y=Vte(t.y)}}(this.layoutCorrected,this.treeScale,this.path,i);var c=r.target;if(c){this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});var l=this.treeScale.x,f=this.treeScale.y,h=this.projectionTransform;wte(this.projectionDelta,this.layoutCorrected,c,this.latestValues),this.projectionTransform=are(this.projectionDelta,this.treeScale),this.projectionTransform===h&&this.treeScale.x===l&&this.treeScale.y===f||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",c))}}}}},{key:"hide",value:function(){this.isVisible=!1}},{key:"show",value:function(){this.isVisible=!0}},{key:"scheduleRender",value:function(){var e,t,n,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];null===(t=(e=this.options).scheduleRender)||void 0===t||t.call(e),r&&(null===(n=this.getStack())||void 0===n||n.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}},{key:"setAnimationOrigin",value:function(e){var t,n,r=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=this.snapshot,a=(null===o||void 0===o?void 0:o.latestValues)||{},s=x({},this.latestValues),u={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!i;var c={x:{min:0,max:0},y:{min:0,max:0}},l=(null===o||void 0===o?void 0:o.source)!==(null===(t=this.layout)||void 0===t?void 0:t.source),f=((null===(n=this.getStack())||void 0===n?void 0:n.members.length)||0)<=1,h=Boolean(l&&!f&&!0===this.options.crossfade&&!this.path.some(Tre));this.animationProgress=0,this.mixTargetDelta=function(t){var n,i=t/1e3;xre(u.x,e.x,i),xre(u.y,e.y,i),r.setTargetDelta(u),r.relativeTarget&&r.relativeTargetOrigin&&r.layout&&(null===(n=r.relativeParent)||void 0===n?void 0:n.layout)&&(Ete(c,r.layout.layoutBox,r.relativeParent.layout.layoutBox),Sre(r.relativeTarget,r.relativeTargetOrigin,c,i)),l&&(r.animationValues=s,Hne(s,a,r.latestValues,i,h,f)),r.root.scheduleUpdateProjection(),r.scheduleRender(),r.animationProgress=i},this.mixTargetDelta(0)}},{key:"startAnimation",value:function(e){var t,n,r=this;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),this.resumingFrom&&(null===(n=this.resumingFrom.currentAnimation)||void 0===n||n.stop()),this.pendingAnimation&&(F7.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=H7.update((function(){v6.hasAnimatedSinceResize=!0,r.currentAnimation=jne(0,1e3,x(x({},e),{},{onUpdate:function(t){var n;r.mixTargetDelta(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:function(){var t;null===(t=e.onComplete)||void 0===t||t.call(e),r.completeAnimation()}})),r.resumingFrom&&(r.resumingFrom.currentAnimation=r.currentAnimation),r.pendingAnimation=void 0}))}},{key:"completeAnimation",value:function(){var e;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),null===(e=this.getStack())||void 0===e||e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}},{key:"finishAnimation",value:function(){var e;this.currentAnimation&&(null===(e=this.mixTargetDelta)||void 0===e||e.call(this,1e3),this.currentAnimation.stop()),this.completeAnimation()}},{key:"applyTransformsToTarget",value:function(){var e=this.getLead(),t=e.targetWithTransforms,n=e.target,r=e.layout,i=e.latestValues;if(t&&n&&r){if(this!==e&&this.layout&&r&&Nre(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};var o=yte(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+o;var a=yte(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+a}Yne(t,n),Kte(t,i),wte(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}},{key:"registerSharedNode",value:function(e,t){var n,r,i;this.sharedNodes.has(e)||this.sharedNodes.set(e,new ore),this.sharedNodes.get(e).add(t),t.promote({transition:null===(n=t.options.initialPromotionConfig)||void 0===n?void 0:n.transition,preserveFollowOpacity:null===(i=null===(r=t.options.initialPromotionConfig)||void 0===r?void 0:r.shouldPreserveFollowOpacity)||void 0===i?void 0:i.call(r,t)})}},{key:"isLead",value:function(){var e=this.getStack();return!e||e.lead===this}},{key:"getLead",value:function(){var e;return this.options.layoutId&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}},{key:"getPrevLead",value:function(){var e;return this.options.layoutId?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}},{key:"getStack",value:function(){var e=this.options.layoutId;if(e)return this.root.sharedNodes.get(e)}},{key:"promote",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.needsReset,n=e.transition,r=e.preserveFollowOpacity,i=this.getStack();i&&i.promote(this,r),t&&(this.projectionDelta=void 0,this.needsReset=!0),n&&this.setOptions({transition:n})}},{key:"relegate",value:function(){var e=this.getStack();return!!e&&e.relegate(this)}},{key:"resetRotation",value:function(){var e=this.options.visualElement;if(e){var t=!1,n=e.latestValues;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),t){for(var r={},i=0;i<cre.length;i++){var o="rotate"+cre[i];n[o]&&(r[o]=n[o],e.setStaticValue(o,0))}for(var a in null===e||void 0===e||e.render(),r)e.setStaticValue(a,r[a]);e.scheduleRender()}}}},{key:"getProjectionStyles",value:function(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i={};if(!this.instance||this.isSVG)return i;if(!this.isVisible)return{visibility:"hidden"};i.visibility="";var o=null===(e=this.options.visualElement)||void 0===e?void 0:e.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,i.opacity="",i.pointerEvents=T8(r.pointerEvents)||"",i.transform=o?o(this.latestValues,""):"none",i;var a=this.getLead();if(!this.projectionDelta||!this.layout||!a.target){var s={};return this.options.layoutId&&(s.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,s.pointerEvents=T8(r.pointerEvents)||""),this.hasProjected&&!Mte(this.latestValues)&&(s.transform=o?o({},""):"none",this.hasProjected=!1),s}var u=a.animationValues||a.latestValues;this.applyTransformsToTarget(),i.transform=are(this.projectionDeltaWithTransform,this.treeScale,u),o&&(i.transform=o(u,i.transform));var c=this.projectionDelta,l=c.x,f=c.y;for(var h in i.transformOrigin="".concat(100*l.origin,"% ").concat(100*f.origin,"% 0"),a.animationValues?i.opacity=a===this?null!==(n=null!==(t=u.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:i.opacity=a===this?void 0!==u.opacity?u.opacity:"":void 0!==u.opacityExit?u.opacityExit:0,T6)if(void 0!==u[h]){var d=T6[h],p=d.correct,v=d.applyTo,m=p(u[h],a);if(v)for(var g=v.length,y=0;y<g;y++)i[v[y]]=m;else i[h]=m}return this.options.layoutId&&(i.pointerEvents=a===this?T8(r.pointerEvents)||"":"none"),i}},{key:"clearSnapshot",value:function(){this.resumeFrom=this.snapshot=void 0}},{key:"resetTree",value:function(){this.root.nodes.forEach((function(e){var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(mre),this.root.sharedNodes.clear()}}]),e}()}function hre(e){e.updateLayout()}function dre(e){var t,n,r,i=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&i&&e.hasListeners("didUpdate")){var o=e.layout,a=o.layoutBox,s=o.measuredBox,u=e.options.animationType,c=i.source!==e.layout.source;"size"===u?Ate((function(e){var t=c?i.measuredBox[e]:i.layoutBox[e],n=yte(t);t.min=a[e].min,t.max=t.min+n})):Nre(u,i.layoutBox,a)&&Ate((function(e){var t=c?i.measuredBox[e]:i.layoutBox[e],n=yte(a[e]);t.max=t.min+n}));var l={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};wte(l,a,i.layoutBox);var f={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};c?wte(f,e.applyTransform(s,!0),i.measuredBox):wte(f,a,i.layoutBox);var h=!nre(l),d=!1;if(!e.resumeFrom){var p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){var v=p.snapshot,m=p.layout;if(v&&m){var g={x:{min:0,max:0},y:{min:0,max:0}};Ete(g,i.layoutBox,v.layoutBox);var y={x:{min:0,max:0},y:{min:0,max:0}};Ete(y,a,m.layoutBox),rre(g,y)||(d=!0)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:i,delta:f,layoutDelta:l,hasLayoutChanged:h,hasRelativeTargetChanged:d})}else e.isLead()&&(null===(r=(n=e.options).onExitComplete)||void 0===r||r.call(n));e.options.transition=void 0}function pre(e){e.isProjectionDirty||(e.isProjectionDirty=Boolean(e.parent&&e.parent.isProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=Boolean(e.parent&&e.parent.isTransformDirty))}function vre(e){e.clearSnapshot()}function mre(e){e.clearMeasurements()}function gre(e){var t=e.options.visualElement;(null===t||void 0===t?void 0:t.getProps().onBeforeLayoutMeasure)&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function yre(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function bre(e){e.resolveTargetDelta()}function _re(e){e.calcProjection()}function wre(e){e.resetRotation()}function kre(e){e.removeLeadSnapshot()}function xre(e,t,n){e.translate=C9(t.translate,0,n),e.scale=C9(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Ere(e,t,n,r){e.min=C9(t.min,n.min,r),e.max=C9(t.max,n.max,r)}function Sre(e,t,n,r){Ere(e.x,t.x,n.x,r),Ere(e.y,t.y,n.y,r)}function Tre(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}var Cre={duration:.45,ease:[.4,0,.1,1]};function Ire(e,t){for(var n=e.root,r=e.path.length-1;r>=0;r--)if(Boolean(e.path[r].instance)){n=e.path[r];break}var i=(n&&n!==e.root?n.instance:document).querySelector('[data-projection-id="'.concat(t,'"]'));i&&e.mount(i,!0)}function Pre(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function Are(e){Pre(e.x),Pre(e.y)}function Nre(e,t,n){return"position"===e||"preserve-aspect"===e&&!bte(ire(t),ire(n),.2)}var Rre=fre({attachResizeListener:function(e,t){return O8(e,"resize",t)},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}},checkIsScrollRoot:function(){return!0}}),Ore={current:void 0},Mre=fre({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){if(!Ore.current){var e=new Rre(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),Ore.current=e}return Ore.current},resetTransform:function(e,t){e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:function(e){return Boolean("fixed"===window.getComputedStyle(e).position)}}),Dre=x(x(x(x({},ate),p9),Xte),Fne),Lre=x6((function(e,t){return function(e,t,n,r,i){var o=t.forwardMotionProps,a=void 0!==o&&o;return x(x({},S6(e)?N8:R8),{},{preloadedFeatures:n,useRender:m8(a),createVisualElement:r,projectionNodeConstructor:i,Component:e})}(e,t,Dre,Ane,Mre)}));var Fre=function(e){var t=e.type,n=e.time,r=e.distance,i=e.duration,o=e.cadence,a=new Date(null===n||void 0===n?void 0:n.toDate()).toLocaleDateString(void 0,{month:"long",day:"numeric"});return(0,uz.jsxs)(Lre.div,x(x({},{initial:{scale:0},animate:{scale:1},exit:{scale:0}}),{},{id:"card",className:"cycling"===t?"yellowBorder my-3 ":"greenBorder my-3",children:[(0,uz.jsxs)("p",{className:"text-capitalize  ",children:[t," on ",a]}),(0,uz.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,uz.jsxs)("div",{children:[(0,uz.jsx)("span",{children:"cycling"===t?"\ud83d\udeb4\u200d\u2640\ufe0f":"\ud83c\udfc3\u200d\u2642\ufe0f"}),(0,uz.jsx)("span",{className:"mx-1",children:r}),(0,uz.jsx)("small",{className:"text-white-50",children:"KM"})]}),(0,uz.jsxs)("div",{children:[(0,uz.jsx)("span",{children:"\u23f1"}),(0,uz.jsx)("span",{className:"mx-1",children:i}),(0,uz.jsx)("small",{className:"text-white-50",children:"MIN"})]}),(0,uz.jsxs)("div",{children:[(0,uz.jsx)("span",{children:"\u26a1\ufe0f"}),(0,uz.jsx)("span",{className:"mx-1",children:i/r}),(0,uz.jsx)("small",{className:"text-white-50",children:"MIN/KM"})]}),"running"===t?(0,uz.jsxs)("div",{children:[(0,uz.jsx)("span",{children:"\ud83e\uddb6\ud83c\udffc"}),(0,uz.jsx)("span",{className:"mx-1",children:o}),(0,uz.jsx)("small",{className:"text-white-50",children:"SPM"})]}):(0,uz.jsxs)("div",{children:[(0,uz.jsx)("span",{children:"\u26f0"}),(0,uz.jsx)("span",{className:"mx-1",children:o}),(0,uz.jsx)("small",{className:"text-white-50",children:"M"})]})]})]}))},jre=function(e){var n=e.setIsAuth,r=e.showOverlay,i=lz(),o=i.currentUser,a=i.logout,s=null===o||void 0===o?void 0:o.uid,u=c((0,t.useState)(""),2),l=u[0],f=u[1],h=c((0,t.useState)([]),2),d=h[0],p=h[1];(0,t.useEffect)((function(){sz.collection("users").doc(s).onSnapshot((function(e){var t=e.data();f(null===t||void 0===t?void 0:t.userName),null!==t&&void 0!==t&&t.workout&&p(null===t||void 0===t?void 0:t.workout)}))}),[r,s]);return(0,uz.jsxs)("div",{id:"sidebar",className:"dark text-white d-flex flex-column align-items-center position-relative",children:[(0,uz.jsx)("div",{style:{width:"150px"},className:"mb-5",children:(0,uz.jsx)("img",{src:B5,alt:"logo",className:"img-fluid"})}),0===d.length?(0,uz.jsxs)("div",{className:" text-center my-5",children:[(0,uz.jsx)("img",{src:V5,alt:"img",className:"w-50 "}),(0,uz.jsx)("h2",{className:"text-capitalize ",children:"no workout to show add now!"})]}):(0,uz.jsx)("div",{id:"cardContainer",children:d.map((function(e,t){return(0,uz.jsx)(Fre,{type:e.type,distance:e.distance,duration:e.duration,cadence:e.cadence,time:e.at,id:e.id},t+1)}))}),(0,uz.jsxs)("footer",{className:"px-3 mt-4 w-100 d-flex align-items-center justify-content-between ",children:[(0,uz.jsxs)("p",{className:"text-uppercase m-0",children:["Hello, ",(0,uz.jsx)("span",{className:"greenText fw-bolder",children:l})]}),(0,uz.jsx)("button",{className:"btn ",onClick:function(){a(),n(!1)},children:(0,uz.jsx)(Q5,{className:"greenText",style:{fontSize:"25px"}})})]})]})},zre={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=zre.F1&&t<=zre.F12)return!1;switch(t){case zre.ALT:case zre.CAPS_LOCK:case zre.CONTEXT_MENU:case zre.CTRL:case zre.DOWN:case zre.END:case zre.ESC:case zre.HOME:case zre.INSERT:case zre.LEFT:case zre.MAC_FF_META:case zre.META:case zre.NUMLOCK:case zre.NUM_CENTER:case zre.PAGE_DOWN:case zre.PAGE_UP:case zre.PAUSE:case zre.PRINT_SCREEN:case zre.RIGHT:case zre.SHIFT:case zre.UP:case zre.WIN_KEY:case zre.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=zre.ZERO&&e<=zre.NINE)return!0;if(e>=zre.NUM_ZERO&&e<=zre.NUM_MULTIPLY)return!0;if(e>=zre.A&&e<=zre.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case zre.SPACE:case zre.QUESTION_MARK:case zre.NUM_PLUS:case zre.NUM_MINUS:case zre.NUM_PERIOD:case zre.NUM_DIVISION:case zre.SEMICOLON:case zre.DASH:case zre.EQUALS:case zre.COMMA:case zre.PERIOD:case zre.SLASH:case zre.APOSTROPHE:case zre.SINGLE_QUOTE:case zre.OPEN_SQUARE_BRACKET:case zre.BACKSLASH:case zre.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Bre=zre,Vre=t.createContext(null);function Ure(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,n=t.useRef(null),r=t.useRef(null);function i(t){(t||null===n.current)&&(n.current=t),window.clearTimeout(r.current),r.current=window.setTimeout((function(){n.current=null}),e)}return t.useEffect((function(){return function(){window.clearTimeout(r.current)}}),[]),[function(){return n.current},i]}var Hre="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/),qre="aria-",Wre="data-";function Kre(e,t){return 0===e.indexOf(t)}function Gre(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:x({},n);var r={};return Object.keys(e).forEach((function(n){(t.aria&&("role"===n||Kre(n,qre))||t.data&&Kre(n,Wre)||t.attr&&Hre.includes(n))&&(r[n]=e[n])})),r}var Zre=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],Yre=void 0;function Qre(e,n){var r=e.prefixCls,i=e.invalidate,o=e.item,a=e.renderItem,s=e.responsive,u=e.responsiveDisabled,c=e.registerSize,l=e.itemKey,f=e.className,h=e.style,d=e.children,p=e.display,v=e.order,m=e.component,g=void 0===m?"div":m,y=_(e,Zre),w=s&&!p;function k(e){c(l,e)}t.useEffect((function(){return function(){k(null)}}),[]);var E,S=a&&o!==Yre?a(o):d;i||(E={opacity:w?0:1,height:w?0:Yre,overflowY:w?"hidden":Yre,order:s?v:Yre,pointerEvents:w?"none":Yre,position:w?"absolute":Yre});var T={};w&&(T["aria-hidden"]=!0);var C=t.createElement(g,b({className:wt()(!i&&r,f),style:x(x({},E),h)},T,y,{ref:n}),S);return s&&(C=t.createElement(mh,{onResize:function(e){k(e.offsetWidth)},disabled:u},C)),C}var $re=t.forwardRef(Qre);$re.displayName="Item";var Xre=$re;var Jre=["component"],eie=["className"],tie=["className"],nie=function(e,n){var r=t.useContext(aie);if(!r){var i=e.component,o=void 0===i?"div":i,a=_(e,Jre);return t.createElement(o,b({},a,{ref:n}))}var s=r.className,u=_(r,eie),c=e.className,l=_(e,tie);return t.createElement(aie.Provider,{value:null},t.createElement(Xre,b({ref:n,className:wt()(s,c)},u,l)))},rie=t.forwardRef(nie);rie.displayName="RawItem";var iie=rie,oie=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],aie=t.createContext(null),sie="responsive",uie="invalidate";function cie(e){return"+ ".concat(e.length," ...")}function lie(e,n){var r=e.prefixCls,i=void 0===r?"rc-overflow":r,o=e.data,a=void 0===o?[]:o,s=e.renderItem,u=e.renderRawItem,l=e.itemKey,f=e.itemWidth,h=void 0===f?10:f,d=e.ssr,p=e.style,v=e.className,m=e.maxCount,g=e.renderRest,y=e.renderRawRest,w=e.suffix,k=e.component,E=void 0===k?"div":k,S=e.itemComponent,T=e.onVisibleChange,C=_(e,oie),I=function(){var e=c(Qt({}),2)[1],n=(0,t.useRef)([]),r=0,i=0;return function(t){var o=r;return r+=1,n.current.length<o+1&&(n.current[o]=t),[n.current[o],function(t){n.current[o]="function"===typeof t?t(n.current[o]):t,rn.cancel(i),i=rn((function(){e({},!0)}))}]}}(),P="full"===d,A=c(I(null),2),N=A[0],R=A[1],O=N||0,M=c(I(new Map),2),D=M[0],L=M[1],F=c(I(0),2),j=F[0],z=F[1],B=c(I(0),2),V=B[0],U=B[1],H=c(I(0),2),q=H[0],W=H[1],K=c((0,t.useState)(null),2),G=K[0],Z=K[1],Y=c((0,t.useState)(null),2),Q=Y[0],$=Y[1],X=t.useMemo((function(){return null===Q&&P?Number.MAX_SAFE_INTEGER:Q||0}),[Q,N]),J=c((0,t.useState)(!1),2),ee=J[0],te=J[1],ne="".concat(i,"-item"),re=Math.max(j,V),ie=m===sie,oe=a.length&&ie,ae=m===uie,se=oe||"number"===typeof m&&a.length>m,ue=(0,t.useMemo)((function(){var e=a;return oe?e=null===N&&P?a:a.slice(0,Math.min(a.length,O/h)):"number"===typeof m&&(e=a.slice(0,m)),e}),[a,h,N,m,oe]),ce=(0,t.useMemo)((function(){return oe?a.slice(X+1):a.slice(ue.length)}),[a,ue,oe,X]),le=(0,t.useCallback)((function(e,t){var n;return"function"===typeof l?l(e):null!==(n=l&&(null===e||void 0===e?void 0:e[l]))&&void 0!==n?n:t}),[l]),fe=(0,t.useCallback)(s||function(e){return e},[s]);function he(e,t,n){(Q!==e||void 0!==t&&t!==G)&&($(e),n||(te(e<a.length-1),null===T||void 0===T||T(e)),void 0!==t&&Z(t))}function de(e,t){L((function(n){var r=new Map(n);return null===t?r.delete(e):r.set(e,t),r}))}function pe(e){return D.get(le(ue[e],e))}rs((function(){if(O&&re&&ue){var e=q,t=ue.length,n=t-1;if(!t)return void he(0,null);for(var r=0;r<t;r+=1){var i=pe(r);if(P&&(i=i||0),void 0===i){he(r-1,void 0,!0);break}if(e+=i,0===n&&e<=O||r===n-1&&e+pe(n)<=O){he(n,null);break}if(e+re>O){he(r-1,e-i-q+V);break}}w&&pe(0)+q>O&&Z(null)}}),[O,D,V,q,le,ue]);var ve=ee&&!!ce.length,me={};null!==G&&oe&&(me={position:"absolute",left:G,top:0});var ge,ye={prefixCls:ne,responsive:oe,component:S,invalidate:ae},be=u?function(e,n){var r=le(e,n);return t.createElement(aie.Provider,{key:r,value:x(x({},ye),{},{order:n,item:e,itemKey:r,registerSize:de,display:n<=X})},u(e,n))}:function(e,n){var r=le(e,n);return t.createElement(Xre,b({},ye,{order:n,key:r,item:e,renderItem:fe,itemKey:r,registerSize:de,display:n<=X}))},_e={order:ve?X:Number.MAX_SAFE_INTEGER,className:"".concat(ne,"-rest"),registerSize:function(e,t){U(t),z(V)},display:ve};if(y)y&&(ge=t.createElement(aie.Provider,{value:x(x({},ye),_e)},y(ce)));else{var we=g||cie;ge=t.createElement(Xre,b({},ye,_e),"function"===typeof we?we(ce):we)}var ke=t.createElement(E,b({className:wt()(!ae&&i,v),style:p,ref:n},C),ue.map(be),se?ge:null,w&&t.createElement(Xre,b({},ye,{responsive:ie,responsiveDisabled:!oe,order:X,className:"".concat(ne,"-suffix"),registerSize:function(e,t){W(t)},display:!0,style:me}),w));return ie&&(ke=t.createElement(mh,{onResize:function(e,t){R(t.clientWidth)},disabled:!oe},ke)),ke}var fie=t.forwardRef(lie);fie.displayName="Overflow",fie.Item=iie,fie.RESPONSIVE=sie,fie.INVALIDATE=uie;var hie=fie,die=function(e){var n,r=e.className,i=e.customizeIcon,o=e.customizeIconProps,a=e.onMouseDown,s=e.onClick,u=e.children;return n="function"===typeof i?i(o):i,t.createElement("span",{className:r,onMouseDown:function(e){e.preventDefault(),a&&a(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:s,"aria-hidden":!0},void 0!==n?n:t.createElement("span",{className:wt()(r.split(/\s+/).map((function(e){return"".concat(e,"-icon")})))},u))},pie=function(e,n){var r,i,o=e.prefixCls,a=e.id,s=e.inputElement,u=e.disabled,c=e.tabIndex,l=e.autoFocus,f=e.autoComplete,h=e.editable,d=e.activeDescendantId,p=e.value,v=e.maxLength,m=e.onKeyDown,g=e.onMouseDown,y=e.onChange,b=e.onPaste,_=e.onCompositionStart,w=e.onCompositionEnd,k=e.open,E=e.attrs,S=s||t.createElement("input",null),T=S,C=T.ref,I=T.props,P=I.onKeyDown,A=I.onChange,N=I.onMouseDown,R=I.onCompositionStart,O=I.onCompositionEnd,M=I.style;return z(S.props),S=t.cloneElement(S,x(x(x({type:"search"},I),{},{id:a,ref:Tt(n,C),disabled:u,tabIndex:c,autoComplete:f||"off",autoFocus:l,className:wt()("".concat(o,"-selection-search-input"),null===(r=S)||void 0===r||null===(i=r.props)||void 0===i?void 0:i.className),role:"combobox","aria-expanded":k,"aria-haspopup":"listbox","aria-owns":"".concat(a,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(a,"_list"),"aria-activedescendant":d},E),{},{value:h?p:"",maxLength:v,readOnly:!h,unselectable:h?null:"on",style:x(x({},M),{},{opacity:h?null:0}),onKeyDown:function(e){m(e),P&&P(e)},onMouseDown:function(e){g(e),N&&N(e)},onChange:function(e){y(e),A&&A(e)},onCompositionStart:function(e){_(e),R&&R(e)},onCompositionEnd:function(e){w(e),O&&O(e)},onPaste:b}))},vie=t.forwardRef(pie);vie.displayName="Input";var mie=vie;function gie(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}var yie="undefined"!==typeof window&&window.document&&window.document.documentElement;function bie(e){return["string","number"].includes(v(e))}function _ie(e){var t=void 0;return e&&(bie(e.title)?t=e.title.toString():bie(e.label)&&(t=e.label.toString())),t}function wie(e){var t;return null!==(t=e.key)&&void 0!==t?t:e.value}var kie=function(e){e.preventDefault(),e.stopPropagation()},xie=function(e){var n,r,i=e.id,o=e.prefixCls,a=e.values,s=e.open,u=e.searchValue,l=e.autoClearSearchValue,f=e.inputRef,h=e.placeholder,d=e.disabled,p=e.mode,v=e.showSearch,m=e.autoFocus,g=e.autoComplete,y=e.activeDescendantId,b=e.tabIndex,_=e.removeIcon,k=e.maxTagCount,x=e.maxTagTextLength,E=e.maxTagPlaceholder,S=void 0===E?function(e){return"+ ".concat(e.length," ...")}:E,T=e.tagRender,C=e.onToggleOpen,I=e.onRemove,P=e.onInputChange,A=e.onInputPaste,N=e.onInputKeyDown,R=e.onInputMouseDown,O=e.onInputCompositionStart,M=e.onInputCompositionEnd,D=t.useRef(null),L=c((0,t.useState)(0),2),F=L[0],j=L[1],z=c((0,t.useState)(!1),2),B=z[0],V=z[1],U="".concat(o,"-selection"),H=s||"multiple"===p&&!1===l||"tags"===p?u:"",q="tags"===p||"multiple"===p&&!1===l||v&&(s||B);function W(e,n,r,i,o){return t.createElement("span",{className:wt()("".concat(U,"-item"),w({},"".concat(U,"-item-disabled"),r)),title:_ie(e)},t.createElement("span",{className:"".concat(U,"-item-content")},n),i&&t.createElement(die,{className:"".concat(U,"-item-remove"),onMouseDown:kie,onClick:o,customizeIcon:_},"\xd7"))}n=function(){j(D.current.scrollWidth)},r=[H],yie?t.useLayoutEffect(n,r):t.useEffect(n,r);var K=t.createElement("div",{className:"".concat(U,"-search"),style:{width:F},onFocus:function(){V(!0)},onBlur:function(){V(!1)}},t.createElement(mie,{ref:f,open:s,prefixCls:o,id:i,inputElement:null,disabled:d,autoFocus:m,autoComplete:g,editable:q,activeDescendantId:y,value:H,onKeyDown:N,onMouseDown:R,onChange:P,onPaste:A,onCompositionStart:O,onCompositionEnd:M,tabIndex:b,attrs:Gre(e,!0)}),t.createElement("span",{ref:D,className:"".concat(U,"-search-mirror"),"aria-hidden":!0},H,"\xa0")),G=t.createElement(hie,{prefixCls:"".concat(U,"-overflow"),data:a,renderItem:function(e){var n=e.disabled,r=e.label,i=e.value,o=!d&&!n,a=r;if("number"===typeof x&&("string"===typeof r||"number"===typeof r)){var u=String(a);u.length>x&&(a="".concat(u.slice(0,x),"..."))}var c=function(t){t&&t.stopPropagation(),I(e)};return"function"===typeof T?function(e,n,r,i,o){return t.createElement("span",{onMouseDown:function(e){kie(e),C(!s)}},T({label:n,value:e,disabled:r,closable:i,onClose:o}))}(i,a,n,o,c):W(e,a,n,o,c)},renderRest:function(e){var t="function"===typeof S?S(e):S;return W({title:t},t,!1)},suffix:K,itemKey:wie,maxCount:k});return t.createElement(t.Fragment,null,G,!a.length&&!H&&t.createElement("span",{className:"".concat(U,"-placeholder")},h))},Eie=function(e){var n=e.inputElement,r=e.prefixCls,i=e.id,o=e.inputRef,a=e.disabled,s=e.autoFocus,u=e.autoComplete,l=e.activeDescendantId,f=e.mode,h=e.open,d=e.values,p=e.placeholder,v=e.tabIndex,m=e.showSearch,g=e.searchValue,y=e.activeValue,b=e.maxLength,_=e.onInputKeyDown,w=e.onInputMouseDown,k=e.onInputChange,x=e.onInputPaste,E=e.onInputCompositionStart,S=e.onInputCompositionEnd,T=c(t.useState(!1),2),C=T[0],I=T[1],P="combobox"===f,A=P||m,N=d[0],R=g||"";P&&y&&!C&&(R=y),t.useEffect((function(){P&&I(!1)}),[P,y]);var O=!("combobox"!==f&&!h&&!m)&&!!R,M=_ie(N);return t.createElement(t.Fragment,null,t.createElement("span",{className:"".concat(r,"-selection-search")},t.createElement(mie,{ref:o,prefixCls:r,id:i,open:h,inputElement:n,disabled:a,autoFocus:s,autoComplete:u,editable:A,activeDescendantId:l,value:R,onKeyDown:_,onMouseDown:w,onChange:function(e){I(!0),k(e)},onPaste:x,onCompositionStart:E,onCompositionEnd:S,tabIndex:v,attrs:Gre(e,!0),maxLength:P?b:void 0})),!P&&N&&!O&&t.createElement("span",{className:"".concat(r,"-selection-item"),title:M},N.label),function(){if(N)return null;var e=O?{visibility:"hidden"}:void 0;return t.createElement("span",{className:"".concat(r,"-selection-placeholder"),style:e},p)}())};var Sie=function(e,n){var r=(0,t.useRef)(null),i=(0,t.useRef)(!1),o=e.prefixCls,a=e.open,s=e.mode,u=e.showSearch,l=e.tokenWithEnter,f=e.onSearch,h=e.onSearchSubmit,d=e.onToggleOpen,p=e.onInputKeyDown,v=e.domRef;t.useImperativeHandle(n,(function(){return{focus:function(){r.current.focus()},blur:function(){r.current.blur()}}}));var m=c(Ure(0),2),g=m[0],y=m[1],_=(0,t.useRef)(null),w=function(e){!1!==f(e,!0,i.current)&&d(!0)},k={inputRef:r,onInputKeyDown:function(e){var t,n=e.which;n!==Bre.UP&&n!==Bre.DOWN||e.preventDefault(),p&&p(e),n!==Bre.ENTER||"tags"!==s||i.current||a||null===h||void 0===h||h(e.target.value),t=n,[Bre.ESC,Bre.SHIFT,Bre.BACKSPACE,Bre.TAB,Bre.WIN_KEY,Bre.ALT,Bre.META,Bre.WIN_KEY_RIGHT,Bre.CTRL,Bre.SEMICOLON,Bre.EQUALS,Bre.CAPS_LOCK,Bre.CONTEXT_MENU,Bre.F1,Bre.F2,Bre.F3,Bre.F4,Bre.F5,Bre.F6,Bre.F7,Bre.F8,Bre.F9,Bre.F10,Bre.F11,Bre.F12].includes(t)||d(!0)},onInputMouseDown:function(){y(!0)},onInputChange:function(e){var t=e.target.value;if(l&&_.current&&/[\r\n]/.test(_.current)){var n=_.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");t=t.replace(n,_.current)}_.current=null,w(t)},onInputPaste:function(e){var t=e.clipboardData.getData("text");_.current=t},onInputCompositionStart:function(){i.current=!0},onInputCompositionEnd:function(e){i.current=!1,"combobox"!==s&&w(e.target.value)}},x="multiple"===s||"tags"===s?t.createElement(xie,b({},e,k)):t.createElement(Eie,b({},e,k));return t.createElement("div",{ref:v,className:"".concat(o,"-selector"),onClick:function(e){e.target!==r.current&&(void 0!==document.body.style.msTouchAction?setTimeout((function(){r.current.focus()})):r.current.focus())},onMouseDown:function(e){var t=g();e.target===r.current||t||"combobox"===s||e.preventDefault(),("combobox"===s||u&&t)&&a||(a&&f("",!0,!1),d())}},x)},Tie=t.forwardRef(Sie);Tie.displayName="Selector";var Cie=Tie,Iie=["prefixCls","disabled","visible","children","popupElement","containerWidth","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],Pie=function(e,n){var r=e.prefixCls,i=(e.disabled,e.visible),o=e.children,a=e.popupElement,s=e.containerWidth,u=e.animation,c=e.transitionName,l=e.dropdownStyle,f=e.dropdownClassName,h=e.direction,d=void 0===h?"ltr":h,p=e.placement,v=e.dropdownMatchSelectWidth,m=e.dropdownRender,g=e.dropdownAlign,y=e.getPopupContainer,k=e.empty,E=e.getTriggerDOMNode,S=e.onPopupVisibleChange,T=e.onPopupMouseEnter,C=_(e,Iie),I="".concat(r,"-dropdown"),P=a;m&&(P=m(a));var A=t.useMemo((function(){return function(e){var t=!0===e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}}}}(v)}),[v]),N=u?"".concat(I,"-").concat(u):c,R=t.useRef(null);t.useImperativeHandle(n,(function(){return{getPopupElement:function(){return R.current}}}));var O=x({minWidth:s},l);return"number"===typeof v?O.width=v:v&&(O.width=s),t.createElement(Nc,b({},C,{showAction:S?["click"]:[],hideAction:S?["click"]:[],popupPlacement:p||("rtl"===d?"bottomRight":"bottomLeft"),builtinPlacements:A,prefixCls:I,popupTransitionName:N,popup:t.createElement("div",{ref:R,onMouseEnter:T},P),popupAlign:g,popupVisible:i,getPopupContainer:y,popupClassName:wt()(f,w({},"".concat(I,"-empty"),k)),popupStyle:O,getTriggerDOMNode:E,onPopupVisibleChange:S}),o)},Aie=t.forwardRef(Pie);Aie.displayName="SelectTrigger";var Nie=Aie;function Rie(e,t){var n,r=e.key;return"value"in e&&(n=e.value),null!==r&&void 0!==r?r:void 0!==n?n:"rc-index-key-".concat(t)}function Oie(e,t){var n=e||{};return{label:n.label||(t?"children":"label"),value:n.value||"value",options:n.options||"options"}}function Mie(e){var t=x({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return V(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}var Die=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","showArrow","inputIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],Lie=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function Fie(e){return"tags"===e||"multiple"===e}var jie=t.forwardRef((function(e,n){var r,i,o=e.id,a=e.prefixCls,s=e.className,u=e.showSearch,l=e.tagRender,f=e.direction,h=e.omitDomProps,d=e.displayValues,p=e.onDisplayValuesChange,m=e.emptyOptions,g=e.notFoundContent,y=void 0===g?"Not Found":g,k=e.onClear,E=e.mode,T=e.disabled,C=e.loading,I=e.getInputElement,P=e.getRawInputElement,A=e.open,N=e.defaultOpen,R=e.onDropdownVisibleChange,O=e.activeValue,M=e.onActiveValueChange,D=e.activeDescendantId,L=e.searchValue,F=e.autoClearSearchValue,j=e.onSearch,z=e.onSearchSplit,B=e.tokenSeparators,V=e.allowClear,U=e.showArrow,H=e.inputIcon,q=e.clearIcon,W=e.OptionList,K=e.animation,G=e.transitionName,Z=e.dropdownStyle,Y=e.dropdownClassName,Q=e.dropdownMatchSelectWidth,$=e.dropdownRender,X=e.dropdownAlign,J=e.placement,ee=e.getPopupContainer,te=e.showAction,ne=void 0===te?[]:te,re=e.onFocus,ie=e.onBlur,oe=e.onKeyUp,ae=e.onKeyDown,se=e.onMouseDown,ue=_(e,Die),ce=Fie(E),le=(void 0!==u?u:ce)||"combobox"===E,fe=x({},ue);Lie.forEach((function(e){delete fe[e]})),null===h||void 0===h||h.forEach((function(e){delete fe[e]}));var he=c(t.useState(!1),2),de=he[0],pe=he[1];t.useEffect((function(){pe(zs())}),[]);var ve=t.useRef(null),me=t.useRef(null),ge=t.useRef(null),ye=t.useRef(null),be=t.useRef(null),_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=c(t.useState(!1),2),r=n[0],i=n[1],o=t.useRef(null),a=function(){window.clearTimeout(o.current)};t.useEffect((function(){return a}),[]);var s=function(t,n){a(),o.current=window.setTimeout((function(){i(t),n&&n()}),e)};return[r,s,a]}(),ke=c(_e,3),xe=ke[0],Ee=ke[1],Se=ke[2];t.useImperativeHandle(n,(function(){var e,t;return{focus:null===(e=ye.current)||void 0===e?void 0:e.focus,blur:null===(t=ye.current)||void 0===t?void 0:t.blur,scrollTo:function(e){var t;return null===(t=be.current)||void 0===t?void 0:t.scrollTo(e)}}}));var Te=t.useMemo((function(){var e;if("combobox"!==E)return L;var t=null===(e=d[0])||void 0===e?void 0:e.value;return"string"===typeof t||"number"===typeof t?String(t):""}),[L,E,d]),Ce="combobox"===E&&"function"===typeof I&&I()||null,Ie="function"===typeof P&&P(),Pe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Et((function(){return Tt.apply(void 0,t)}),t,(function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))}))}(me,null===Ie||void 0===Ie||null===(r=Ie.props)||void 0===r?void 0:r.ref),Ae=c(Vc(void 0,{defaultValue:N,value:A}),2),Ne=Ae[0],Re=Ae[1],Oe=Ne,Me=!y&&m;(T||Me&&Oe&&"combobox"===E)&&(Oe=!1);var De=!Me&&Oe,Le=t.useCallback((function(e){var t=void 0!==e?e:!Oe;T||(Re(t),Oe!==t&&(null===R||void 0===R||R(t)))}),[T,Oe,Re,R]),Fe=t.useMemo((function(){return(B||[]).some((function(e){return["\n","\r\n"].includes(e)}))}),[B]),je=function(e,t,n){var r=!0,i=e;null===M||void 0===M||M(null);var o=n?null:function(e,t){if(!t||!t.length)return null;var n=!1,r=function e(t,r){var i=we(r),o=i[0],a=i.slice(1);if(!o)return[t];var s=t.split(o);return n=n||s.length>1,s.reduce((function(t,n){return[].concat(S(t),S(e(n,a)))}),[]).filter((function(e){return e}))}(e,t);return n?r:null}(e,B);return"combobox"!==E&&o&&(i="",null===z||void 0===z||z(o),Le(!1),r=!1),j&&Te!==i&&j(i,{source:t?"typing":"effect"}),r};t.useEffect((function(){Oe||ce||"combobox"===E||je("",!1,!1)}),[Oe]),t.useEffect((function(){Ne&&T&&Re(!1),T&&Ee(!1)}),[T]);var ze=c(Ure(),2),Be=ze[0],Ve=ze[1],Ue=t.useRef(!1),He=[];t.useEffect((function(){return function(){He.forEach((function(e){return clearTimeout(e)})),He.splice(0,He.length)}}),[]);var qe,We=c(t.useState(null),2),Ke=We[0],Ge=We[1],Ze=c(t.useState({}),2)[1];rs((function(){if(De){var e,t=Math.ceil(null===(e=ve.current)||void 0===e?void 0:e.offsetWidth);Ke===t||Number.isNaN(t)||Ge(t)}}),[De]),Ie&&(qe=function(e){Le(e)}),function(e,n,r,i){var o=t.useRef(null);o.current={open:n,triggerOpen:r,customizedTrigger:i},t.useEffect((function(){function t(t){var n;if(null===(n=o.current)||void 0===n||!n.customizedTrigger){var r=t.target;r.shadowRoot&&t.composed&&(r=t.composedPath()[0]||r),o.current.open&&e().filter((function(e){return e})).every((function(e){return!e.contains(r)&&e!==r}))&&o.current.triggerOpen(!1)}}return window.addEventListener("mousedown",t),function(){return window.removeEventListener("mousedown",t)}}),[])}((function(){var e;return[ve.current,null===(e=ge.current)||void 0===e?void 0:e.getPopupElement()]}),De,Le,!!Ie);var Ye,Qe,$e=t.useMemo((function(){return x(x({},e),{},{notFoundContent:y,open:Oe,triggerOpen:De,id:o,showSearch:le,multiple:ce,toggleOpen:Le})}),[e,y,De,Oe,o,le,ce,Le]),Xe=void 0!==U?U:C||!ce&&"combobox"!==E;Xe&&(Ye=t.createElement(die,{className:wt()("".concat(a,"-arrow"),w({},"".concat(a,"-arrow-loading"),C)),customizeIcon:H,customizeIconProps:{loading:C,searchValue:Te,open:Oe,focused:xe,showSearch:le}}));T||!V||!d.length&&!Te||"combobox"===E&&""===Te||(Qe=t.createElement(die,{className:"".concat(a,"-clear"),onMouseDown:function(){null===k||void 0===k||k(),p([],{type:"clear",values:d}),je("",!1,!1)},customizeIcon:q},"\xd7"));var Je,et=t.createElement(W,{ref:be}),tt=wt()(a,s,(w(i={},"".concat(a,"-focused"),xe),w(i,"".concat(a,"-multiple"),ce),w(i,"".concat(a,"-single"),!ce),w(i,"".concat(a,"-allow-clear"),V),w(i,"".concat(a,"-show-arrow"),Xe),w(i,"".concat(a,"-disabled"),T),w(i,"".concat(a,"-loading"),C),w(i,"".concat(a,"-open"),Oe),w(i,"".concat(a,"-customize-input"),Ce),w(i,"".concat(a,"-show-search"),le),i)),nt=t.createElement(Nie,{ref:ge,disabled:T,prefixCls:a,visible:De,popupElement:et,containerWidth:Ke,animation:K,transitionName:G,dropdownStyle:Z,dropdownClassName:Y,direction:f,dropdownMatchSelectWidth:Q,dropdownRender:$,dropdownAlign:X,placement:J,getPopupContainer:ee,empty:m,getTriggerDOMNode:function(){return me.current},onPopupVisibleChange:qe,onPopupMouseEnter:function(){Ze({})}},Ie?t.cloneElement(Ie,{ref:Pe}):t.createElement(Cie,b({},e,{domRef:me,prefixCls:a,inputElement:Ce,ref:ye,id:o,showSearch:le,autoClearSearchValue:F,mode:E,activeDescendantId:D,tagRender:l,values:d,open:Oe,onToggleOpen:Le,activeValue:O,searchValue:Te,onSearch:je,onSearchSubmit:function(e){e&&e.trim()&&j(e,{source:"submit"})},onRemove:function(e){var t=d.filter((function(t){return t!==e}));p(t,{type:"remove",values:[e]})},tokenWithEnter:Fe})));return Je=Ie?nt:t.createElement("div",b({className:tt},fe,{ref:ve,onMouseDown:function(e){var t,n=e.target,r=null===(t=ge.current)||void 0===t?void 0:t.getPopupElement();if(r&&r.contains(n)){var i=setTimeout((function(){var e,t=He.indexOf(i);-1!==t&&He.splice(t,1),Se(),de||r.contains(document.activeElement)||null===(e=ye.current)||void 0===e||e.focus()}));He.push(i)}for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];null===se||void 0===se||se.apply(void 0,[e].concat(a))},onKeyDown:function(e){var t,n=Be(),r=e.which;if(r===Bre.ENTER&&("combobox"!==E&&e.preventDefault(),Oe||Le(!0)),Ve(!!Te),r===Bre.BACKSPACE&&!n&&ce&&!Te&&d.length){for(var i=S(d),o=null,a=i.length-1;a>=0;a-=1){var s=i[a];if(!s.disabled){i.splice(a,1),o=s;break}}o&&p(i,{type:"remove",values:[o]})}for(var u=arguments.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=arguments[l];Oe&&be.current&&(t=be.current).onKeyDown.apply(t,[e].concat(c)),null===ae||void 0===ae||ae.apply(void 0,[e].concat(c))},onKeyUp:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i;Oe&&be.current&&(i=be.current).onKeyUp.apply(i,[e].concat(n)),null===oe||void 0===oe||oe.apply(void 0,[e].concat(n))},onFocus:function(){Ee(!0),T||(re&&!Ue.current&&re.apply(void 0,arguments),ne.includes("focus")&&Le(!0)),Ue.current=!0},onBlur:function(){Ee(!1,(function(){Ue.current=!1,Le(!1)})),T||(Te&&("tags"===E?j(Te,{source:"submit"}):"multiple"===E&&j("",{source:"blur"})),ie&&ie.apply(void 0,arguments))}}),xe&&!Oe&&t.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(d.map((function(e){var t=e.label,n=e.value;return["number","string"].includes(v(t))?t:n})).join(", "))),nt,Ye,Qe),t.createElement(Vre.Provider,{value:$e},Je)}));var zie=jie;function Bie(e,t){return gie(e).join("").toUpperCase().includes(t)}var Vie=0,Uie=It();function Hie(e){var n=c(t.useState(),2),r=n[0],i=n[1];return t.useEffect((function(){i("rc_select_".concat(function(){var e;return Uie?(e=Vie,Vie+=1):e="TEST_OR_SSR",e}()))}),[]),e||r}var qie=["children","value"],Wie=["children"];function Kie(e){var t=e,n=t.key,r=t.props,i=r.children,o=r.value;return x({key:n,value:void 0!==o?o:n,children:i},_(r,qie))}function Gie(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return F(e).map((function(e,r){if(!t.isValidElement(e)||!e.type)return null;var i=e,o=i.type.isSelectOptGroup,a=i.key,s=i.props,u=s.children,c=_(s,Wie);return n||!o?Kie(e):x(x({key:"__RC_SELECT_GRP__".concat(null===a?r:a,"__"),label:a},c),{},{options:Gie(u)})})).filter((function(e){return e}))}function Zie(e,n,r,i,o){return t.useMemo((function(){var t=e;!e&&(t=Gie(n));var a=new Map,s=new Map,u=function(e,t,n){n&&"string"===typeof n&&e.set(t[n],t)};return function e(t){for(var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=0;c<t.length;c+=1){var l=t[c];!l[r.options]||n?(a.set(l[r.value],l),u(s,l,r.label),u(s,l,i),u(s,l,o)):e(l[r.options],!0)}}(t),{options:t,valueOptions:a,labelOptions:s}}),[e,n,r,i,o])}function Yie(e){var n=t.useRef();n.current=e;var r=t.useCallback((function(){return n.current.apply(n,arguments)}),[]);return r}var Qie=function(){return null};Qie.isSelectOptGroup=!0;var $ie=Qie,Xie=function(){return null};Xie.isSelectOption=!0;var Jie=Xie,eoe=t.forwardRef((function(e,n){var r=e.height,i=e.offset,o=e.children,a=e.prefixCls,s=e.onInnerResize,u={},c={display:"flex",flexDirection:"column"};return void 0!==i&&(u={height:r,position:"relative",overflow:"hidden"},c=x(x({},c),{},{transform:"translateY(".concat(i,"px)"),position:"absolute",left:0,right:0,top:0})),t.createElement("div",{style:u},t.createElement(mh,{onResize:function(e){e.offsetHeight&&s&&s()}},t.createElement("div",{style:c,className:wt()(w({},"".concat(a,"-holder-inner"),a)),ref:n},o)))}));eoe.displayName="Filler";var toe=eoe;function noe(e){return"touches"in e?e.touches[0].pageY:e.pageY}var roe=function(e){N(r,e);var n=D(r);function r(){var e;T(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o))).moveRaf=null,e.scrollbarRef=t.createRef(),e.thumbRef=t.createRef(),e.visibleTimeout=null,e.state={dragging:!1,pageY:null,startTop:null,visible:!1},e.delayHidden=function(){clearTimeout(e.visibleTimeout),e.setState({visible:!0}),e.visibleTimeout=setTimeout((function(){e.setState({visible:!1})}),2e3)},e.onScrollbarTouchStart=function(e){e.preventDefault()},e.onContainerMouseDown=function(e){e.stopPropagation(),e.preventDefault()},e.patchEvents=function(){window.addEventListener("mousemove",e.onMouseMove),window.addEventListener("mouseup",e.onMouseUp),e.thumbRef.current.addEventListener("touchmove",e.onMouseMove),e.thumbRef.current.addEventListener("touchend",e.onMouseUp)},e.removeEvents=function(){var t;window.removeEventListener("mousemove",e.onMouseMove),window.removeEventListener("mouseup",e.onMouseUp),null===(t=e.scrollbarRef.current)||void 0===t||t.removeEventListener("touchstart",e.onScrollbarTouchStart),e.thumbRef.current&&(e.thumbRef.current.removeEventListener("touchstart",e.onMouseDown),e.thumbRef.current.removeEventListener("touchmove",e.onMouseMove),e.thumbRef.current.removeEventListener("touchend",e.onMouseUp)),rn.cancel(e.moveRaf)},e.onMouseDown=function(t){var n=e.props.onStartMove;e.setState({dragging:!0,pageY:noe(t),startTop:e.getTop()}),n(),e.patchEvents(),t.stopPropagation(),t.preventDefault()},e.onMouseMove=function(t){var n=e.state,r=n.dragging,i=n.pageY,o=n.startTop,a=e.props.onScroll;if(rn.cancel(e.moveRaf),r){var s=o+(noe(t)-i),u=e.getEnableScrollRange(),c=e.getEnableHeightRange(),l=c?s/c:0,f=Math.ceil(l*u);e.moveRaf=rn((function(){a(f)}))}},e.onMouseUp=function(){var t=e.props.onStopMove;e.setState({dragging:!1}),t(),e.removeEvents()},e.getSpinHeight=function(){var t=e.props,n=t.height,r=n/t.count*10;return r=Math.max(r,20),r=Math.min(r,n/2),Math.floor(r)},e.getEnableScrollRange=function(){var t=e.props;return t.scrollHeight-t.height||0},e.getEnableHeightRange=function(){return e.props.height-e.getSpinHeight()||0},e.getTop=function(){var t=e.props.scrollTop,n=e.getEnableScrollRange(),r=e.getEnableHeightRange();return 0===t||0===n?0:t/n*r},e.showScroll=function(){var t=e.props,n=t.height;return t.scrollHeight>n},e}return I(r,[{key:"componentDidMount",value:function(){this.scrollbarRef.current.addEventListener("touchstart",this.onScrollbarTouchStart),this.thumbRef.current.addEventListener("touchstart",this.onMouseDown)}},{key:"componentDidUpdate",value:function(e){e.scrollTop!==this.props.scrollTop&&this.delayHidden()}},{key:"componentWillUnmount",value:function(){this.removeEvents(),clearTimeout(this.visibleTimeout)}},{key:"render",value:function(){var e=this.state,n=e.dragging,r=e.visible,i=this.props.prefixCls,o=this.getSpinHeight(),a=this.getTop(),s=this.showScroll(),u=s&&r;return t.createElement("div",{ref:this.scrollbarRef,className:wt()("".concat(i,"-scrollbar"),w({},"".concat(i,"-scrollbar-show"),s)),style:{width:8,top:0,bottom:0,right:0,position:"absolute",display:u?null:"none"},onMouseDown:this.onContainerMouseDown,onMouseMove:this.delayHidden},t.createElement("div",{ref:this.thumbRef,className:wt()("".concat(i,"-scrollbar-thumb"),w({},"".concat(i,"-scrollbar-thumb-moving"),n)),style:{width:"100%",height:o,top:a,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"},onMouseDown:this.onMouseDown}))}}]),r}(t.Component);function ioe(e){var n=e.children,r=e.setRef,i=t.useCallback((function(e){r(e)}),[]);return t.cloneElement(n,{ref:i})}var ooe=function(){function e(){T(this,e),this.maps=void 0,this.maps=Object.create(null)}return I(e,[{key:"set",value:function(e,t){this.maps[e]=t}},{key:"get",value:function(e){return this.maps[e]}}]),e}();function aoe(e,n,r){var i=c(t.useState(e),2),o=i[0],a=i[1],s=c(t.useState(null),2),u=s[0],l=s[1];return t.useEffect((function(){var t=function(e,t,n){var r,i,o=e.length,a=t.length;if(0===o&&0===a)return null;o<a?(r=e,i=t):(r=t,i=e);var s={__EMPTY_ITEM__:!0};function u(e){return void 0!==e?n(e):s}for(var c=null,l=1!==Math.abs(o-a),f=0;f<i.length;f+=1){var h=u(r[f]);if(h!==u(i[f])){c=f,l=l||h!==u(i[f+1]);break}}return null===c?null:{index:c,multiple:l}}(o||[],e||[],n);void 0!==(null===t||void 0===t?void 0:t.index)&&(null===r||void 0===r||r(t.index),l(e[t.index])),a(e)}),[e]),[u]}var soe="object"===("undefined"===typeof navigator?"undefined":v(navigator))&&/Firefox/i.test(navigator.userAgent),uoe=function(e,n){var r=(0,t.useRef)(!1),i=(0,t.useRef)(null);function o(){clearTimeout(i.current),r.current=!0,i.current=setTimeout((function(){r.current=!1}),50)}var a=(0,t.useRef)({top:e,bottom:n});return a.current.top=e,a.current.bottom=n,function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e<0&&a.current.top||e>0&&a.current.bottom;return t&&n?(clearTimeout(i.current),r.current=!1):n&&!r.current||o(),!r.current&&n}};var coe=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","component","onScroll","onVisibleChange"],loe=[],foe={overflowY:"auto",overflowAnchor:"none"};function hoe(e,n){var r=e.prefixCls,i=void 0===r?"rc-virtual-list":r,o=e.className,a=e.height,s=e.itemHeight,u=e.fullHeight,l=void 0===u||u,f=e.style,h=e.data,d=e.children,p=e.itemKey,m=e.virtual,g=e.component,y=void 0===g?"div":g,k=e.onScroll,E=e.onVisibleChange,S=_(e,coe),T=!(!1===m||!a||!s),C=T&&h&&s*h.length>a,I=c((0,t.useState)(0),2),P=I[0],A=I[1],N=c((0,t.useState)(!1),2),R=N[0],O=N[1],M=wt()(i,o),D=h||loe,L=(0,t.useRef)(),F=(0,t.useRef)(),j=(0,t.useRef)(),z=t.useCallback((function(e){return"function"===typeof p?p(e):null===e||void 0===e?void 0:e[p]}),[p]),B={getKey:z};function V(e){A((function(t){var n=function(e){var t=e;Number.isNaN(re.current)||(t=Math.min(t,re.current));return t=Math.max(t,0)}("function"===typeof e?e(t):e);return L.current.scrollTop=n,n}))}var U=(0,t.useRef)({start:0,end:D.length}),H=(0,t.useRef)(),q=c(aoe(D,z),1)[0];H.current=q;var W=function(e,n,r){var i=c(t.useState(0),2),o=i[0],a=i[1],s=(0,t.useRef)(new Map),u=(0,t.useRef)(new ooe),l=(0,t.useRef)();function f(){rn.cancel(l.current)}function h(){f(),l.current=rn((function(){s.current.forEach((function(e,t){if(e&&e.offsetParent){var n=xt(e),r=n.offsetHeight;u.current.get(t)!==r&&u.current.set(t,n.offsetHeight)}})),a((function(e){return e+1}))}))}return(0,t.useEffect)((function(){return f}),[]),[function(t,i){var o=e(t),a=s.current.get(o);i?(s.current.set(o,i),h()):s.current.delete(o),!a!==!i&&(i?null===n||void 0===n||n(t):null===r||void 0===r||r(t))},h,u.current,o]}(z,null,null),K=c(W,4),G=K[0],Z=K[1],Y=K[2],Q=K[3],$=t.useMemo((function(){if(!T)return{scrollHeight:void 0,start:0,end:D.length-1,offset:void 0};var e;if(!C)return{scrollHeight:(null===(e=F.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:D.length-1,offset:void 0};for(var t,n,r,i=0,o=D.length,u=0;u<o;u+=1){var c=D[u],l=z(c),f=Y.get(l),h=i+(void 0===f?s:f);h>=P&&void 0===t&&(t=u,n=i),h>P+a&&void 0===r&&(r=u),i=h}return void 0===t&&(t=0,n=0,r=Math.ceil(a/s)),void 0===r&&(r=D.length-1),{scrollHeight:i,start:t,end:r=Math.min(r+1,D.length),offset:n}}),[C,T,P,D,Q,a]),X=$.scrollHeight,J=$.start,ee=$.end,te=$.offset;U.current.start=J,U.current.end=ee;var ne=X-a,re=(0,t.useRef)(ne);re.current=ne;var ie=P<=0,oe=P>=ne,ae=uoe(ie,oe);var se=function(e,n,r,i){var o=(0,t.useRef)(0),a=(0,t.useRef)(null),s=(0,t.useRef)(null),u=(0,t.useRef)(!1),c=uoe(n,r);return[function(t){if(e){rn.cancel(a.current);var n=t.deltaY;o.current+=n,s.current=n,c(n)||(soe||t.preventDefault(),a.current=rn((function(){var e=u.current?10:1;i(o.current*e),o.current=0})))}},function(t){e&&(u.current=t.detail===s.current)}]}(T,ie,oe,(function(e){V((function(t){return t+e}))})),ue=c(se,2),ce=ue[0],le=ue[1];!function(e,n,r){var i,o=(0,t.useRef)(!1),a=(0,t.useRef)(0),s=(0,t.useRef)(null),u=(0,t.useRef)(null),c=function(e){if(o.current){var t=Math.ceil(e.touches[0].pageY),n=a.current-t;a.current=t,r(n)&&e.preventDefault(),clearInterval(u.current),u.current=setInterval((function(){(!r(n*=.9333333333333333,!0)||Math.abs(n)<=.1)&&clearInterval(u.current)}),16)}},l=function(){o.current=!1,i()},f=function(e){i(),1!==e.touches.length||o.current||(o.current=!0,a.current=Math.ceil(e.touches[0].pageY),s.current=e.target,s.current.addEventListener("touchmove",c),s.current.addEventListener("touchend",l))};i=function(){s.current&&(s.current.removeEventListener("touchmove",c),s.current.removeEventListener("touchend",l))},rs((function(){return e&&n.current.addEventListener("touchstart",f),function(){var e;null===(e=n.current)||void 0===e||e.removeEventListener("touchstart",f),i(),clearInterval(u.current)}}),[e])}(T,L,(function(e,t){return!ae(e,t)&&(ce({preventDefault:function(){},deltaY:e}),!0)})),rs((function(){function e(e){T&&e.preventDefault()}return L.current.addEventListener("wheel",ce),L.current.addEventListener("DOMMouseScroll",le),L.current.addEventListener("MozMousePixelScroll",e),function(){L.current&&(L.current.removeEventListener("wheel",ce),L.current.removeEventListener("DOMMouseScroll",le),L.current.removeEventListener("MozMousePixelScroll",e))}}),[T]);var fe=function(e,n,r,i,o,a,s,u){var c=t.useRef();return function(t){if(null!==t&&void 0!==t){if(rn.cancel(c.current),"number"===typeof t)s(t);else if(t&&"object"===v(t)){var l,f=t.align;l="index"in t?t.index:n.findIndex((function(e){return o(e)===t.key}));var h=t.offset,d=void 0===h?0:h;!function t(u,h){if(!(u<0)&&e.current){var p=e.current.clientHeight,v=!1,m=h;if(p){for(var g=h||f,y=0,b=0,_=0,w=Math.min(n.length,l),k=0;k<=w;k+=1){var x=o(n[k]);b=y;var E=r.get(x);y=_=b+(void 0===E?i:E),k===l&&void 0===E&&(v=!0)}var S=null;switch(g){case"top":S=b-d;break;case"bottom":S=_-p+d;break;default:var T=e.current.scrollTop;b<T?m="top":_>T+p&&(m="bottom")}null!==S&&S!==e.current.scrollTop&&s(S)}c.current=rn((function(){v&&a(),t(u-1,m)}))}}(3)}}else u()}}(L,D,Y,s,z,Z,V,(function(){var e;null===(e=j.current)||void 0===e||e.delayHidden()}));t.useImperativeHandle(n,(function(){return{scrollTo:fe}})),rs((function(){if(E){var e=D.slice(J,ee+1);E(e,D)}}),[J,ee,D]);var he=function(e,n,r,i,o,a){var s=a.getKey;return e.slice(n,r+1).map((function(e,r){var a=o(e,n+r,{}),u=s(e);return t.createElement(ioe,{key:u,setRef:function(t){return i(e,t)}},a)}))}(D,J,ee,G,d,B),de=null;return a&&(de=x(w({},l?"height":"maxHeight",a),foe),T&&(de.overflowY="hidden",R&&(de.pointerEvents="none"))),t.createElement("div",b({style:x(x({},f),{},{position:"relative"}),className:M},S),t.createElement(y,{className:"".concat(i,"-holder"),style:de,ref:L,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==P&&V(t),null===k||void 0===k||k(e)}},t.createElement(toe,{prefixCls:i,height:X,offset:te,onInnerResize:Z,ref:F},he)),T&&t.createElement(roe,{ref:j,prefixCls:i,scrollTop:P,height:a,scrollHeight:X,count:D.length,onScroll:function(e){V(e)},onStartMove:function(){O(!0)},onStopMove:function(){O(!1)}}))}var doe=t.forwardRef(hoe);doe.displayName="List";var poe=doe;var voe=t.createContext(null),moe=["disabled","title","children","style","className"];function goe(e){return"string"===typeof e||"number"===typeof e}var yoe=function(e,n){var r=t.useContext(Vre),i=r.prefixCls,o=r.id,a=r.open,s=r.multiple,u=r.mode,l=r.searchValue,f=r.toggleOpen,h=r.notFoundContent,d=r.onPopupScroll,p=t.useContext(voe),v=p.flattenOptions,m=p.onActiveValue,g=p.defaultActiveFirstOption,y=p.onSelect,k=p.menuItemSelectedIcon,x=p.rawValues,E=p.fieldNames,T=p.virtual,C=p.listHeight,I=p.listItemHeight,P="".concat(i,"-item"),A=Et((function(){return v}),[a,v],(function(e,t){return t[0]&&e[1]!==t[1]})),N=t.useRef(null),R=function(e){e.preventDefault()},O=function(e){N.current&&N.current.scrollTo("number"===typeof e?{index:e}:e)},M=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=A.length,r=0;r<n;r+=1){var i=(e+r*t+n)%n,o=A[i],a=o.group,s=o.data;if(!a&&!s.disabled)return i}return-1},D=c(t.useState((function(){return M(0)})),2),L=D[0],F=D[1],j=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];F(e);var n={source:t?"keyboard":"mouse"},r=A[e];r?m(r.value,e,n):m(null,-1,n)};(0,t.useEffect)((function(){j(!1!==g?M(0):-1)}),[A.length,l]);var z=t.useCallback((function(e){return x.has(e)&&"combobox"!==u}),[u,S(x).toString(),x.size]);(0,t.useEffect)((function(){var e,t=setTimeout((function(){if(!s&&a&&1===x.size){var e=Array.from(x)[0],t=A.findIndex((function(t){return t.data.value===e}));-1!==t&&(j(t),O(t))}}));a&&(null===(e=N.current)||void 0===e||e.scrollTo(void 0));return function(){return clearTimeout(t)}}),[a,l]);var B=function(e){void 0!==e&&y(e,{selected:!x.has(e)}),s||f(!1)};if(t.useImperativeHandle(n,(function(){return{onKeyDown:function(e){var t=e.which,n=e.ctrlKey;switch(t){case Bre.N:case Bre.P:case Bre.UP:case Bre.DOWN:var r=0;if(t===Bre.UP?r=-1:t===Bre.DOWN?r=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&n&&(t===Bre.N?r=1:t===Bre.P&&(r=-1)),0!==r){var i=M(L+r,r);O(i),j(i,!0)}break;case Bre.ENTER:var o=A[L];o&&!o.data.disabled?B(o.value):B(void 0),a&&e.preventDefault();break;case Bre.ESC:f(!1),a&&e.stopPropagation()}},onKeyUp:function(){},scrollTo:function(e){O(e)}}})),0===A.length)return t.createElement("div",{role:"listbox",id:"".concat(o,"_list"),className:"".concat(P,"-empty"),onMouseDown:R},h);var V=Object.keys(E).map((function(e){return E[e]})),U=function(e){return e.label},H=function(e){var n=A[e];if(!n)return null;var r=n.data||{},i=r.value,a=n.group,s=Gre(r,!0),u=U(n);return n?t.createElement("div",b({"aria-label":"string"!==typeof u||a?null:u},s,{key:e,role:a?"presentation":"option",id:"".concat(o,"_list_").concat(e),"aria-selected":z(i)}),i):null};return t.createElement(t.Fragment,null,t.createElement("div",{role:"listbox",id:"".concat(o,"_list"),style:{height:0,width:0,overflow:"hidden"}},H(L-1),H(L),H(L+1)),t.createElement(poe,{itemKey:"key",ref:N,data:A,height:C,itemHeight:I,fullHeight:!1,onMouseDown:R,onScroll:d,virtual:T},(function(e,n){var r,i=e.group,o=e.groupOption,a=e.data,s=e.label,u=e.value,c=a.key;if(i){var l,f=null!==(l=a.title)&&void 0!==l?l:goe(s)?s.toString():void 0;return t.createElement("div",{className:wt()(P,"".concat(P,"-group")),title:f},void 0!==s?s:c)}var h=a.disabled,d=a.title,p=(a.children,a.style),v=a.className,m=pt(_(a,moe),V),g=z(u),y="".concat(P,"-option"),x=wt()(P,y,v,(w(r={},"".concat(y,"-grouped"),o),w(r,"".concat(y,"-active"),L===n&&!h),w(r,"".concat(y,"-disabled"),h),w(r,"".concat(y,"-selected"),g),r)),E=U(e),S=!k||"function"===typeof k||g,T="number"===typeof E?E:E||u,C=goe(T)?T.toString():void 0;return void 0!==d&&(C=d),t.createElement("div",b({},Gre(m),{"aria-selected":g,className:x,title:C,onMouseMove:function(){L===n||h||j(n)},onClick:function(){h||B(u)},style:p}),t.createElement("div",{className:"".concat(y,"-content")},T),t.isValidElement(k)||g,S&&t.createElement(die,{className:"".concat(P,"-option-state"),customizeIcon:k,customizeIconProps:{isSelected:g}},g?"\u2713":null))})))},boe=t.forwardRef(yoe);boe.displayName="OptionList";var _oe=boe;var woe=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],koe=["inputValue"];var xoe=t.forwardRef((function(e,n){var r=e.id,i=e.mode,o=e.prefixCls,a=void 0===o?"rc-select":o,s=e.backfill,u=e.fieldNames,l=e.inputValue,f=e.searchValue,h=e.onSearch,d=e.autoClearSearchValue,p=void 0===d||d,m=e.onSelect,g=e.onDeselect,y=e.dropdownMatchSelectWidth,k=void 0===y||y,E=e.filterOption,T=e.filterSort,C=e.optionFilterProp,I=e.optionLabelProp,P=e.options,A=e.children,N=e.defaultActiveFirstOption,R=e.menuItemSelectedIcon,O=e.virtual,M=e.listHeight,D=void 0===M?200:M,L=e.listItemHeight,F=void 0===L?20:L,j=e.value,z=e.defaultValue,B=e.labelInValue,V=e.onChange,U=_(e,woe),H=Hie(r),q=Fie(i),W=!(P||!A),K=t.useMemo((function(){return(void 0!==E||"combobox"!==i)&&E}),[E,i]),G=t.useMemo((function(){return Oie(u,W)}),[JSON.stringify(u),W]),Z=c(Vc("",{value:void 0!==f?f:l,postState:function(e){return e||""}}),2),Y=Z[0],Q=Z[1],$=Zie(P,A,G,C,I),X=$.valueOptions,J=$.labelOptions,ee=$.options,te=t.useCallback((function(e){return gie(e).map((function(e){var t,n,r,i,o,a;(function(e){return!e||"object"!==v(e)})(e)?t=e:(r=e.key,n=e.label,t=null!==(a=e.value)&&void 0!==a?a:r);var s,u=X.get(t);u&&(void 0===n&&(n=null===u||void 0===u?void 0:u[I||G.label]),void 0===r&&(r=null!==(s=null===u||void 0===u?void 0:u.key)&&void 0!==s?s:t),i=null===u||void 0===u?void 0:u.disabled,o=null===u||void 0===u?void 0:u.title);return{label:n,value:t,key:r,disabled:i,title:o}}))}),[G,I,X]),ne=c(Vc(z,{value:j}),2),re=ne[0],ie=ne[1],oe=function(e,n){var r=t.useRef({values:new Map,options:new Map}),i=t.useMemo((function(){var t=r.current,i=t.values,o=t.options,a=e.map((function(e){var t;return void 0===e.label?x(x({},e),{},{label:null===(t=i.get(e.value))||void 0===t?void 0:t.label}):e})),s=new Map,u=new Map;return a.forEach((function(e){s.set(e.value,e),u.set(e.value,n.get(e.value)||o.get(e.value))})),r.current.values=s,r.current.options=u,a}),[e,n]),o=t.useCallback((function(e){return n.get(e)||r.current.options.get(e)}),[n]);return[i,o]}(t.useMemo((function(){var e,t=te(re);return"combobox"!==i||null!==(e=t[0])&&void 0!==e&&e.value?t:[]}),[re,te,i]),X),ae=c(oe,2),se=ae[0],ue=ae[1],ce=t.useMemo((function(){if(!i&&1===se.length){var e=se[0];if(null===e.value&&(null===e.label||void 0===e.label))return[]}return se.map((function(e){var t;return x(x({},e),{},{label:null!==(t=e.label)&&void 0!==t?t:e.value})}))}),[i,se]),le=t.useMemo((function(){return new Set(se.map((function(e){return e.value})))}),[se]);t.useEffect((function(){if("combobox"===i){var e,t=null===(e=se[0])||void 0===e?void 0:e.value;Q(function(e){return void 0!==e&&null!==e}(t)?String(t):"")}}),[se]);var fe=Yie((function(e,t){var n,r=null!==t&&void 0!==t?t:e;return w(n={},G.value,e),w(n,G.label,r),n})),he=t.useMemo((function(){if("tags"!==i)return ee;var e=S(ee);return S(se).sort((function(e,t){return e.value<t.value?-1:1})).forEach((function(t){var n=t.value;(function(e){return X.has(e)})(n)||e.push(fe(n,t.label))})),e}),[fe,ee,X,se,i]),de=function(e,n,r,i,o){return t.useMemo((function(){if(!r||!1===i)return e;var t=n.options,a=n.label,s=n.value,u=[],c="function"===typeof i,l=r.toUpperCase(),f=c?i:function(e,n){return o?Bie(n[o],l):n[t]?Bie(n["children"!==a?a:"label"],l):Bie(n[s],l)},h=c?function(e){return Mie(e)}:function(e){return e};return e.forEach((function(e){if(e[t])if(f(r,h(e)))u.push(e);else{var n=e[t].filter((function(e){return f(r,h(e))}));n.length&&u.push(x(x({},e),{},w({},t,n)))}else f(r,h(e))&&u.push(e)})),u}),[e,i,o,r,n])}(he,G,Y,K,C),pe=t.useMemo((function(){return"tags"!==i||!Y||de.some((function(e){return e[C||"value"]===Y}))?de:[fe(Y)].concat(S(de))}),[fe,C,i,de,Y]),ve=t.useMemo((function(){return T?S(pe).sort((function(e,t){return T(e,t)})):pe}),[pe,T]),me=t.useMemo((function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fieldNames,r=t.childrenAsData,i=[],o=Oie(n,!1),a=o.label,s=o.value,u=o.options;function c(e,t){e.forEach((function(e){var n=e[a];if(t||!(u in e)){var o=e[s];i.push({key:Rie(e,i.length),groupOption:t,data:e,label:n,value:o})}else{var l=n;void 0===l&&r&&(l=e.label),i.push({key:Rie(e,i.length),group:!0,data:e,label:l}),c(e[u],!0)}}))}return c(e,!1),i}(ve,{fieldNames:G,childrenAsData:W})}),[ve,G,W]),ge=function(e){var t=te(e);if(ie(t),V&&(t.length!==se.length||t.some((function(e,t){var n;return(null===(n=se[t])||void 0===n?void 0:n.value)!==(null===e||void 0===e?void 0:e.value)})))){var n=B?t:t.map((function(e){return e.value})),r=t.map((function(e){return Mie(ue(e.value))}));V(q?n:n[0],q?r:r[0])}},ye=c(t.useState(null),2),be=ye[0],_e=ye[1],we=c(t.useState(0),2),ke=we[0],xe=we[1],Ee=void 0!==N?N:"combobox"!==i,Se=t.useCallback((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.source,o=void 0===r?"keyboard":r;xe(t),s&&"combobox"===i&&null!==e&&"keyboard"===o&&_e(String(e))}),[s,i]),Te=function(e,t,n){var r=function(){var t,n=ue(e);return[B?{label:null===n||void 0===n?void 0:n[G.label],value:e,key:null!==(t=null===n||void 0===n?void 0:n.key)&&void 0!==t?t:e}:e,Mie(n)]};if(t&&m){var i=c(r(),2),o=i[0],a=i[1];m(o,a)}else if(!t&&g&&"clear"!==n){var s=c(r(),2),u=s[0],l=s[1];g(u,l)}},Ce=Yie((function(e,t){var n,r=!q||t.selected;n=r?q?[].concat(S(se),[e]):[e]:se.filter((function(t){return t.value!==e})),ge(n),Te(e,r),"combobox"===i?_e(""):Fie&&!p||(Q(""),_e(""))})),Ie=t.useMemo((function(){var e=!1!==O&&!1!==k;return x(x({},$),{},{flattenOptions:me,onActiveValue:Se,defaultActiveFirstOption:Ee,onSelect:Ce,menuItemSelectedIcon:R,rawValues:le,fieldNames:G,virtual:e,listHeight:D,listItemHeight:F,childrenAsData:W})}),[$,me,Se,Ee,Ce,R,le,G,O,k,D,F,W]);return t.createElement(voe.Provider,{value:Ie},t.createElement(zie,b({},U,{id:H,prefixCls:a,ref:n,omitDomProps:koe,mode:i,displayValues:ce,onDisplayValuesChange:function(e,t){ge(e);var n=t.type,r=t.values;"remove"!==n&&"clear"!==n||r.forEach((function(e){Te(e.value,!1,n)}))},searchValue:Y,onSearch:function(e,t){if(Q(e),_e(null),"submit"!==t.source)"blur"!==t.source&&("combobox"===i&&ge(e),null===h||void 0===h||h(e));else{var n=(e||"").trim();if(n){var r=Array.from(new Set([].concat(S(le),[n])));ge(r),Te(n,!0),Q("")}}},autoClearSearchValue:p,onSearchSplit:function(e){var t=e;"tags"!==i&&(t=e.map((function(e){var t=J.get(e);return null===t||void 0===t?void 0:t.value})).filter((function(e){return void 0!==e})));var n=Array.from(new Set([].concat(S(le),S(t))));ge(n),n.forEach((function(e){Te(e,!0)}))},dropdownMatchSelectWidth:k,OptionList:_oe,emptyOptions:!me.length,activeValue:be,activeDescendantId:"".concat(H,"_list_").concat(ke)})))}));var Eoe=xoe;Eoe.Option=Jie,Eoe.OptGroup=$ie;var Soe=Eoe,Toe=function(){return t.createElement("svg",{width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},t.createElement("g",{fill:"none",fillRule:"evenodd"},t.createElement("g",{transform:"translate(24 31.67)"},t.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),t.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),t.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),t.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),t.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),t.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),t.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},t.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),t.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},Coe=function(){var e=c(ia(),2)[1],n=e.colorFill,r=e.colorFillTertiary,i=e.colorFillQuaternary,o=e.colorBgContainer,a=(0,t.useMemo)((function(){return{borderColor:new qo(n).onBackground(o).toHexString(),shadowColor:new qo(r).onBackground(o).toHexString(),contentColor:new qo(i).onBackground(o).toHexString()}}),[n,r,i,o]),s=a.borderColor,u=a.shadowColor,l=a.contentColor;return t.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},t.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},t.createElement("ellipse",{fill:u,cx:"32",cy:"33",rx:"32",ry:"7"}),t.createElement("g",{fillRule:"nonzero",stroke:s},t.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),t.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:l}))))},Ioe=function(e){var t,n=e.componentCls,r=e.margin,i=e.marginXS,o=e.marginXL;return w({},n,(w(t={marginInline:i,fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"center"},n+"-image",{height:e.emptyImgHeight,marginBottom:i,opacity:e.opacityImage,img:{height:"100%"},svg:{height:"100%",margin:"auto"}}),w(t,n+"-footer",{marginTop:r}),w(t,"&-normal",w({marginBlock:o,color:e.colorTextDisabled},n+"-image",{height:e.emptyImgHeightMD})),w(t,"&-small",w({marginBlock:i,color:e.colorTextDisabled},n+"-image",{height:e.emptyImgHeightSM})),t))},Poe=la("Empty",(function(e){var t=e.componentCls,n=e.controlHeightLG,r=sa(e,{emptyImgCls:t+"-img",emptyImgHeight:2.5*n,emptyImgHeightMD:n,emptyImgHeightSM:.875*n});return[Ioe(r)]})),Aoe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Noe=t.createElement(Toe,null),Roe=t.createElement(Coe,null),Ooe=function(e){var n=e.className,r=e.prefixCls,i=e.image,o=void 0===i?Noe:i,a=e.description,s=e.children,u=e.imageStyle,l=Aoe(e,["className","prefixCls","image","description","children","imageStyle"]),f=t.useContext(Tn),h=f.getPrefixCls,d=f.direction,p=h("empty",r),v=c(Poe(p),2),m=v[0],g=v[1];return m(t.createElement(Ms,{componentName:"Empty"},(function(e){var r,i="undefined"!==typeof a?a:e.description,c="string"===typeof i?i:"empty",f=null;return f="string"===typeof o?t.createElement("img",{alt:c,src:o}):o,t.createElement("div",b({className:wt()(g,p,(r={},w(r,p+"-normal",o===Roe),w(r,p+"-rtl","rtl"===d),r),n)},l),t.createElement("div",{className:p+"-image",style:u},f),i&&t.createElement("div",{className:p+"-description"},i),s&&t.createElement("div",{className:p+"-footer"},s))})))};Ooe.PRESENTED_IMAGE_DEFAULT=Noe,Ooe.PRESENTED_IMAGE_SIMPLE=Roe;var Moe=Ooe,Doe=function(e){return t.createElement(Cn,null,(function(n){var r=(0,n.getPrefixCls)("empty");switch(e){case"Table":case"List":return t.createElement(Moe,{image:Moe.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return t.createElement(Moe,{image:Moe.PRESENTED_IMAGE_SIMPLE,className:r+"-small"});default:return t.createElement(Moe,null)}}))},Loe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},Foe=function(e,n){return t.createElement(Ha,x(x({},e),{},{ref:n,icon:Loe}))};Foe.displayName="CheckOutlined";var joe=t.forwardRef(Foe),zoe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"},Boe=function(e,n){return t.createElement(Ha,x(x({},e),{},{ref:n,icon:zoe}))};Boe.displayName="CloseOutlined";var Voe=t.forwardRef(Boe),Uoe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},Hoe=function(e,n){return t.createElement(Ha,x(x({},e),{},{ref:n,icon:Uoe}))};Hoe.displayName="DownOutlined";var qoe=t.forwardRef(Hoe);var Woe=new Di("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),Koe=new Di("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),Goe=new Di("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),Zoe=new Di("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),Yoe=new Di("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),Qoe=new Di("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),$oe=new Di("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),Xoe=new Di("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),Joe={"slide-up":{inKeyframes:Woe,outKeyframes:Koe},"slide-down":{inKeyframes:Goe,outKeyframes:Zoe},"slide-left":{inKeyframes:Yoe,outKeyframes:Qoe},"slide-right":{inKeyframes:$oe,outKeyframes:Xoe}},eae=function(e,t){var n,r=e.antCls+"-"+t,i=Joe[t],o=i.inKeyframes,a=i.outKeyframes;return[Hi(r,o,a,e.motionDurationMid),(n={},w(n,"\n      "+r+"-enter,\n      "+r+"-appear\n    ",{opacity:0,animationTimingFunction:e.motionEaseOutQuint}),w(n,r+"-leave",{animationTimingFunction:e.motionEaseInQuint}),n)]},tae=new Di("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),nae=new Di("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),rae=new Di("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),iae=new Di("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),oae=new Di("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),aae=new Di("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),sae={"move-up":{inKeyframes:new Di("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),outKeyframes:new Di("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}})},"move-down":{inKeyframes:tae,outKeyframes:nae},"move-left":{inKeyframes:rae,outKeyframes:iae},"move-right":{inKeyframes:oae,outKeyframes:aae}},uae=function(e,t){var n,r=e.antCls+"-"+t,i=sae[t],o=i.inKeyframes,a=i.outKeyframes;return[Hi(r,o,a,e.motionDurationMid),(n={},w(n,"\n        "+r+"-enter,\n        "+r+"-appear\n      ",{opacity:0,animationTimingFunction:e.motionEaseOutCirc}),w(n,r+"-leave",{animationTimingFunction:e.motionEaseInOutCirc}),n)]},cae=function(e){var t=e.controlPaddingHorizontal;return{position:"relative",display:"block",minHeight:e.controlHeight,padding:(e.controlHeight-e.fontSize*e.lineHeight)/2+"px "+t+"px",color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,boxSizing:"border-box"}},lae=function(e){var t,n,r,i=e.antCls,o=e.componentCls,a=o+"-item";return[w({},o+"-dropdown",b(b({},ao(e)),(r={position:"absolute",top:-9999,zIndex:e.zIndexPopup,boxSizing:"border-box",padding:e.paddingXXS,overflow:"hidden",fontSize:e.fontSize,fontVariant:"initial",backgroundColor:e.colorBgElevated,borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary},w(r,"\n            &"+i+"-slide-up-enter"+i+"-slide-up-enter-active&-placement-bottomLeft,\n            &"+i+"-slide-up-appear"+i+"-slide-up-appear-active&-placement-bottomLeft\n          ",{animationName:Woe}),w(r,"\n            &"+i+"-slide-up-enter"+i+"-slide-up-enter-active&-placement-topLeft,\n            &"+i+"-slide-up-appear"+i+"-slide-up-appear-active&-placement-topLeft\n          ",{animationName:Goe}),w(r,"&"+i+"-slide-up-leave"+i+"-slide-up-leave-active&-placement-bottomLeft",{animationName:Koe}),w(r,"&"+i+"-slide-up-leave"+i+"-slide-up-leave-active&-placement-topLeft",{animationName:Zoe}),w(r,"&-hidden",{display:"none"}),w(r,"&-empty",{color:e.colorTextDisabled}),w(r,a+"-empty",b(b({},cae(e)),{color:e.colorTextDisabled})),w(r,""+a,b(b({},cae(e)),{cursor:"pointer",transition:"background "+e.motionDurationSlow+" ease",borderRadius:e.borderRadiusSM,"&-group":{color:e.colorTextDescription,fontSize:e.fontSizeSM,cursor:"default"},"&-option":(n={display:"flex","&-content":b({flex:"auto"},oo),"&-state":{flex:"none"}},w(n,"&-active:not("+a+"-option-disabled)",{backgroundColor:e.controlItemBgHover}),w(n,"&-selected:not("+a+"-option-disabled)",w({color:e.colorText,fontWeight:e.fontWeightStrong,backgroundColor:e.controlItemBgActive},a+"-option-state",{color:e.colorPrimary})),w(n,"&-disabled",(t={},w(t,"&"+a+"-option-selected",{backgroundColor:e.colorBgContainerDisabled}),w(t,"color",e.colorTextDisabled),w(t,"cursor","not-allowed"),t)),w(n,"&-grouped",{paddingInlineStart:2*e.controlPaddingHorizontal}),n)})),w(r,"&-rtl",{direction:"rtl"}),r))),eae(e,"slide-up"),eae(e,"slide-down"),uae(e,"move-up"),uae(e,"move-down")]};function fae(e){var t=e.controlHeightSM,n=(e.controlHeight-t)/2-e.lineWidth;return[n,Math.ceil(n/2)]}function hae(e,t){var n,r,i,o,a,s=e.componentCls,u=e.iconCls,l=s+"-selection-overflow",f=e.controlHeightSM,h=c(fae(e),1)[0];return w({},s+"-multiple"+(t?s+"-"+t:""),(w(a={fontSize:e.fontSize},l,{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"}}),w(a,s+"-selector",(w(n={display:"flex",flexWrap:"wrap",alignItems:"center",padding:h-2+"px 4px",borderRadius:e.borderRadius},s+"-show-search&",{cursor:"text"}),w(n,s+"-disabled&",{background:e.colorBgContainerDisabled,cursor:"not-allowed"}),w(n,"&:after",{display:"inline-block",width:0,margin:"2px 0",lineHeight:f+"px",content:'"\\a0"'}),n)),w(a,"\n        &"+s+"-show-arrow "+s+"-selector,\n        &"+s+"-allow-clear "+s+"-selector\n      ",{paddingInlineEnd:e.fontSizeIcon+e.controlPaddingHorizontal}),w(a,s+"-selection-item",(w(i={position:"relative",display:"flex",flex:"none",boxSizing:"border-box",maxWidth:"100%",height:f,marginTop:2,marginBottom:2,lineHeight:f-2*e.lineWidth+"px",background:e.colorFillSecondary,border:e.lineWidth+"px solid "+e.colorSplit,borderRadius:e.borderRadiusSM,cursor:"default",transition:"font-size "+e.motionDurationSlow+", line-height "+e.motionDurationSlow+", height "+e.motionDurationSlow,userSelect:"none",marginInlineEnd:4,paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS/2},s+"-disabled&",{color:e.colorTextDisabled,borderColor:e.colorBorder,cursor:"not-allowed"}),w(i,"&-content",{display:"inline-block",marginInlineEnd:e.paddingXS/2,overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"}),w(i,"&-remove",b(b({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"},"& &-icon":{display:"block"}}),(w(r={display:"inline-block",color:e.colorIcon,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer"},"> "+u,{verticalAlign:"-0.2em"}),w(r,"&:hover",{color:e.colorIconHover}),r))),i)),w(a,l+"-item + "+l+"-item",w({},s+"-selection-search",{marginInlineStart:0})),w(a,s+"-selection-search",(w(o={display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:e.inputPaddingHorizontalBase-h},"\n          &-input,\n          &-mirror\n        ",{height:f,fontFamily:e.fontFamily,lineHeight:f+"px",transition:"all "+e.motionDurationSlow}),w(o,"&-input",{width:"100%",minWidth:4.1}),w(o,"&-mirror",{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}),o)),w(a,s+"-selection-placeholder ",{position:"absolute",top:"50%",insetInlineStart:e.inputPaddingHorizontalBase,insetInlineEnd:e.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:"all "+e.motionDurationSlow}),a))}function dae(e){var t,n=e.componentCls,r=sa(e,{controlHeight:e.controlHeightSM,controlHeightSM:e.controlHeightXS,borderRadius:e.borderRadiusSM,borderRadiusSM:e.borderRadiusXS}),i=c(fae(e),2)[1];return[hae(e),hae(r,"sm"),w({},n+"-multiple"+n+"-sm",(t={},w(t,n+"-selection-placeholder",{insetInlineStart:e.controlPaddingHorizontalSM-e.lineWidth,insetInlineEnd:"auto"}),w(t,n+"-selection-search",{marginInlineStart:i}),t)),hae(sa(e,{fontSize:e.fontSizeLG,controlHeight:e.controlHeightLG,controlHeightSM:e.controlHeight,borderRadius:e.borderRadiusLG,borderRadiusSM:e.borderRadius}),"lg")]}function pae(e,t){var n,r,i,o,a=e.componentCls,s=e.inputPaddingHorizontalBase,u=e.borderRadius,c=e.controlHeight-2*e.lineWidth,l=Math.ceil(1.25*e.fontSize);return w({},a+"-single"+(t?a+"-"+t:""),(w(o={fontSize:e.fontSize},a+"-selector",b(b({},ao(e)),(w(n={display:"flex",borderRadius:u},a+"-selection-search",{position:"absolute",top:0,insetInlineStart:s,insetInlineEnd:s,bottom:0,"&-input":{width:"100%"}}),w(n,"\n          "+a+"-selection-item,\n          "+a+"-selection-placeholder\n        ",{padding:0,lineHeight:c+"px",transition:"all "+e.motionDurationSlow,"@supports (-moz-appearance: meterbar)":{lineHeight:c+"px"}}),w(n,a+"-selection-item",{position:"relative",userSelect:"none"}),w(n,a+"-selection-placeholder",{transition:"none",pointerEvents:"none"}),w(n,["&:after",a+"-selection-item:after",a+"-selection-placeholder:after"].join(","),{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}),n))),w(o,"\n        &"+a+"-show-arrow "+a+"-selection-item,\n        &"+a+"-show-arrow "+a+"-selection-placeholder\n      ",{paddingInlineEnd:l}),w(o,"&"+a+"-open "+a+"-selection-item",{color:e.colorTextPlaceholder}),w(o,"&:not("+a+"-customize-input)",w({},a+"-selector",(w(r={width:"100%",height:e.controlHeight,padding:"0 "+s+"px"},a+"-selection-search-input",{height:c}),w(r,"&:after",{lineHeight:c+"px"}),r))),w(o,"&"+a+"-customize-input",w({},a+"-selector",(w(i={"&:after":{display:"none"}},a+"-selection-search",{position:"static",width:"100%"}),w(i,a+"-selection-placeholder",{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:"0 "+s+"px","&:after":{display:"none"}}),i))),o))}function vae(e){var t,n=e.componentCls,r=e.controlPaddingHorizontalSM-e.lineWidth;return[pae(e),pae(sa(e,{controlHeight:e.controlHeightSM,borderRadius:e.borderRadiusSM}),"sm"),w({},n+"-single"+n+"-sm",w({},"&:not("+n+"-customize-input)",(t={},w(t,n+"-selection-search",{insetInlineStart:r,insetInlineEnd:r}),w(t,n+"-selector",{padding:"0 "+r+"px"}),w(t,"&"+n+"-show-arrow "+n+"-selection-search",{insetInlineStart:"auto",insetInlineEnd:r+1.5*e.fontSize}),w(t,"\n            &"+n+"-show-arrow "+n+"-selection-item,\n            &"+n+"-show-arrow "+n+"-selection-placeholder\n          ",{paddingInlineEnd:1.5*e.fontSize}),t))),pae(sa(e,{controlHeight:e.controlHeightLG,fontSize:e.fontSizeLG,borderRadius:e.borderRadiusLG}),"lg")]}var mae=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t.componentCls,o=t.borderHoverColor,a=t.outlineColor,s=t.antCls,u=r?w({},i+"-selector",{borderColor:o}):{};return w({},e,w({},"&:not("+i+"-disabled):not("+i+"-customize-input):not("+s+"-pagination-size-changer)",b(b({},u),(w(n={},i+"-focused& "+i+"-selector",{borderColor:o,boxShadow:"0 0 0 "+t.controlOutlineWidth+"px "+a,borderInlineEndWidth:t.controlLineWidth+"px !important",outline:0}),w(n,"&:hover "+i+"-selector",{borderColor:o,borderInlineEndWidth:t.controlLineWidth+"px !important"}),n))))},gae=function(e){var t,n,r,i=e.componentCls,o=e.inputPaddingHorizontalBase,a=e.iconCls;return w(r={},i,b(b({},ao(e)),(w(n={position:"relative",display:"inline-block",cursor:"pointer"},"&:not(&-customize-input) "+i+"-selector",b(b({},function(e){var t,n,r=e.componentCls;return w(n={position:"relative",backgroundColor:e.colorBgContainer,border:e.lineWidth+"px "+e.lineType+" "+e.colorBorder,transition:"all "+e.motionDurationMid+" "+e.motionEaseInOut,input:{cursor:"pointer"}},r+"-show-search&",{cursor:"text",input:{cursor:"auto"}}),w(n,r+"-disabled&",(w(t={color:e.colorTextDisabled,background:e.colorBgContainerDisabled,cursor:"not-allowed"},r+"-multiple&",{background:e.colorBgContainerDisabled}),w(t,"input",{cursor:"not-allowed"}),t)),n}(e)),function(e){return w({},e.componentCls+"-selection-search-input",{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}})}(e))),w(n,i+"-selection-item",b({flex:1,fontWeight:"normal"},oo)),w(n,i+"-selection-placeholder",b(b({},oo),{flex:1,color:e.colorTextPlaceholder,pointerEvents:"none"})),w(n,i+"-arrow",b(b({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"},"& &-icon":{display:"block"}}),(w(t={position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:o,height:e.fontSizeIcon,marginTop:-e.fontSizeIcon/2,color:e.colorTextDisabled,fontSize:e.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center"},a,w({verticalAlign:"top",transition:"transform "+e.motionDurationSlow,"> svg":{verticalAlign:"top"}},"&:not("+i+"-suffix)",{pointerEvents:"auto"})),w(t,i+"-disabled &",{cursor:"not-allowed"}),w(t,"> *:not(:last-child)",{marginInlineEnd:8}),t))),w(n,i+"-clear",{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:o,zIndex:1,display:"inline-block",width:e.fontSizeIcon,height:e.fontSizeIcon,marginTop:-e.fontSizeIcon/2,color:e.colorTextDisabled,fontSize:e.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",background:e.colorBgContainer,cursor:"pointer",opacity:0,transition:"color "+e.motionDurationMid+" ease, opacity "+e.motionDurationSlow+" ease",textRendering:"auto","&:before":{display:"block"},"&:hover":{color:e.colorTextDescription}}),w(n,"&:hover",w({},i+"-clear",{opacity:1})),n))),w(r,i+"-has-feedback",w({},i+"-clear",{insetInlineEnd:o+e.fontSize+e.paddingXXS})),r},yae=function(e){var t,n=e.componentCls;return[w({},n,b((t={},w(t,"&-borderless "+n+"-selector",{backgroundColor:"transparent !important",borderColor:"transparent !important",boxShadow:"none !important"}),w(t,"&&-in-form-item",{width:"100%"}),t),wl(e,n,n+"-selector",n+"-focused"))),gae(e),vae(e),dae(e),lae(e),w({},n+"-rtl",{direction:"rtl"}),mae(n,sa(e,{borderHoverColor:e.colorPrimaryHover,outlineColor:e.controlOutline})),mae(n+"-status-error",sa(e,{borderHoverColor:e.colorErrorHover,outlineColor:e.colorErrorOutline}),!0),mae(n+"-status-warning",sa(e,{borderHoverColor:e.colorWarningHover,outlineColor:e.colorWarningOutline}),!0)]},bae=la("Select",(function(e,t){var n=sa(e,{rootPrefixCls:t.rootPrefixCls,inputPaddingHorizontalBase:e.controlPaddingHorizontal-1});return[yae(n)]}),(function(e){return{zIndexPopup:e.zIndexPopupBase+50}})),_ae=b({},Os.Modal);function wae(e){_ae=e?b(b({},_ae),e):b({},Os.Modal)}var kae=function(e){var n=e.locale,r=void 0===n?{}:n,i=e.children;e._ANT_MARK__;t.useEffect((function(){return wae(r&&r.Modal),function(){wae()}}),[r]);var o=t.useMemo((function(){return b(b({},r),{exist:!0})}),[r]);return t.createElement(Ps.Provider,{value:o},i)},xae="-ant-"+Date.now()+"-"+Math.random();function Eae(e,t){var n=function(e,t){var n={},r=function(e,t){var n=e.clone();return(n=(null===t||void 0===t?void 0:t(n))||n).toRgbString()},i=function(e,t){var i=new qo(e),o=Fo(i.toRgbString());n[t+"-color"]=r(i),n[t+"-color-disabled"]=o[1],n[t+"-color-hover"]=o[4],n[t+"-color-active"]=o[6],n[t+"-color-outline"]=i.clone().setAlpha(.2).toRgbString(),n[t+"-color-deprecated-bg"]=o[0],n[t+"-color-deprecated-border"]=o[2]};if(t.primaryColor){i(t.primaryColor,"primary");var o=new qo(t.primaryColor),a=Fo(o.toRgbString());a.forEach((function(e,t){n["primary-"+(t+1)]=e})),n["primary-color-deprecated-l-35"]=r(o,(function(e){return e.lighten(35)})),n["primary-color-deprecated-l-20"]=r(o,(function(e){return e.lighten(20)})),n["primary-color-deprecated-t-20"]=r(o,(function(e){return e.tint(20)})),n["primary-color-deprecated-t-50"]=r(o,(function(e){return e.tint(50)})),n["primary-color-deprecated-f-12"]=r(o,(function(e){return e.setAlpha(.12*e.getAlpha())}));var s=new qo(a[0]);n["primary-color-active-deprecated-f-30"]=r(s,(function(e){return e.setAlpha(.3*e.getAlpha())})),n["primary-color-active-deprecated-d-02"]=r(s,(function(e){return e.darken(2)}))}return t.successColor&&i(t.successColor,"success"),t.warningColor&&i(t.warningColor,"warning"),t.errorColor&&i(t.errorColor,"error"),t.infoColor&&i(t.infoColor,"info"),("\n  :root {\n    "+Object.keys(n).map((function(t){return"--"+e+"-"+t+": "+n[t]+";"})).join("\n")+"\n  }\n  ").trim()}(e,t);It()&&mr(n,xae+"-dynamic-theme")}var Sae=n(9613),Tae=n.n(Sae);var Cae,Iae=function(e){var t=c(ia(),2);return Pi({theme:t[0],token:t[1],hashId:"",path:["ant-design-icons",e]},(function(){return[w({},"."+e,{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"},"& &-icon":{display:"block"}})]}))},Pae=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Aae=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","pagination","form"];function Nae(){return Cae||"ant"}var Rae=function(e){var n,r,i=e.children,o=e.csp,a=e.autoInsertSpaceInButton,s=e.form,u=e.locale,c=e.componentSize,l=e.direction,f=e.space,h=e.virtual,d=e.dropdownMatchSelectWidth,p=e.legacyLocale,v=e.parentContext,m=e.iconPrefixCls,g=e.theme,y=e.componentDisabled,_=t.useCallback((function(t,n){var r=e.prefixCls;if(n)return n;var i=r||v.getPrefixCls("");return t?i+"-"+t:i}),[v.getPrefixCls,e.prefixCls]),w=m||v.iconPrefixCls||Sn,k=w!==v.iconPrefixCls,x=o||v.csp,E=Iae(w),S=function(e,t){var n=e||{},r=!1!==n.inherit&&t?t:na,i=Et((function(){if(!e)return t;var i=b({},r.components);return Object.keys(e.components||{}).forEach((function(t){i[t]=b(b({},i[t]),e.components[t])})),b(b(b({},r),n),{token:b(b({},r.token),n.token),components:i})}),[n,r],(function(e,t){return e.some((function(e,n){var r=t[n];return!Tae()(e,r)}))}));return i}(g,v.theme),T=b(b({},v),{csp:x,autoInsertSpaceInButton:a,locale:u||p,direction:l,space:f,virtual:h,dropdownMatchSelectWidth:d,getPrefixCls:_,iconPrefixCls:w,theme:S});Aae.forEach((function(t){var n=e[t];n&&(T[t]=n)}));var C=Et((function(){return T}),T,(function(e,t){var n=Object.keys(e),r=Object.keys(t);return n.length!==r.length||n.some((function(n){return e[n]!==t[n]}))})),I=t.useMemo((function(){return{prefixCls:w,csp:x}}),[w,x]),P=k?E(i):i,A={};u&&(A=(null===(n=u.Form)||void 0===n?void 0:n.defaultValidateMessages)||(null===(r=Os.Form)||void 0===r?void 0:r.defaultValidateMessages)||{}),s&&s.validateMessages&&(A=b(b({},A),s.validateMessages)),Object.keys(A).length>0&&(P=t.createElement(at,{validateMessages:A},i)),u&&(P=t.createElement(kae,{locale:u,_ANT_MARK__:"internalMark"},P)),(w||x)&&(P=t.createElement(Pa.Provider,{value:I},P)),c&&(P=t.createElement(qn,{size:c},P));var N=t.useMemo((function(){var e=S||{},t=e.algorithm,n=e.token,r=Pae(e,["algorithm","token"]),i=t&&(!Array.isArray(t)||t.length>0)?Bi(t):void 0;return b(b({},r),{theme:i,token:b(b({},Ho),n)})}),[S]);return g&&(P=t.createElement(ra.Provider,{value:N},P)),void 0!==y&&(P=t.createElement(Vn,{disabled:y},P)),t.createElement(Tn.Provider,{value:C},P)},Oae=function(e){return t.createElement(Ms,null,(function(n,r,i){return t.createElement(Cn,null,(function(n){return t.createElement(Rae,b({parentContext:n,legacyLocale:i},e))}))}))};Oae.ConfigContext=Tn,Oae.SizeContext=Wn,Oae.config=function(e){var t=e.prefixCls,n=e.iconPrefixCls,r=e.theme;void 0!==t&&(Cae=t),void 0!==n&&n,r&&Eae(Nae(),r)};var Mae=Oae;var Dae=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Lae="SECRET_COMBOBOX_MODE_DO_NOT_USE",Fae=function(e,n){var r,i,o=e.prefixCls,a=e.bordered,s=void 0===a||a,u=e.className,l=e.getPopupContainer,f=e.popupClassName,h=e.dropdownClassName,d=e.listHeight,p=void 0===d?256:d,v=e.placement,m=e.listItemHeight,g=void 0===m?24:m,y=e.size,_=e.disabled,k=e.notFoundContent,x=e.status,E=e.showArrow,S=Dae(e,["prefixCls","bordered","className","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","showArrow"]),T=t.useContext(Tn),C=T.getPopupContainer,I=T.getPrefixCls,P=T.renderEmpty,A=T.direction,N=T.virtual,R=T.dropdownMatchSelectWidth,O=t.useContext(Wn),M=I("select",o),D=I(),L=Wl(M,A),F=L.compactSize,j=L.compactItemClassnames,z=c(bae(M),2),B=z[0],V=z[1],U=t.useMemo((function(){var e=S.mode;if("combobox"!==e)return e===Lae?"combobox":e}),[S.mode]),H="multiple"===U||"tags"===U,q=void 0!==E?E:S.loading||!(H||"combobox"===U),W=(0,t.useContext)(yt),K=W.status,G=W.hasFeedback,Z=W.isFormItemInput,Y=W.feedbackIcon,Q=Zl(K,x);i=void 0!==k?k:"combobox"===U?null:(P||Doe)("Select");var $=function(e){var n=e.suffixIcon,r=e.clearIcon,i=e.menuItemSelectedIcon,o=e.removeIcon,a=e.loading,s=e.multiple,u=e.hasFeedback,c=e.prefixCls,l=e.showArrow,f=e.feedbackIcon,h=null!==r&&void 0!==r?r:t.createElement(Za,null),d=function(e){return t.createElement(t.Fragment,null,!1!==l&&e,u&&f)},p=null;if(void 0!==n)p=d(n);else if(a)p=d(t.createElement(ts,{spin:!0}));else{var v=c+"-suffix";p=function(e){var n=e.open,r=e.showSearch;return d(n&&r?t.createElement(pf,{className:v}):t.createElement(qoe,{className:v}))}}return{clearIcon:h,suffixIcon:p,itemIcon:void 0!==i?i:s?t.createElement(joe,null):null,removeIcon:void 0!==o?o:t.createElement(Voe,null)}}(b(b({},S),{multiple:H,hasFeedback:G,feedbackIcon:Y,showArrow:q,prefixCls:M})),X=$.suffixIcon,J=$.itemIcon,ee=$.removeIcon,te=$.clearIcon,ne=pt(S,["suffixIcon","itemIcon"]),re=wt()(f||h,w({},M+"-dropdown-"+A,"rtl"===A),V),ie=F||y||O,oe=t.useContext(Un),ae=null!==_&&void 0!==_?_:oe,se=wt()((w(r={},M+"-lg","large"===ie),w(r,M+"-sm","small"===ie),w(r,M+"-rtl","rtl"===A),w(r,M+"-borderless",!s),w(r,M+"-in-form-item",Z),r),Gl(M,Q,G),j,u,V);return B(t.createElement(Soe,b({ref:n,virtual:N,dropdownMatchSelectWidth:R},ne,{transitionName:Mn(D,On(v),S.transitionName),listHeight:p,listItemHeight:g,mode:U,prefixCls:M,placement:void 0!==v?v:"rtl"===A?"bottomRight":"bottomLeft",direction:A,inputIcon:X,menuItemSelectedIcon:J,removeIcon:ee,clearIcon:te,notFoundContent:i,className:se,getPopupContainer:l||C,dropdownClassName:re,showArrow:G||E,disabled:ae})))},jae=t.forwardRef(Fae),zae=function(e,n,r){return function(i){var o=i.prefixCls,a=i.style,s=t.useRef(null),u=c(t.useState(0),2),l=u[0],f=u[1],h=c(t.useState(0),2),d=h[0],p=h[1],v=c(Vc(!1,{value:i.open}),2),m=v[0],g=v[1],y=(0,t.useContext(Tn).getPrefixCls)(n||"select",o);return t.useEffect((function(){if(g(!0),"undefined"!==typeof ResizeObserver){var e=new ResizeObserver((function(e){var t=e[0].target;f(t.offsetHeight+8),p(t.offsetWidth)})),t=setInterval((function(){var n,i=r?"."+r(y):"."+y+"-dropdown",o=null===(n=s.current)||void 0===n?void 0:n.querySelector(i);o&&(clearInterval(t),e.observe(o))}),10);return function(){clearInterval(t),e.disconnect()}}}),[]),t.createElement(Mae,{theme:{token:{motionDurationFast:"0.01s",motionDurationMid:"0.01s",motionDurationSlow:"0.01s"}}},t.createElement("div",{ref:s,style:{paddingBottom:l,position:"relative",width:"fit-content",minWidth:d}},t.createElement(e,b({},i,{style:b(b({},a),{margin:0}),open:m,visible:m,getPopupContainer:function(){return s.current}}))))}}(jae);jae.SECRET_COMBOBOX_MODE_DO_NOT_USE=Lae,jae.Option=Jie,jae.OptGroup=$ie,jae._InternalPanelDoNotUseOrYouWillBeFired=zae;var Bae=jae,Vae=[{value:"running",label:"Running"},{value:"cycling",label:"Cycling"}],Uae=function(e){var n=e.setShowOverlay,r=e.positions,i=lz().currentUser,o=null===i||void 0===i?void 0:i.uid,a=c((0,t.useState)(""),2),s=a[0],u=a[1];return(0,uz.jsxs)(Lre.section,{variants:{hidden:{opacity:0,y:"-100vw"},visible:{opacity:1,y:0,transition:{delay:.3,duration:.5}},exit:{y:"-100vw",transition:{ease:"easeInOut"}}},initial:"hidden",animate:"visible",exit:"exit",className:"d-flex  align-items-center justify-content-center vh-100 text-white",id:"overlay",children:[(0,uz.jsxs)(yl,{name:"basic",initialValues:{remember:!0},onFinish:function(e){var t=e.type,i=e.distance,a=e.duration,s=e.cadence;sz.collection("users").doc(o).update({workout:fv.firestore.FieldValue.arrayUnion({type:t,distance:i,duration:a,cadence:s,lat:r.lat,lng:r.lng,at:new Date,id:Math.random().toString(36).substr(2,9)})}),qz.success("Workout Added Successfully",{position:"top-right",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}),setTimeout((function(){n(!1)}),1500)},autoComplete:"off",className:"d-flex flex-column w-100",children:[(0,uz.jsxs)("div",{className:" d-flex align-items-center justify-content-center ",children:[(0,uz.jsxs)("div",{className:"d-flex flex-column align-items-start mx-5",children:[(0,uz.jsx)("p",{className:"mb-1",children:"Type"}),(0,uz.jsx)(yl.Item,{name:"type",children:(0,uz.jsx)(Bae,{style:{width:150},onChange:function(e){u(e)},options:Vae,placeholder:"type"})})]}),(0,uz.jsxs)("div",{className:"d-flex flex-column align-items-start mx-5",children:[(0,uz.jsx)("p",{className:"mb-1",children:"Distance"}),(0,uz.jsx)(yl.Item,{name:"distance",children:(0,uz.jsx)(Dh,{placeholder:"Km"})})]})]}),(0,uz.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[(0,uz.jsxs)("div",{className:"d-flex flex-column align-items-start mx-5",children:[(0,uz.jsx)("p",{className:"mb-1",children:"Duration"}),(0,uz.jsx)(yl.Item,{name:"duration",children:(0,uz.jsx)(Dh,{placeholder:"min"})})]}),"running"===s?(0,uz.jsxs)("div",{className:"d-flex flex-column align-items-start mx-5",children:[(0,uz.jsx)("p",{className:"mb-1",children:"Cadence"}),(0,uz.jsx)(yl.Item,{name:"cadence",children:(0,uz.jsx)(Dh,{placeholder:"step/min"})})]}):(0,uz.jsxs)("div",{className:"d-flex flex-column align-items-start mx-5",children:[(0,uz.jsx)("p",{className:"mb-1",children:"Elev Gain"}),(0,uz.jsx)(yl.Item,{name:"cadence",children:(0,uz.jsx)(Dh,{placeholder:"meters"})})]})]}),(0,uz.jsx)("button",{className:"green btn text-white w-25 mx-auto",children:"Save"})]}),(0,uz.jsx)(Mz,{})]})},Hae=function(e){var n=e.setIsAuth,r=c((0,t.useState)(!1),2),i=r[0],o=r[1],a=c((0,t.useState)([]),2),s=a[0],u=a[1];return(0,uz.jsxs)(uz.Fragment,{children:[(0,uz.jsxs)("div",{id:"home",children:[(0,uz.jsx)(jre,{setIsAuth:n,showOverlay:i}),(0,uz.jsx)(z5,{setPositions:u,setShowOverlay:o})]}),i&&(0,uz.jsx)(Uae,{positions:s,setShowOverlay:o})]})};var qae=function(){var e=c((0,t.useState)(!1),2),n=e[0],r=e[1];return(0,uz.jsx)($B,{children:(0,uz.jsx)(fz,{children:(0,uz.jsx)(ZB,{children:(0,uz.jsx)(KB,{path:"/",element:n?(0,uz.jsx)(Hae,{setIsAuth:r}):(0,uz.jsx)(Zz,{setIsAuth:r})})})})})};i.createRoot(document.getElementById("root")).render((0,uz.jsx)(t.StrictMode,{children:(0,uz.jsx)(qae,{})}))}()}();
//# sourceMappingURL=main.04cd756d.js.map